/*!
 * guide4you
 * Version: 1.3.0 (built Fri Jun 02 2017)
 * Klaus Benndorf, License: MIT (https://spdx.org/licenses/MIT.html)
 * Homepage: https://github.com/KlausBenndorf/guide4you
 *
 * This software contains (parts of) the following software packages:
 * csscolorparser v1.0.3, https://github.com/deanm/css-color-parser-js, Dean McNamee <dean@gmail.com>, License: MIT (https://spdx.org/licenses/MIT.html)
 * guide4you-proxy v1.0.0, http://www.benndorf.de, Klaus Benndorf, License: GPL-3.0+ (https://spdx.org/licenses/GPL-3.0+.html)
 * iscroll v5.2.0, http://iscrolljs.com, Matteo Spinelli <matteo@cubiq.org> (http://cubiq.org), License: MIT (https://spdx.org/licenses/MIT.html)
 * lodash v4.17.4, https://lodash.com/, John-David Dalton <john.david.dalton@gmail.com> (http://allyoucanleet.com/), License: MIT (https://spdx.org/licenses/MIT.html)
 * notifyjs-browser v0.4.2, http://notifyjs.com/, Jaime Pillora, License: MIT (https://spdx.org/licenses/MIT.html)
 * proj4 v2.3.17, https://github.com/proj4js/proj4js#readme, License: MIT (https://spdx.org/licenses/MIT.html)
 * strip-json-comments v2.0.1, https://github.com/sindresorhus/strip-json-comments#readme, Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com), License: MIT (https://spdx.org/licenses/MIT.html)
 * webpack v2.6.1, https://github.com/webpack/webpack, Tobias Koppers @sokra, License: MIT (https://spdx.org/licenses/MIT.html)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery"),require("ol")):"function"==typeof define&&define.amd?define("g4u",["jQuery","ol"],e):"object"==typeof exports?exports.g4u=e(require("jQuery"),require("ol")):t.g4u=e(t.jQuery,t.ol)}(this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=553)}([function(t,e,n){var i=n(4),r=n(32),o=n(18),a=n(19),s=n(33),l=function(t,e,n){var c,u,h,f,p=t&l.F,d=t&l.G,y=t&l.S,g=t&l.P,v=t&l.B,m=d?i:y?i[e]||(i[e]={}):(i[e]||{}).prototype,_=d?r:r[e]||(r[e]={}),b=_.prototype||(_.prototype={});d&&(n=e);for(c in n)u=!p&&m&&void 0!==m[c],h=(u?m:n)[c],f=v&&u?s(h,i):g&&"function"==typeof h?s(Function.call,h):h,m&&a(m,c,h,t&l.U),_[c]!=h&&o(_,c,f),g&&b[c]!=h&&(b[c]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){if(j.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2==0)return!0}return!1}function s(t){if(j.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2==1)return!0}return!1}function l(t,e){return e in t&&t[e]}function c(t){return"object"===(void 0===t?"undefined":k(t))?t:{}}function u(t,e){if(e in t&&t[e])return"object"!==k(t[e])?{}:t[e]}function h(t){var e=t.split("}"),n="",i=void 0;for(i=0;i<e.length-1;i+=1){var r=e[i].split("{");n+=encodeURIComponent(r[0])+"{"+r[1]+"}"}return n+=encodeURIComponent(e[i])}function f(t,e,n){var i=new RegExp("{"+e+"([^}]*)}"),r=t.match(i);if(!r)throw new Error("parameter "+e+" (enclosed in {}) not found in string "+t);if("string"===j.default.type(n))return t.replace(i,n);if("array"===j.default.type(n)){var o=r[1]||",";return t.replace(i,n.join(o))}if("number"===j.default.type(n)){for(var a=new RegExp("(?::|,)([^,])","g"),s=a.exec(r[1]),l=0;l<n;l++)s=a.exec(r[1]);return t.replace(i,s[1])}}function p(t,e){return e?f(e,"url",h(t)):t}function d(t,e){return-1===t.search(/\?/)?t+="?":t+="&",t+=e}function y(t){var e=[];return v(t,"img").each(function(){var t=this;t.complete||e.push(new Promise(function(e){(0,j.default)(t).on("load",e),(0,j.default)(t).on("error",e)}))}),Promise.all(e)}function g(t,e){var n=t.offset(),i=e.offset();return{top:n.top-i.top,left:n.left-i.left}}function v(t,e){return t.filter(e).add(t.find(e))}function m(t){L.Debug.info("superseding interactions:");var e=void 0,n=void 0,i=void 0,r=void 0;for(e in t.supersedingInteractions_){for(i=t.supersedingInteractions_[e].length,r=0,n=0;n<i;n++)t.supersedingInteractions_[e][n].getActive()&&(r+=1);L.Debug.info("  "+e+": total: "+i+" active: "+r)}L.Debug.info("default interactions:");for(e in t.defaultInteractions_){for(i=t.defaultInteractions_[e].length,r=0,n=0;n<i;n++)t.defaultInteractions_[e][n].getActive()&&(r+=1);L.Debug.info("  "+e+": total: "+i+" active: "+r)}}function _(t){return t.replace(/\/([^\/]*)(\?.*)?$/,"/")}function b(t){return t.match(/^\.\//)?b(t.replace(/^\.\//,"")):t}function w(t,e){for(var n=_(b(t)),i=b(e),r=/[^\/]+\/$/,o=/^\.\.\//;n.match(r)&&i.match(o);)n=n.replace(r,""),i=i.replace(o,"");return n+i}function M(t,e){for(var n=_(b(t)),i=b(e),r="",o=/^\/?((\/\/)|[^\/])+\//,a=void 0,s=void 0;n.match(o)&&i.match(o)&&(a=n.match(o)[0],s=i.match(o)[0],a.toUpperCase()===s.toUpperCase());)n=n.replace(o,""),i=i.replace(o,"");for(;n.match(o);)a=n.match(o)[0],n=n.replace(o,""),r+="../";return r+i}function x(t){return!!t.match(/^\/|.*:\/\//)}function S(t){var e={};do{Object.getOwnPropertyNames(t).forEach(function(n){e.hasOwnProperty(n)||(e[n]=Object.getOwnPropertyDescriptor(t,n))}),t=Object.getPrototypeOf(t)}while(t!==Object.prototype);return e}function P(t,e){var n=e.prototype.initialize,a=function(t){function e(t){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n&&n.call(o,t),o}return o(e,t),e}(t),s=S(e.prototype);for(var l in s)if("constructor"!==l&&"initialize"!==l){if(l in a.prototype)throw new Error("mixins should not overwrite methods");Object.defineProperty(a.prototype,l,s[l])}return a}function O(t){var e=t.prototype.initialize;return function(t){function n(t){i(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e&&e.call(o,t),o}return o(n,t),n}(t)}function C(t){return A.html(t).text()}Object.defineProperty(e,"__esModule",{value:!0});var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.even=a,e.odd=s,e.checkFor=l,e.asObject=c,e.getConfig=u,e.encodeTemplate=h,e.expandTemplate=f,e.addProxy=p,e.addParamToURL=d,e.finishAllImages=y,e.offset=g,e.recursiveSelect=v,e.showInteractionActivity=m,e.urlDirname=_,e.urlNormalize=b,e.urlJoin=w,e.urlRelative=M,e.urlIsAbsolute=x,e.mixin=P,e.mixinAsClass=O,e.html2Text=C;var E=n(1),j=function(t){return t&&t.__esModule?t:{default:t}}(E);n(50),n(50),n(50),n(50);var L=n(13),A=(0,j.default)("<p>")},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.keyCodes={ESCAPE:27,TAB:9,ARROW_DOWN:40,ARROW_UP:38,ENTER:13,SHIFT:16,CTRL:17},e.cssClasses={mousedown:"g4u-mouse-down",clickable:"g4u-clickable",crosshair:"g4u-crosshair",hidden:"g4u-hidden",arrow:"g4u-arrow",mobile:"g4u-mobile",desktop:"g4u-desktop",move:"g4u-move",active:"g4u-active",mainButton:"g4u-control-mainbutton",hasTooltip:"g4u-has-tooltip",upperCase:"g4u-uppercase",collapsed:"g4u-collapsed"}},function(t,e,n){var i=n(77)("wks"),r=n(49),o=n(4).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(3),r=n(148),o=n(31),a=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(40),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.Debug=function(){function t(){i(this,t)}return r(t,null,[{key:"tryOrThrow",value:function(t){try{t()}catch(t){this.error(t)}}},{key:"info",value:function(t){}},{key:"warn",value:function(t){console.warn(t)}},{key:"error",value:function(t){console.error(t)}},{key:"defaultErrorHandler",value:function(e){t.error(e),e.stack&&t.error(e.stack)}}]),t}()},function(t,e,n){var i=n(25);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Control=void 0;var i=n(2),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=n(6),a=n(133);e.Control=(0,o.mixin)(r.default.control.Control,a.ControlLogicMixin)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(11),r=n(39);t.exports=n(10)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(4),r=n(18),o=n(16),a=n(49)("src"),s=Function.toString,l=(""+s).split("toString");n(32).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||r(n,a,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var i=n(0),r=n(5),o=n(25),a=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){var i=n(58),r=n(25);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(59),r=n(39),o=n(21),a=n(31),s=n(16),l=n(148),c=Object.getOwnPropertyDescriptor;e.f=n(10)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(16),r=n(14),o=n(108)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(5);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";function i(t,e){var n=0;e=e||(0,a.default)(document);var r=!1;t.parents().each(function(n,o){(0,a.default)(o).is(e)||"absolute"===(0,a.default)(o).css("position")&&(r=!0,i((0,a.default)(o),e),i(t,(0,a.default)(o)))}),r||(e.find("*:visible").not(function(e,n){return n!==t[0]&&(0,a.default)(n).parents().is(t)}).each(function(){var t=parseInt((0,a.default)(this).css("z-index"),10);t&&n<t&&(n=t)}),t.css("z-index",n+1))}function r(t,e){t.addClass(s.cssClasses.hasTooltip).append((0,a.default)('<span role="tooltip">').html(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.getInFront=i,e.addTooltip=r;var o=n(1),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(8)},function(t,e,n){"use strict";function i(t){return h.default.isArray(t)?h.default.extend([],t):h.default.isPlainObject(t)?h.default.extend({},t):t}function r(t){return h.default.isArray(t)?h.default.extend(!0,[],t):h.default.isPlainObject(t)?h.default.extend(!0,{},t):t}function o(t,e){return h.default.extend(t,e)}function a(t,e){return h.default.extend(!0,t,e)}function s(t,e){if("object"===(void 0===e?"undefined":c(e))&&"object"===(void 0===t?"undefined":c(t))){var n=!0,i=!1,r=void 0;try{for(var o,a=Object.keys(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(!(l in t)&&l.search("Element")<0)t[l]=e[l];else if(t[l]instanceof Array){if(t[l].length===e[l].length)for(var u=0;u<t[l].length;u+=1)s(t[l][u],e[l][u]);else if(l+"Element"in e)for(var h=0;h<t[l].length;h+=1)s(t[l][h],e[l+"Element"])}else"object"===c(t[l])?s(t[l],e[l]):"object"!==c(t[l])&&"object"===c(e[l])&&t[l]&&(t[l]={},s(t[l],e[l]))}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}else t||(t=e);return t}function l(t,e){if(t.hasOwnProperty(e)){var n=t[e];return delete t[e],n}}Object.defineProperty(e,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.copy=i,e.copyDeep=r,e.merge=o,e.mergeDeep=a,e.mergeWithDefaults=s,e.take=l;var u=n(1),h=function(t){return t&&t.__esModule?t:{default:t}}(u)},function(t,e,n){var i=n(33),r=n(58),o=n(14),a=n(12),s=n(237);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var y,g,v=o(e),m=r(v),_=i(s,d,3),b=a(m.length),w=0,M=n?p(e,b):l?p(e,0):void 0;b>w;w++)if((f||w in m)&&(y=m[w],g=_(y,w,v),t))if(n)M[w]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:M.push(y)}else if(u)return!1;return h?-1:c||u?u:M}}},function(t,e,n){var i=n(0),r=n(32),o=n(5);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(17);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(164),r=n(0),o=n(77)("metadata"),a=o.store||(o.store=new(n(167))),s=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o},l=function(t,e,n){var i=s(e,n,!1);return void 0!==i&&i.has(t)},c=function(t,e,n){var i=s(e,n,!1);return void 0===i?void 0:i.get(t)},u=function(t,e,n,i){s(n,i,!0).set(t,e)},h=function(t,e){var n=s(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},f=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},p=function(t){r(r.S,"Reflect",t)};t.exports={store:a,map:s,has:l,get:c,set:u,keys:h,key:f,exp:p}},function(t,e,n){"use strict";if(n(10)){var i=n(42),r=n(4),o=n(5),a=n(0),s=n(78),l=n(115),c=n(33),u=n(41),h=n(39),f=n(18),p=n(46),d=n(40),y=n(12),g=n(48),v=n(31),m=n(16),_=n(161),b=n(57),w=n(7),M=n(14),x=n(100),S=n(43),P=n(23),O=n(44).f,C=n(117),k=n(49),E=n(9),j=n(29),L=n(68),A=n(109),T=n(118),I=n(54),N=n(74),F=n(47),B=n(93),D=n(141),z=n(11),R=n(22),$=z.f,V=R.f,G=r.RangeError,U=r.TypeError,W=r.Uint8Array,q=Array.prototype,Y=l.ArrayBuffer,X=l.DataView,H=j(0),Q=j(2),Z=j(3),K=j(4),J=j(5),tt=j(6),et=L(!0),nt=L(!1),it=T.values,rt=T.keys,ot=T.entries,at=q.lastIndexOf,st=q.reduce,lt=q.reduceRight,ct=q.join,ut=q.sort,ht=q.slice,ft=q.toString,pt=q.toLocaleString,dt=E("iterator"),yt=E("toStringTag"),gt=k("typed_constructor"),vt=k("def_constructor"),mt=s.CONSTR,_t=s.TYPED,bt=s.VIEW,wt=j(1,function(t,e){return Ct(A(t,t[vt]),e)}),Mt=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),xt=!!W&&!!W.prototype.set&&o(function(){new W(1).set({})}),St=function(t,e){if(void 0===t)throw U("Wrong length!");var n=+t,i=y(t);if(e&&!_(n,i))throw G("Wrong length!");return i},Pt=function(t,e){var n=d(t);if(n<0||n%e)throw G("Wrong offset!");return n},Ot=function(t){if(w(t)&&_t in t)return t;throw U(t+" is not a typed array!")},Ct=function(t,e){if(!(w(t)&&gt in t))throw U("It is not a typed array constructor!");return new t(e)},kt=function(t,e){return Et(A(t,t[vt]),e)},Et=function(t,e){for(var n=0,i=e.length,r=Ct(t,i);i>n;)r[n]=e[n++];return r},jt=function(t,e,n){$(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,i,r,o,a,s=M(t),l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,f=C(s);if(void 0!=f&&!x(f)){for(a=f.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(h&&l>2&&(u=c(u,arguments[2],2)),e=0,n=y(s.length),r=Ct(this,n);n>e;e++)r[e]=h?u(s[e],e):s[e];return r},At=function(){for(var t=0,e=arguments.length,n=Ct(this,e);e>t;)n[t]=arguments[t++];return n},Tt=!!W&&o(function(){pt.call(new W(1))}),It=function(){return pt.apply(Tt?ht.call(Ot(this)):Ot(this),arguments)},Nt={copyWithin:function(t,e){return D.call(Ot(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return K(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return B.apply(Ot(this),arguments)},filter:function(t){return kt(this,Q(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return J(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){H(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Ot(this),arguments)},lastIndexOf:function(t){return at.apply(Ot(this),arguments)},map:function(t){return wt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Ot(this),arguments)},reduceRight:function(t){return lt.apply(Ot(this),arguments)},reverse:function(){for(var t,e=this,n=Ot(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return Z(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ut.call(Ot(this),t)},subarray:function(t,e){var n=Ot(this),i=n.length,r=g(t,i);return new(A(n,n[vt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,y((void 0===e?i:g(e,i))-r))}},Ft=function(t,e){return kt(this,ht.call(Ot(this),t,e))},Bt=function(t){Ot(this);var e=Pt(arguments[1],1),n=this.length,i=M(t),r=y(i.length),o=0;if(r+e>n)throw G("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Dt={entries:function(){return ot.call(Ot(this))},keys:function(){return rt.call(Ot(this))},values:function(){return it.call(Ot(this))}},zt=function(t,e){return w(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Rt=function(t,e){return zt(t,e=v(e,!0))?h(2,t[e]):V(t,e)},$t=function(t,e,n){return!(zt(t,e=v(e,!0))&&w(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?$(t,e,n):(t[e]=n.value,t)};mt||(R.f=Rt,z.f=$t),a(a.S+a.F*!mt,"Object",{getOwnPropertyDescriptor:Rt,defineProperty:$t}),o(function(){ft.call({})})&&(ft=pt=function(){return ct.call(this)});var Vt=p({},Nt);p(Vt,Dt),f(Vt,dt,Dt.values),p(Vt,{slice:Ft,set:Bt,constructor:function(){},toString:ft,toLocaleString:It}),jt(Vt,"buffer","b"),jt(Vt,"byteOffset","o"),jt(Vt,"byteLength","l"),jt(Vt,"length","e"),$(Vt,yt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,l){l=!!l;var c=t+(l?"Clamped":"")+"Array",h="Uint8Array"!=c,p="get"+t,d="set"+t,g=r[c],v=g||{},m=g&&P(g),_=!g||!s.ABV,M={},x=g&&g.prototype,C=function(t,n){var i=t._d;return i.v[p](n*e+i.o,Mt)},k=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[d](n*e+r.o,i,Mt)},E=function(t,e){$(t,e,{get:function(){return C(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};_?(g=n(function(t,n,i,r){u(t,g,c,"_d");var o,a,s,l,h=0,p=0;if(w(n)){if(!(n instanceof Y||"ArrayBuffer"==(l=b(n))||"SharedArrayBuffer"==l))return _t in n?Et(g,n):Lt.call(g,n);o=n,p=Pt(i,e);var d=n.byteLength;if(void 0===r){if(d%e)throw G("Wrong length!");if((a=d-p)<0)throw G("Wrong length!")}else if((a=y(r)*e)+p>d)throw G("Wrong length!");s=a/e}else s=St(n,!0),a=s*e,o=new Y(a);for(f(t,"_d",{b:o,o:p,l:a,e:s,v:new X(o)});h<s;)E(t,h++)}),x=g.prototype=S(Vt),f(x,"constructor",g)):N(function(t){new g(null),new g(t)},!0)||(g=n(function(t,n,i,r){u(t,g,c);var o;return w(n)?n instanceof Y||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==r?new v(n,Pt(i,e),r):void 0!==i?new v(n,Pt(i,e)):new v(n):_t in n?Et(g,n):Lt.call(g,n):new v(St(n,h))}),H(m!==Function.prototype?O(v).concat(O(m)):O(v),function(t){t in g||f(g,t,v[t])}),g.prototype=x,i||(x.constructor=g));var j=x[dt],L=!!j&&("values"==j.name||void 0==j.name),A=Dt.values;f(g,gt,!0),f(x,_t,c),f(x,bt,!0),f(x,vt,g),(l?new g(1)[yt]==c:yt in x)||$(x,yt,{get:function(){return c}}),M[c]=g,a(a.G+a.W+a.F*(g!=v),M),a(a.S,c,{BYTES_PER_ELEMENT:e,from:Lt,of:At}),"BYTES_PER_ELEMENT"in x||f(x,"BYTES_PER_ELEMENT",e),a(a.P,c,Nt),F(c),a(a.P+a.F*xt,c,{set:Bt}),a(a.P+a.F*!L,c,Dt),a(a.P+a.F*(x.toString!=ft),c,{toString:ft}),a(a.P+a.F*o(function(){new g(1).slice()}),c,{slice:Ft}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:It}),I[c]=L?j:A,i||L||f(x,dt,A)}}else t.exports=function(){}},function(t,e,n){var i=n(182),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var i=n(49)("meta"),r=n(7),o=n(16),a=n(11).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(5)(function(){return l(Object.preventExtensions({}))}),u=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},f=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},p=function(t){return c&&d.NEED&&l(t)&&!o(t,i)&&u(t),t},d=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:f,onFreeze:p}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e){t.exports=!1},function(t,e,n){var i=n(3),r=n(154),o=n(96),a=n(108)("IE_PROTO"),s=function(){},l=function(){var t,e=n(95)("iframe"),i=o.length;for(e.style.display="none",n(98).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(156),r=n(96).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(156),r=n(96);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(19);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){"use strict";var i=n(4),r=n(11),o=n(10),a=n(9)("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(40),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){},function(t,e,n){function i(t,e){var n=o(t,e);return r(n)?n:void 0}var r=n(469),o=n(499);t.exports=i},function(t,e,n){var i=n(9)("unscopables"),r=Array.prototype;void 0==r[i]&&n(18)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){var i=n(33),r=n(150),o=n(100),a=n(3),s=n(12),l=n(117),c={},u={},e=t.exports=function(t,e,n,h,f){var p,d,y,g,v=f?function(){return t}:l(t),m=i(n,h,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=s(t.length);p>_;_++)if((g=e?m(a(d=t[_])[0],d[1]):m(t[_]))===c||g===u)return g}else for(y=v.call(t);!(d=y.next()).done;)if((g=r(y,m,d.value,e))===c||g===u)return g};e.BREAK=c,e.RETURN=u},function(t,e){t.exports={}},function(t,e,n){var i=n(11).f,r=n(16),o=n(9)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(0),r=n(25),o=n(5),a=n(113),s="["+a+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),h=function(t,e,n){var r={},s=o(function(){return!!a[t]()||l[t]()!=l}),c=r[t]=s?e(f):a[t];n&&(r[n]=c),i(i.P+i.F*s,"String",r)},f=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=h},function(t,e,n){var i=n(24),r=n(9)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(24);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(36),r=i.Symbol;t.exports=r},function(t,e,n){function i(t){return null==t?void 0===t?l:s:c&&c in Object(t)?o(t):a(t)}var r=n(60),o=n(496),a=n(525),s="[object Null]",l="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=i},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.RewireMixin=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(133),h=n(8),f=n(6);e.RewireMixin=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),a(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.singleButton=!1,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,t),this.rewire()}},{key:"rewire",value:function(){(0,f.recursiveSelect)(this.get$Element(),"button[title]").each(function(){var t=(0,c.default)(this).attr("title");(0,c.default)(this).addClass(h.cssClasses.hasTooltip).removeAttr("title").append("<span role='tooltip'>"+t+"</span>")})}}]),e}(u.ControlLogicMixin)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Window=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(2),c=i(l),u=n(1),h=i(u),f=n(6),p=n(27),d=n(8),y=n(446),g=i(y);n(438);e.Window=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.className_=t.hasOwnProperty("className")?t.className:"g4u-window",n.classNameBody_=n.className_+"-content",n.classNameButtonClose_=n.className_+"-button-close",n.$element_=(0,h.default)("<div>").addClass(n.className_).on("click",function(t){return t.stopPropagation()}),n.$positionWrapper_=(0,h.default)("<div>").addClass(n.className_+"-inner-position"),n.$scrollWrapper_=(0,h.default)("<div>").addClass(n.className_+"-scroll-wrap"),n.$body_=(0,h.default)("<div>").addClass(n.classNameBody_),n.$button_=(0,h.default)("<button>").addClass(n.classNameButtonClose_),n.$element_.append(n.$button_).append(n.$positionWrapper_.append(n.$scrollWrapper_.append(n.$body_))).addClass(d.cssClasses.hidden),t.hasOwnProperty("id")&&n.$element_.attr("id",t.id),n.$button_.on("click",function(){return n.setVisible(!1)}),n.draggable_=!t.hasOwnProperty("draggable")||t.draggable,n.fixedPosition_=!0===t.fixedPosition,n.map_=t.map,n.$context_=(0,h.default)(n.map_.getTarget());var i=n.draggable_;return n.map_.asSoonAs("ready",!0,function(){n.map_.on("resize",function(){return n.updateSize(!0)});var t=function(){n.map_.get("mobile")?(n.draggable_=!1,n.setIScrollEnabled_(!0)):(n.draggable_=i,n.setIScrollEnabled_(!1)),n.updateSize()};t(),n.map_.on("change:mobile",t)}),n.makeWindowDraggable_(),n.$element_.on("mousedown",function(){n.getInFront()}),n.visible_=!1,n.setVisible(!!t.hasOwnProperty("visible")&&t.visible),n.shieldActivated_=!1,n}return a(e,t),s(e,[{key:"makeWindowDraggable_",value:function(){var t=this,e=0,n=0,i=!1,r=!1;this.$context_.on("mousemove",function(o){r&&(o.clientY-n===t.$element_.offset().top&&o.clientX-e===t.$element_.offset().left||(i=!0,t.$element_.css("position","absolute"),t.$element_.offset({top:o.clientY-n,left:o.clientX-e}),o.stopPropagation()))}),this.$button_.on("mousedown",function(i){!(0,h.default)(i.target).is("input, textarea")&&t.draggable_&&(e=i.clientX-t.$element_.offset().left,n=i.clientY-t.$element_.offset().top,r=!0)}),this.$element_.get(0).addEventListener("click",function(e){i&&t.draggable_&&(i=!1,e.preventDefault(),e.stopPropagation())},!0),this.$context_.on("mouseup",function(){r=!1})}},{key:"setIScrollEnabled_",value:function(t){t?this.scroll_||(this.scroll_=new g.default(this.$scrollWrapper_.get(0),{mouseWheel:!0,scrollbars:!0,momentum:!1,interactiveScrollbars:!0,click:!0,keyBindings:!0,disablePointer:!0,disableTouch:!1,disableMouse:!0,eventPassthrough:!1})):(this.scroll_&&(this.scroll_.scrollTo(0,0,0),this.scroll_.destroy(),this.$body_.removeAttr("style")),this.scroll_=null)}},{key:"getInFront",value:function(){(0,p.getInFront)(this.$element_,this.$context_)}},{key:"setVisible",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.visible_;i!==t&&(t?(this.$element_.removeClass(d.cssClasses.hidden),this.map_.get("mobile")?(this.map_.get("shield").setActive(!0),this.map_.get("shield").add$OnTop(this.$element_,{findParentWindow:!1}),this.shieldActivated_=!0,this.map_.get("history").push(function(){return e.setVisible(!1,!1)})):this.map_.get("shield").getActive()||this.getInFront()):(this.shieldActivated_&&(n?this.map_.get("history").pop():(this.map_.get("shield").setActive(!1),this.map_.get("shield").remove$OnTop(this.$element_),this.shieldActivated_=!1)),this.$element_.addClass(d.cssClasses.hidden),this.$element_.css("top",""),this.$element_.css("left","")),this.visible_=t,this.updateSize(!0),this.dispatchEvent({type:"change:visible",oldValue:i,newValue:t}))}},{key:"getVisible",value:function(){return this.visible_}},{key:"get$Body",value:function(){return this.$body_}},{key:"get$Element",value:function(){return this.$element_}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;if(this.getVisible()){if(this.map_.get("mobile")){e=10;var n=this.$context_.innerWidth()-2*e,i=this.$context_.innerHeight()-2*e;this.get$Body().css("max-height",""),this.$element_.css("width",n),this.$element_.css("height",i);var r=this.$context_.offset();this.$element_.css("left",e+r.left),this.$element_.css("top",e+r.top)}else{e=50;var o=this.$context_.innerWidth()-2*e,a=this.$context_.innerHeight()-2*e,s=this.$element_.css("position"),l=this.$element_.css("top"),c=this.$element_.css("left");this.$element_.css("position",""),this.$element_.css("top",""),this.$element_.css("left",""),this.$element_.css("width",""),this.$element_.css("height",""),this.get$Body().css("max-height",""),this.$element_.css("position","fixed"),this.$element_.css("top","0px"),this.$element_.css("left","0px"),this.$element_.css("width","auto"),this.$element_.css("height","auto");var u=this.$element_.outerWidth(),h=this.$element_.outerHeight(),p=Math.min(u,o),y=Math.min(h,a);this.$element_.css("width",p),this.$element_.css("height",y);var g=parseInt(this.get$Body().css("padding-top").split("px")[0])+parseInt(this.get$Body().css("padding-bottom").split("px")[0]);if(this.get$Body().css("max-height",this.get$Element().innerHeight()-this.$button_.outerHeight()-g),this.$element_.css("position",s),t&&!this.fixedPosition_){l=this.$element_.css("top"),c=this.$element_.css("left");var v=(0,f.offset)(this.$context_,this.$element_),m=(this.$context_.width()-p)/2,_=e,b="auto"===l?0:parseInt(l),w="auto"===c?0:parseInt(c);this.$element_.css("top",b+v.top+_),this.$element_.css("left",w+v.left+m)}else this.$element_.css("top",l),this.$element_.css("left",c)}0===this.get$Body().children(":not(."+d.cssClasses.hidden+")").length&&this.$element_.addClass(d.cssClasses.hidden),this.scroll_&&this.scroll_.refresh()}}}]),e}(c.default.Object)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GroupLayer=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(2),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(66),h=n(6);e.GroupLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),o=new WeakMap;return n.getLayers().on("add",function(t){var e=t.element;e.provideMap&&e.provideMap(n.getProvidedMap()),o.set(e,e.on("change:visible",function(){n.dispatchEvent({type:"change:childVisible",child:e})}))}),n.getLayers().on("remove",function(t){var e=t.element;e.provideMap&&e.provideMap(null),c.default.Observable.unByKey(o.get(e)),o.delete(e)}),n}return o(e,t),a(e,[{key:"provideMap",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"provideMap",this).call(this,t),this.getLayers().forEach(function(e){e.provideMap&&e.provideMap(t)})}},{key:"recursiveForEach",value:function(t){var e=this;this.getLayers().forEach(function(n){t(n,e),n.recursiveForEach&&n.recursiveForEach(t)})}},{key:"forEachOn",value:function(t,n){var i=this;this.recursiveForEach(function(r){r.on(t,n),r instanceof e&&(i.getLayers().on("add",function(e){e.element.on(t,n)}),i.getLayers().on("remove",function(e){e.element.un(t,n)}))})}},{key:"countChildrenVisible",value:function(){for(var t=this.getLayersArray(),n=0,i=0,r=t.length;i<r;i++)t[i]instanceof e?n+=t[i].countChildrenVisible():t[i].getVisible()&&(n+=1);return n}},{key:"countChildren",value:function(){for(var t=this.getLayersArray(),n=0,i=0,r=t.length;i<r;i++)t[i]instanceof e?n+=t[i].countChildren():n+=1;return n}},{key:"getLayersArray",value:function(){return this.getLayers().getArray()}},{key:"getLength",value:function(){return this.getLayers().getLength()}},{key:"isParentOf",value:function(t){var e=!1;return this.recursiveForEach(function(n){t===n&&(e=!0)}),e}},{key:"getIds",value:function(){for(var t=[this.get("id")],e=this.getLayersArray(),n=0,i=e.length;n<i;n++)e[n].getIds?t=t.concat(e[n].getIds()):t.push(e[n].get("id"));return t}},{key:"getAttributions",value:function(){var t=[];return this.recursiveForEach(function(e){if(e.getVisible()&&e.getSource){var n=e.getSource().getAttributions();n&&(t=t.concat(n))}}),t}},{key:"removeLayerById",value:function(t){for(var e=this.getLayers(),n=0;n<e.getLength();n++){if(e.item(n).get("id")===t)return e.removeAt(n);if(e.item(n).removeLayerById){var i=e.item(n).removeLayerById(t);if(i)return i}}}},{key:"getLayerById",value:function(t){for(var e=this.getLayers(),n=0;n<e.getLength();n++){if(e.item(n).get("id")===t)return e.item(n);if(e.item(n).getLayerById){var i=e.item(n).getLayerById(t);if(i)return i}}}},{key:"removeLayer",value:function(t){var e=this.getLayers().remove(t);return e||this.getLayers().forEach(function(n){!e&&n.removeLayer&&(e=n.removeLayer(t))}),e}},{key:"getIdsVisibilities",value:function(){var t={};return this.recursiveForEach(function(e){e.get("id")&&(t[e.get("id")]=e.getVisible())}),t}},{key:"setIdsVisibilities",value:function(t){this.recursiveForEach(function(e){e.get("id")&&e.setVisible(t[e.get("id")])})}},{key:"containsLayer",value:function(t){return this.getLayers().getArray().some(function(e){return e===t||(e.containsLayer?e.containsLayer(t):void 0)})}}]),e}((0,h.mixin)(c.default.layer.Group,u.ProvideMapMixin))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.ProvideMapMixin=function(){function t(){i(this,t)}return r(t,[{key:"provideMap",value:function(t){this.providedMap_=t}},{key:"getProvidedMap",value:function(){return this.providedMap_}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.VectorLayer=void 0;var a=n(2),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(91),c=n(6),u=n(66);e.VectorLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.on("change:visible",function(){n.getSource().setRefreshing&&n.getSource().setRefreshing(n.getVisible())}),n.set("mutators",t.mutators||[]),n}return o(e,t),e}((0,c.mixin)((0,c.mixin)(s.default.layer.Vector,u.ProvideMapMixin),l.LayerLoadProcessCountMixin))},function(t,e,n){var i=n(21),r=n(12),o=n(48);t.exports=function(t){return function(e,n,a){var s,l=i(e),c=r(l.length),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){"use strict";var i=n(4),r=n(0),o=n(19),a=n(46),s=n(38),l=n(53),c=n(41),u=n(7),h=n(5),f=n(74),p=n(55),d=n(99);t.exports=function(t,e,n,y,g,v){var m=i[t],_=m,b=g?"set":"add",w=_&&_.prototype,M={},x=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(v||w.forEach&&!h(function(){(new _).entries().next()}))){var S=new _,P=S[b](v?{}:-0,1)!=S,O=h(function(){S.has(1)}),C=f(function(t){new _(t)}),k=!v&&h(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});C||(_=e(function(e,n){c(e,_,t);var i=d(new m,e,_);return void 0!=n&&l(n,g,i[b],i),i}),_.prototype=w,w.constructor=_),(O||k)&&(x("delete"),x("has"),g&&x("get")),(k||P)&&x(b),v&&w.clear&&delete w.clear}else _=y.getConstructor(e,t,g,b),a(_.prototype,n),s.NEED=!0;return p(_,t),M[t]=_,r(r.G+r.W+r.F*(_!=m),M),v||y.setStrong(_,t,g),_}},function(t,e,n){"use strict";var i=n(18),r=n(19),o=n(5),a=n(25),s=n(9);t.exports=function(t,e,n){var l=s(t),c=n(a,l,""[t]),u=c[0],h=c[1];o(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,u),i(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){"use strict";var i=n(3);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(7),r=n(24),o=n(9)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(9)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){t.exports=n(42)||!n(5)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(4)[t]})},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(4),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,n){for(var i,r=n(4),o=n(18),a=n(49),s=a("typed_array"),l=a("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[f[h++]])?(o(i.prototype,s,!0),o(i.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=n(511),o=n(512),a=n(513),s=n(514),l=n(515);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=l,t.exports=i},function(t,e,n){function i(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}var r=n(124);t.exports=i},function(t,e,n){function i(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}var r=n(508);t.exports=i},function(t,e,n){var i=n(51),r=i(Object,"create");t.exports=r},function(t,e,n){function i(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var r=n(87),o=1/0;t.exports=i},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function i(t){return null!=t&&o(t.length)&&!r(t)}var r=n(188),o=n(126);t.exports=i},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function i(t){return"symbol"==typeof t||o(t)&&r(t)==a}var r=n(61),o=n(62),a="[object Symbol]";t.exports=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.G4UMap=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=n(2),h=i(u),f=n(1),p=i(f),d=n(128),y=i(d),g=n(203);n(232);var v=n(195),m=n(28),_=n(8),b=n(222),w=n(13);n(427);e.G4UMap=function(t){function e(t,n,i){function a(t){return p.default.ajax({url:t,dataType:"text"}).then(function(e){try{return JSON.parse((0,y.default)(e))}catch(e){w.Debug.error("The config file "+t+" couldn't be parsed."),w.Debug.error(e)}}).fail(function(e){w.Debug.error("The config file "+t+" couldn't be loaded."),w.Debug.error(e)})}var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r(this,e);var c={},u={},h=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{controls:[],interactions:[],view:null}));if(h.set("guide4youVersion","v1.3.0"),h.defaultInteractions_=new Map,h.supersedingInteractions_=new Map,h.modules_=[],h.set("ready",!1),h.on(["change:ready","change:ready:ui","change:ready:layers"],function(t){h.get(t.key)&&h.dispatchEvent(t.key)}),l.modules&&h.addModules(l.modules),l.mutators&&h.on("change:featurePopup",function(){var t=h.get("featurePopup"),e=!0,n=!1,i=void 0;try{for(var r,o=Object.keys(l.mutators)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;t.registerMutator(a,l.mutators[a])}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}),"string"==typeof t&&"#"!==t[0]?h.setTarget((0,p.default)("#"+t).get(0)):h.setTarget((0,p.default)(t).get(0)),(0,p.default)(h.getTarget()).on("contextmenu",function(t){(0,p.default)(t.target).is("input[type=text]")||(0,p.default)(t.target).is("textarea")||t.preventDefault()}),(0,p.default)(h.getTarget()).children().addClass(_.cssClasses.desktop),"object"===(void 0===n?"undefined":s(n)))c=n;else{if("string"!=typeof n)throw new Error("Unrecognised type for parameter configOrFileName!");h.set("configFileName",n),h.set("defaultLayerConfigFileName",i)}if("object"===(void 0===i?"undefined":s(i)))u=i;else{if("string"!=typeof i)throw new Error("Unrecognised type for parameter layerConfigOrFileName!");h.set("layerConfigFileName",i)}h.dispatchEvent("beforeConfigLoad"),h.set("mapConfigReady",!1),h.set("layerConfigReady",!1);var f=[],d=h.get("configFileName");d&&f.push(a(d).then(function(t){c=t}));var M=h.get("layerConfigFileName");return M&&f.push(a(M).then(function(t){u=t})),Promise.all(f).then(function(){h.set("mapConfigReady",!0),h.set("layerConfigReady",!0),c=(0,m.mergeWithDefaults)(c,b.defaults.config),h.set("mapConfig",c),h.set("layerConfig",u);var t=0;h.on("change:configFileName",function(e){h.set("ready",!1),t++,h.oldMapConfigs_=h.oldMapConfigs_||{},h.oldMapConfigs_[e.oldValue]=h.get("mapConfig"),h.oldMapConfigs_.hasOwnProperty(h.get("configFileName"))?h.set("mapConfig",h.oldMapConfigs_[h.get("configFileName")]):(h.set("mapConfigReady",!1),a(h.get("configFileName")).then(function(t){h.set("mapConfigReady",!0),h.set("mapConfig",t)}).always(function(){0===--t&&h.set("ready",!0)}))}),h.on("change:layerConfigFileName",function(e){h.set("ready",!1),t++,h.oldLayerConfigs_=h.oldLayerConfigs_||{},h.oldLayerConfigs_[e.oldValue]=h.get("layerConfig"),h.oldLayerConfigs_.hasOwnProperty(h.get("layerConfigFileName"))?h.set("layerConfig",h.oldLayerConfigs_[h.get("layerConfigFileName")]):(h.set("layerConfigReady",!1),a(h.get("layerConfigFileName")).then(function(t){h.set("layerConfigReady",!0),h.set("layerConfig",t)}).always(function(){0===--t&&h.set("ready",!0)}))});var e=void 0;if(l.localiser)h.set("localiser",l.localiser);else{var n={};if(c.hasOwnProperty("languageSettings")){var i=c.languageSettings;n.currentLanguage=i.currentLanguage,i.hasOwnProperty("defaultLanguage")&&(n.defaultLanguage=i.defaultLanguage),i.hasOwnProperty("languageFile")&&(n.languageFile=i.languageFile),i.hasOwnProperty("availableLanguages")&&(n.availableLanguages=i.availableLanguages)}var r=new v.L10N(n);h.set("localiser",r),e=r.ajaxGetLanguageFile()}return h.asSoonAs("ready",!0,function(){h.get("localiser").on("change:language",function(){var t=h.getLayerGroup().getIdsVisibilities();h.get("configurator").configureLayers(),h.get("configurator").configureUI(),h.getLayerGroup().setIdsVisibilities(t)})}),h.dispatchEvent("afterConfigLoad"),e}).then(function(){h.set("configurator",new g.MapConfigurator(h)),h.dispatchEvent("afterConfiguring"),h.get("ready:ui")&&h.get("ready:layers")&&h.set("ready",!0),h.on(["change:ready:ui","change:ready:layers"],function(t){h.get(t.key)||h.set("ready",!1),h.get("ready:ui")&&h.get("ready:layers")&&h.set("ready",!0)})}).catch(w.Debug.defaultErrorHandler),h}return a(e,t),l(e,[{key:"getControlsByName",value:function(t){return this.controlsByName[t]||[]}},{key:"addModule",value:function(t){t.setMap(this),this.modules_.push(t)}},{key:"addModules",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;this.addModule(a)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"getModules",value:function(){return this.modules_}},{key:"removeInteraction",value:function(t){var n=void 0;this.defaultInteractions_.forEach(function(e){(n=e.indexOf(t))>-1&&e.splice(n,1)}),this.supersedingInteractions_.forEach(function(e){(n=e.indexOf(t))>-1&&e.splice(n,1)}),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeInteraction",this).call(this,t)}},{key:"removeInteractions",value:function(){for(;this.getInteractions()&&this.getInteractions().getLength();){var t=!0,e=!1,n=void 0;try{for(var i,r=this.getInteractions().getArray()[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;this.removeInteraction(o)}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}}}},{key:"addInteraction",value:function(){throw new Error("Use addDefaultInteraction or addSupersedingInteraction")}},{key:"addDefaultInteraction",value:function(t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=t.split(" ")[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;this.defaultInteractions_.has(l)?this.defaultInteractions_.get(l).push(n):this.defaultInteractions_.set(l,[n])}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addInteraction",this).call(this,n)}},{key:"deactivateInteractions",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.defaultInteractions_.get(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setActive(!1)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var c,u=this.supersedingInteractions_.get(t)[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){c.value.setActive(!1)}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}}},{key:"activateInteractions",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.getDefaultInteractions(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setActive(!0)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"getDefaultInteractions",value:function(t){return this.defaultInteractions_.get(t)}},{key:"addSupersedingInteraction",value:function(t,n){var i=this,r=t.split(" "),o=function(){var t=!0,e=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value,c=!0,u=!1,h=void 0;try{for(var f,p=i.supersedingInteractions_.get(l)[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var d=f.value;n!==d&&d.setActive(!1)}}catch(t){u=!0,h=t}finally{try{!c&&p.return&&p.return()}finally{if(u)throw h}}if(i.defaultInteractions_.get(l)){var y=!0,g=!1,v=void 0;try{for(var m,_=i.defaultInteractions_.get(l)[Symbol.iterator]();!(y=(m=_.next()).done);y=!0){m.value.setActive(!1)}}catch(t){g=!0,v=t}finally{try{!y&&_.return&&_.return()}finally{if(g)throw v}}}}}catch(t){e=!0,o=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw o}}},a=function(){var t=!0,e=!1,n=void 0;try{for(var o,a=r[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(i.defaultInteractions_.get(s)){var l=!0,c=!1,u=void 0;try{for(var h,f=i.defaultInteractions_.get(s)[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){h.value.setActive(!0)}}catch(t){c=!0,u=t}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}}}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}},s=!0,l=!1,u=void 0;try{for(var h,f=r[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var p=h.value;this.supersedingInteractions_.has(p)?this.supersedingInteractions_.get(p).push(n):this.supersedingInteractions_.set(p,[n])}}catch(t){l=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}n.getActive()&&o(),n.on("change:active",function(t){t.oldValue!==n.getActive()&&(n.getActive()?(i.activating_=!0,o(),i.activating_=!1):(i.interactionDecativationTimeout_&&clearTimeout(i.interactionDecativationTimeout_),i.activating_||(i.interactionDecativationTimeout_=setTimeout(a,500))))}),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addInteraction",this).call(this,n)}},{key:"setLayerGroup",value:function(t){t.provideMap(this),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setLayerGroup",this).call(this,t)}},{key:"removeControls",value:function(){var t=this,e=this.getControls();if(e)for(;e.getLength()>0;)e.forEach(function(e){return t.removeControl(e)}),e=this.getControls()}}]),e}(h.default.Map)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ListenerOrganizerMixin=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),s=i(a),l=n(1),c=i(l),u=function(){function t(e,n,i,o){r(this,t),this.element=e,this.event=n,this.listener=i,this.useCapture=o,e.addEventListener(n,i,o)}return o(t,[{key:"detach",value:function(){this.element.removeEventListener(this.event,this.listener,this.useCapture)}}],[{key:"usable",value:function(t){return t instanceof HTMLElement}}]),t}(),h=function(){function t(e,n,i){r(this,t),this.element=e,this.event=n,this.listener=i,e.on(n,i)}return o(t,[{key:"detach",value:function(){this.element.off(this.event,this.listener)}}],[{key:"usable",value:function(t){return t instanceof c.default}}]),t}(),f=function(){function t(e,n,i){r(this,t),this.key_=e.on(n,i)}return o(t,[{key:"detach",value:function(){s.default.Observable.unByKey(this.key_)}}],[{key:"usable",value:function(t){return t instanceof s.default.Observable}}]),t}();e.ListenerOrganizerMixin=function(){function t(){r(this,t)}return o(t,[{key:"initialize",value:function(){this.organizedListeners_=[]}},{key:"listenAt",value:function(t){var e=this;t=Array.isArray(t)?t:[t];var n={on:function(i,r,o){var a=!0,s=!1,l=void 0;try{for(var c,p=t[Symbol.iterator]();!(a=(c=p.next()).done);a=!0)for(var d=c.value,y=[u,h,f],g=0;g<y.length;g++){var v=y[g];v.usable(d)&&e.organizedListeners_.push(new v(d,i,r,o))}}catch(t){s=!0,l=t}finally{try{!a&&p.return&&p.return()}finally{if(s)throw l}}return n}};return n}},{key:"detachFrom",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.organizedListeners_.filter(function(e){return e.element===t})[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;a.detach(),this.organizedListeners_.splice(this.organizedListeners_.indexOf(a),1)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"detachAllListeners",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.organizedListeners_[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.detach()}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}this.organizedListeners_=[]}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ComposedControl=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(64),h=n(15),f=n(8);n(436),n(423);e.ComposedControl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=(0,c.default)("<div>");t.hasOwnProperty("element")?(0,c.default)(t.element).append(n):t.element=n.get(0),t.singleButton=!1;var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.controls_=[],o.$container_=n,t.hasOwnProperty("containerClassName")&&o.$container_.addClass(t.containerClassName),o.classNameItem_=o.getClassName()+"-item",o.classNameItemFirst_=o.classNameItem_+"-first",o.classNameItemLast_=o.classNameItem_+"-last",o}return o(e,t),a(e,[{key:"getControls",value:function(){return this.controls_}},{key:"get$Container",value:function(){return this.$container_}},{key:"setWindowForControl_",value:function(t){var e=new u.Window({$context:(0,c.default)(this.getMap().getViewport())});t.setWindow(e,!0)}},{key:"addClasses_",value:function(t){return t.addClass(this.classNameItemLast_),0===this.$container_.children().length?t.addClass(this.classNameItemFirst_):this.$container_.children(":last-child").removeClass(this.classNameItemLast_),t}},{key:"addControl",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getMap();if(!i)throw new Error("composed controls needs to be added to the map before they can get any controls");if(i.addControl(t),t.setWindow&&this.setWindowForControl_(t),!n.hasOwnProperty("claim")||!n.claim){if(!n.hasOwnProperty("wrap")||n.wrap){var r=(0,c.default)("<div>");n.hasOwnProperty("element")?r.append((0,c.default)(n.element)):t.set$Target(r),r.addClass(this.classNameItem_),n.hasOwnProperty("cssPosition")&&!n.cssPosition||this.addClasses_(r),t.getVisible&&!t.getVisible()&&r.addClass(f.cssClasses.hidden),this.$container_.append(r)}else(0,c.default)(n.element).addClass(this.classNameItem_),n.hasOwnProperty("cssPosition")&&!n.cssPosition||this.addClasses_((0,c.default)(n.element)),n.hasOwnProperty("element")?this.$container_.append((0,c.default)(n.element)):t.set$Target(this.$container_);t.on("change",function(){return e.changed()})}t.on("change",function(t){return e.dispatchEvent(t)}),this.controls_.push(t),this.changed()}},{key:"removeControl",value:function(t){t.get$Element().hasClass(this.classNameItem_)?t.get$Element().remove():t.get$Element().parent().hasClass(this.classNameItem_)&&t.get$Element().parent().remove(),this.controls_.splice(this.controls_.indexOf(t),1),this.getMap().removeControl(t),this.changed()}},{key:"setMap",value:function(t){var n=this;this.getMap()&&(this.controls_.forEach(function(t){n.getMap().removeControl(t)}),this.controls_=[]),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}}]),e}(h.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.LayerLoadProcessCountMixin=function(){function t(){i(this,t)}return r(t,[{key:"initialize",value:function(){var t=this;this.debounceLoadComplete_=40;var e=void 0;this.isLoading_=!1,this.loadProcessCount_=0,this.getSource().on(["vectorloadstart","tileloadstart","imageloadstart"],function(){t.loadProcessCount_+=1,t.isLoading_||(t.dispatchEvent("loadcountstart"),t.isLoading_=!0),clearTimeout(e)}),this.getSource().on(["vectorloadend","vectorloaderror","tileloadend","tileloaderror","imageloadend","imageloaderror"],function(){t.loadProcessCount_-=1,0===t.loadProcessCount_&&(e=setTimeout(function(){t.dispatchEvent("loadcountend"),t.isLoading_=!1},t.debounceLoadComplete_))})}},{key:"isLoading",value:function(){return this.isLoading_}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.SourceServerVector=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(2),c=i(l),u=n(1),h=i(u),f=n(6),p=n(28),d=n(13);e.SourceServerVector=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=(0,p.copy)(t),i=t.url;if(!i)throw new Error("No url specified for the SourceServerVector Object!");delete n.url;var a=t.type||"";delete n.type,n.loader=function(){return h.loader.apply(h,arguments)};var s=t.loadingStrategy||"ALL";if("BBOX"===s){var l=t.bboxRatio||1;if(l<1)throw new Error("The bboxRatio should not be smaller than 1");var u=[0,0,0,0];n.strategy=function(t){if(c.default.extent.containsExtent(u,t))return[t];var e=(t[2]-t[0])/2*(l-1),n=(t[3]-t[1])/2*(l-1);return u=[t[0]-e,t[1]-n,t[2]+e,t[3]+n],[u]}}else n.strategy=c.default.loadingstrategy.all;var h=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));h.localiser_=t.localiser,h.localised_=t.localised||!1,h.useProxy_=h.useProxy_=t.useProxy||!t.hasOwnProperty("useProxy")&&t.proxy,h.proxy_=t.proxy,h.loadingStrategy_=s,h.urlTemplate_=i,h.type_=a;var f={};switch(t.hasOwnProperty("defaultStyle")&&(f.defaultStyle=t.defaultStyle),t.hasOwnProperty("extractStyles")&&(f.extractStyles=t.extractStyles),h.cache_=t.cache,h.type_){case"KML":f.showPointNames=!1,h.format_=new c.default.format.KML(f),h.dataType_="text xml";break;case"GeoJSON":h.format_=new c.default.format.GeoJSON(f),h.dataType_="text json";break;default:throw new Error(h.type_+" is not supported by SourceServerVector!")}return h.refresh_=0,t.hasOwnProperty("refresh")&&h.setRefresh(t.refresh),h.refreshTimeoutId_=null,h.doClear_=!1,h.bboxProjection_=t.bboxProjection,h}return a(e,t),s(e,[{key:"loader",value:function(t,e,n){var i=this,r=this.urlTemplate_;if("BBOX"===this.loadingStrategy_){var o=c.default.proj.transformExtent(t,n,this.bboxProjection_);r=r.replace(/\{bboxleft}/,o[0].toString()),r=r.replace(/\{bboxbottom}/,o[1].toString()),r=r.replace(/\{bboxright}/,o[2].toString()),r=r.replace(/\{bboxtop}/,o[3].toString()),r=r.replace(/\{resolution}/,e.toString())}this.refresh_&&(this.refreshTimeoutId_&&clearTimeout(this.refreshTimeoutId_),this.refreshTimeoutId_=setTimeout(function(){i.doClear_=!0,i.loader(t,e,n)},this.refresh_)),this.cache_&&!this.localised_||(0,f.addParamToURL)(r,Math.random().toString(36).substring(7)),h.default.ajax({url:r,dataType:this.dataType_,beforeSend:function(){return i.dispatchEvent("vectorloadstart")},success:function(t){i.useProxy_&&/xml$/.test(i.dataType_)&&(t=i.addProxyToHrefTags(t)),i.doClear_&&(i.clear(),i.doClear_=!1);var e=i.format_.readFeatures(t,{featureProjection:n});i.addFeatures(e),i.dispatchEvent("vectorloadend")},error:function(){d.Debug.error("Getting Feature resource failed with url "+r),i.dispatchEvent("vectorloaderror")},cache:this.cache_&&!this.localised_,headers:this.localiser_?{"Accept-Language":this.localiser_.getCurrentLang()}:{}})}},{key:"setRefresh",value:function(t){this.refresh_=t>0?t:0}},{key:"addProxyToHrefTags",value:function(t){var e=t.getElementsByTagName("href"),n=void 0,i=void 0;for(n=0,i=e.length;n<i;n++)if(e[n].textContent)e[n].textContent=(0,f.addProxy)(e[n].textContent,this.proxy_);else{if(!e[n].innerHTML)throw new Error("Can't prepend proxy inside KML (textContent and innerHTML missing)");e[n].innerHTML=(0,f.addProxy)(e[n].innerHTML,this.proxy_)}return t}},{key:"getUrlTemplate",value:function(){return this.urlTemplate_}},{key:"setUrlTemplate",value:function(t){this.urlTemplate_=t}}]),e}(c.default.source.Vector)},function(t,e,n){"use strict";var i=n(14),r=n(48),o=n(12);t.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var i=n(11),r=n(39);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(7),r=n(4).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(9)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){t.exports=n(4).document&&document.documentElement},function(t,e,n){var i=n(7),r=n(107).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){var i=n(54),r=n(9)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(24);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";var i=n(43),r=n(39),o=n(55),a={};n(18)(a,n(9)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var i=n(42),r=n(0),o=n(19),a=n(18),s=n(16),l=n(54),c=n(102),u=n(55),h=n(23),f=n(9)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,y,g,v,m){c(n,e,y);var _,b,w,M=function(t){if(!p&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",S="values"==g,P=!1,O=t.prototype,C=O[f]||O["@@iterator"]||g&&O[g],k=C||M(g),E=g?S?M("entries"):k:void 0,j="Array"==e?O.entries||C:C;if(j&&(w=h(j.call(new t)))!==Object.prototype&&(u(w,x,!0),i||s(w,f)||a(w,f,d)),S&&C&&"values"!==C.name&&(P=!0,k=function(){return C.call(this)}),i&&!m||!p&&!P&&O[f]||a(O,f,k),l[e]=k,l[x]=d,g)if(_={values:S?k:M("values"),keys:v?k:M("keys"),entries:E},m)for(b in _)b in O||o(O,b,_[b]);else r(r.P+r.F*(p||P),e,_);return _}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var i=n(4),r=n(114).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(24)(a);t.exports=function(){var t,e,n,c=function(){var i,r;for(l&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(o){var u=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=u=!u}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(c)}}else n=function(){r.call(i,c)};return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i=n(7),r=n(3),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(33)(Function.call,n(22).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var i=n(77)("keys"),r=n(49);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(3),r=n(17),o=n(9)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},function(t,e,n){var i=n(40),r=n(25);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var i=n(73),r=n(25);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){"use strict";var i=n(40),r=n(25);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i,r,o,a=n(33),s=n(72),l=n(98),c=n(95),u=n(4),h=u.process,f=u.setImmediate,p=u.clearImmediate,d=u.MessageChannel,y=0,g={},v=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},m=function(t){v.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),e)},i(y),y},p=function(t){delete g[t]},"process"==n(24)(h)?i=function(t){h.nextTick(a(v,t,1))}:d?(r=new d,o=r.port2,r.port1.onmessage=m,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",m,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";var i=n(4),r=n(10),o=n(42),a=n(78),s=n(18),l=n(46),c=n(5),u=n(41),h=n(40),f=n(12),p=n(44).f,d=n(11).f,y=n(93),g=n(55),v=i.ArrayBuffer,m=i.DataView,_=i.Math,b=i.RangeError,w=i.Infinity,M=v,x=_.abs,S=_.pow,P=_.floor,O=_.log,C=_.LN2,k=r?"_b":"buffer",E=r?"_l":"byteLength",j=r?"_o":"byteOffset",L=function(t,e,n){var i,r,o,a=Array(n),s=8*n-e-1,l=(1<<s)-1,c=l>>1,u=23===e?S(2,-24)-S(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for(t=x(t),t!=t||t===w?(r=t!=t?1:0,i=l):(i=P(O(t)/C),t*(o=S(2,-i))<1&&(i--,o*=2),t+=i+c>=1?u/o:u*S(2,1-c),t*o>=2&&(i++,o/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(t*o-1)*S(2,e),i+=c):(r=t*S(2,c-1)*S(2,e),i=0));e>=8;a[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[h++]=255&i,i/=256,s-=8);return a[--h]|=128*f,a},A=function(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,c=t[l--],u=127&c;for(c>>=7;s>0;u=256*u+t[l],l--,s-=8);for(i=u&(1<<-s)-1,u>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return i?NaN:c?-w:w;i+=S(2,e),u-=a}return(c?-1:1)*i*S(2,u-e)},T=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},I=function(t){return[255&t]},N=function(t){return[255&t,t>>8&255]},F=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},B=function(t){return L(t,52,8)},D=function(t){return L(t,23,4)},z=function(t,e,n){d(t.prototype,e,{get:function(){return this[n]}})},R=function(t,e,n,i){var r=+n,o=h(r);if(r!=o||o<0||o+e>t[E])throw b("Wrong index!");var a=t[k]._b,s=o+t[j],l=a.slice(s,s+e);return i?l:l.reverse()},$=function(t,e,n,i,r,o){var a=+n,s=h(a);if(a!=s||s<0||s+e>t[E])throw b("Wrong index!");for(var l=t[k]._b,c=s+t[j],u=i(+r),f=0;f<e;f++)l[c+f]=u[o?f:e-f-1]},V=function(t,e){u(t,v,"ArrayBuffer");var n=+e,i=f(n);if(n!=i)throw b("Wrong length!");return i};if(a.ABV){if(!c(function(){new v})||!c(function(){new v(.5)})){v=function(t){return new M(V(this,t))};for(var G,U=v.prototype=M.prototype,W=p(M),q=0;W.length>q;)(G=W[q++])in v||s(v,G,M[G]);o||(U.constructor=v)}var Y=new m(new v(2)),X=m.prototype.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||l(m.prototype,{setInt8:function(t,e){X.call(this,t,e<<24>>24)},setUint8:function(t,e){X.call(this,t,e<<24>>24)}},!0)}else v=function(t){var e=V(this,t);this._b=y.call(Array(e),0),this[E]=e},m=function(t,e,n){u(this,m,"DataView"),u(t,v,"DataView");var i=t[E],r=h(e);if(r<0||r>i)throw b("Wrong offset!");if(n=void 0===n?i-r:f(n),r+n>i)throw b("Wrong length!");this[k]=t,this[j]=r,this[E]=n},r&&(z(v,"byteLength","_l"),z(m,"buffer","_b"),z(m,"byteLength","_l"),z(m,"byteOffset","_o")),l(m.prototype,{getInt8:function(t){return R(this,1,t)[0]<<24>>24},getUint8:function(t){return R(this,1,t)[0]},getInt16:function(t){var e=R(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=R(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return T(R(this,4,t,arguments[1]))},getUint32:function(t){return T(R(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return A(R(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return A(R(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){$(this,1,t,I,e)},setUint8:function(t,e){$(this,1,t,I,e)},setInt16:function(t,e){$(this,2,t,N,e,arguments[2])},setUint16:function(t,e){$(this,2,t,N,e,arguments[2])},setInt32:function(t,e){$(this,4,t,F,e,arguments[2])},setUint32:function(t,e){$(this,4,t,F,e,arguments[2])},setFloat32:function(t,e){$(this,4,t,D,e,arguments[2])},setFloat64:function(t,e){$(this,8,t,B,e,arguments[2])}});g(v,"ArrayBuffer"),g(m,"DataView"),s(m.prototype,a.VIEW,!0),e.ArrayBuffer=v,e.DataView=m},function(t,e,n){var i=n(4),r=n(32),o=n(42),a=n(163),s=n(11).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(57),r=n(9)("iterator"),o=n(54);t.exports=n(32).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(52),r=n(151),o=n(54),a=n(21);t.exports=n(103)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var i=n(51),r=n(36),o=i(r,"Map");t.exports=o},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=n(516),o=n(517),a=n(518),s=n(519),l=n(520);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=l,t.exports=i},function(t,e){function n(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function i(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var r=n(37),o=n(87),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=i},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){var i=n(465),r=n(62),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;t.exports=n},function(t,e,n){function i(t){return a(t)?r(t):o(t)}var r=n(456),o=n(472),a=n(85);t.exports=i},function(t,e,n){"use strict";function i(){return""}function r(t,e,n){return t.slice(e,n).replace(/\S/g," ")}t.exports=function(t,e){e=e||{};for(var n,o,a=!1,s=!1,l=0,c="",u=!1===e.whitespace?i:r,h=0;h<t.length;h++){if(n=t[h],o=t[h+1],!s&&'"'===n){"\\"===t[h-1]&&"\\"!==t[h-2]||(a=!a)}if(!a)if(s||n+o!=="//"){if(1===s&&n+o==="\r\n"){h++,s=!1,c+=u(t,l,h),l=h;continue}if(1===s&&"\n"===n)s=!1,c+=u(t,l,h),l=h;else{if(!s&&n+o==="/*"){c+=t.slice(l,h),l=h,s=2,h++;continue}if(2===s&&n+o==="*/"){h++,s=!1,c+=u(t,l,h+1),l=h+1;continue}}}else c+=t.slice(l,h),l=h,s=1,h++}return c+(s?u(t.substr(l)):t.substr(l))}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(n(415),n(552),n(235),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var i="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(129))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FeaturePopup=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(2),u=i(c),h=n(1),f=i(h),p=n(186),d=i(p),y=n(64),g=n(8),v=n(6),m=n(13);n(419);e.FeaturePopup=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.className_=t.hasOwnProperty("className")?t.className:"g4u-featurepopup",n.classNameFeatureName_=n.className_+"-feature-name",n.classNameFeatureDescription_=n.className_+"-feature-description",n.$name_=(0,f.default)("<h3>").addClass(n.classNameFeatureName_),n.$description_=(0,f.default)("<p>").addClass(n.classNameFeatureDescription_),n.feature_=null,n.visible_=!1,n.referencingVisibleLayers_=[],n.pixelOffset_=t.hasOwnProperty("offset")?t.offset:[0,0],n.iconSizedOffset_=t.hasOwnProperty("iconSizedOffset")?t.iconSizedOffset:[0,0],n.centerOnPopup_=!t.hasOwnProperty("centerOnPopup")||t.centerOnPopup,n.centerOnPopupInitial_=n.centerOnPopup_,n.animated_=!t.hasOwnProperty("animated")||t.animated,n.$element_=(0,f.default)("<div>").addClass(n.className_).addClass(g.cssClasses.hidden),n.overlay_=new u.default.Overlay({element:n.$element_.get(0),offset:n.pixelOffset_,positioning:t.hasOwnProperty("positioning")?t.positioning:"center-center",stopEvent:!1}),n.mutators_=new Map,n.defaultMutators_=t.mutators||[],n.useMutators_=[],n.window_=null,n.map__=null,n}return s(e,t),l(e,[{key:"setMap",value:function(t){var n=this,i=this,r=function(t){if(t.feature===i.getFeature()){var e=this;i.referencingVisibleLayers_.forEach(function(t){t.getSource()===e&&i.removeReferencingLayer_(t)})}},o=function(){!1===this.getVisible()?this.getSource().getFeatures().indexOf(i.getFeature())>-1&&i.removeReferencingLayer_(this):this.getSource().getFeatures().indexOf(i.getFeature())>-1&&i.referencingVisibleLayers_.push(this)},a=function(t){t.getSource&&t.getSource().getFeatures&&(t.getSource().on("removefeature",r),t.on("change:visible",o))},s=function(t){t.getSource&&t.getSource().getFeatures&&(t.getSource().un("removefeature",r),t.un("change:visible",o))},l=function(t){a(t.element)},c=function(){t.get("mobile")?n.centerOnPopup_=!1:n.centerOnPopup_=n.centerOnPopupInitial_};this.getMap()&&(this.getMap().removeInteraction(this.featureClick_),this.getMap().getLayerGroup().recursiveForEach(s),this.getMap().getLayerGroup().un("add",l),this.getMap().removeInteraction(this.featureHover_),this.getMap().removeOverlay(this.overlay_),this.getMap().un("change:mobile",c)),t&&(this.window_=new y.Window({draggable:!1,fixedPosition:!0,map:t}),this.window_.get$Body().append(this.$name_).append(this.$description_),this.window_.on("change:visible",function(){n.window_.getVisible()||n.setVisible(!1)}),this.$element_.append(this.window_.get$Element()),t.getDefaultInteractions("singleclick")[0].on("select",function(t){var i=t.selected.filter(e.canDisplay);i.length&&(n.onFeatureClick_(i[0],t.mapBrowserEvent.coordinate),t.target.getFeatures().remove(i[0]),t.target.changed())}),t.getDefaultInteractions("pointermove")[0].on("select",function(n){var i=n.selected.filter(e.canDisplay),r=n.deselected.filter(e.canDisplay);i.length?(0,f.default)(t.getViewport()).addClass(g.cssClasses.clickable):r.length&&(0,f.default)(t.getViewport()).removeClass(g.cssClasses.clickable)}),t.getLayerGroup().recursiveForEach(a),t.getLayerGroup().getLayers().on("add",l),t.addOverlay(this.overlay_),this.$element_.parent().addClass(this.className_+"-container"),this.window_.get$Element().on("mousewheel wheel DOMMouseScroll",function(t){t.stopPropagation(),t.preventDefault()}),c(),t.on("change:mobile",c),t.once("postrender",function(){n.window_.updateSize()})),this.map__=t}},{key:"onFeatureClick_",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.referencingVisibleLayers_=[],this.getMap().getLayerGroup().recursiveForEach(function(n){n.getVisible()&&n.getSource&&n.getSource().getFeatures&&n.getSource().getFeatures().indexOf(t)>-1&&e.referencingVisibleLayers_.push(n)}),this.setFeature(t,n),this.setVisible(!0),this.centerOnPopup_&&this.centerMapOnPopup()}},{key:"removeReferencingLayer_",value:function(t){this.referencingVisibleLayers_.splice(this.referencingVisibleLayers_.indexOf(t),1),0===this.referencingVisibleLayers_.length&&this.setVisible(!1)}},{key:"getMap",value:function(){return this.map__}},{key:"getFeature",value:function(){return this.feature_}},{key:"getLayers",value:function(){return this.referencingVisibleLayers_}},{key:"registerMutator",value:function(t,e){this.mutators_.set(t,e)}},{key:"update",value:function(){var t=this;if(this.getFeature()){var e=this.getFeature(),n=function(){t.getMap().get("localiser").isRtl()?t.window_.get$Body().prop("dir","rtl"):t.window_.get$Body().prop("dir",void 0);var n=e.get("name"),i=e.get("description");if(n&&t.$name_.html(n),i){var r=!0,o=!1,a=void 0;try{for(var s,l=t.useMutators_[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=t.mutators_.get(c);u?i=u(i):m.Debug.error("Trying to use unregistered mutator "+c)}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}t.$description_.html(i)}t.updateSize()};if(this.$name_.empty(),this.$description_.empty(),n(),e.get("observedByPopup")||(e.on("change:name",n),e.on("change:description",n),e.set("observedByPopup",!0)),this.once("change:feature",function(){e.un("change:name",n),e.un("change:description",n),e.set("observedByPopup",!1)}),!this.getMap().get("mobile")){var i=this.getMap().getView().getResolution();this.addIconSizedOffset(this.getFeature(),i)}this.referencingVisibleLayers_.length&&this.window_.get$Element().attr("data-layer-0",this.referencingVisibleLayers_[0].get("id")),this.getVisible()&&setTimeout(function(){return t.window_.updateSize()},0),this.dispatchEvent("update:content")}}},{key:"updateSize",value:function(){this.getVisible()&&this.window_&&this.window_.updateSize&&this.window_.updateSize()}},{key:"setFeature",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=this.feature_;if(t&&this.overlay_.setPosition(n||u.default.extent.getCenter(t.getGeometry().getExtent())),o!==t){this.feature_&&this.feature_.un("change:geometry",this.geometryChangeHandler_),this.feature_=t,this.useMutators_=[].concat(r(this.defaultMutators_),r(i));var a=!0,s=!1,l=void 0;try{for(var c,h=this.referencingVisibleLayers_[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var f=c.value;this.useMutators_=this.useMutators_.concat((0,d.default)(f.get("mutators")))}}catch(t){s=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}this.geometryChangeHandler_=function(){e.overlay_.setPosition(n||u.default.extent.getCenter(e.feature_.getGeometry().getExtent())),e.getVisible()&&e.update()},this.feature_.on("change:geometry",this.geometryChangeHandler_),this.dispatchEvent({type:"change:feature",oldValue:o,key:"feature"}),this.update()}}},{key:"getVisible",value:function(){return this.visible_}},{key:"setVisible",value:function(t){var e=this,n=this.visible_;n!==t&&(!0===t&&this.getFeature()?(this.$element_.removeClass(g.cssClasses.hidden),this.window_.setVisible(!0)):(this.$element_.addClass(g.cssClasses.hidden),this.window_.setVisible(!1)),this.visible_=t,this.dispatchEvent({type:"change:visible",oldValue:n,key:"visible"})),t&&setTimeout(function(){return e.window_.updateSize()},0)}},{key:"addIconSizedOffset",value:function(t,e){var n=this;if(0!==this.iconSizedOffset_[0]||0!==this.iconSizedOffset_[1]){var i=t.getStyleFunction();if(i){var r=i.call(t,e)[0];if(r){var o=r.getImage();o instanceof u.default.style.Icon&&new Promise(function(t){var e=o.getImage();e.complete&&e.src?t():(e.addEventListener("load",function(){n.getMap().render(),n.getMap().once("postcompose",t)}),o.load())}).then(function(){var t=o.getSize(),e=[n.pixelOffset_[0]+n.iconSizedOffset_[0]*t[0]*(o.getScale()||1),n.pixelOffset_[1]+n.iconSizedOffset_[1]*t[1]*(o.getScale()||1)];n.overlay_.setOffset(e)})}}}}},{key:"centerMapOnPopup",value:function(t){var e=this;t=void 0===t?this.animated_:t;var n=function(){e.window_.updateSize(),e.getMap().get("move").toPoint(e.getCenter(),{animated:t})};(0,v.finishAllImages)(this.window_.get$Body()).then(function(){e.getMap().getPixelFromCoordinate([0,0])?n():e.getMap().once("postrender",n)})}},{key:"getCenter",value:function(){var t=this.overlay_.getOffset(),e=this.getMap().getPixelFromCoordinate(this.overlay_.getPosition());e[0]+=t[0],e[1]+=t[1];var n=this.overlay_.getPositioning().split("-"),i=this.$element_.outerWidth(),r=this.$element_.outerHeight();return"left"===n[1]&&(e[0]+=i/2),"right"===n[1]&&(e[0]-=i/2),"top"===n[0]&&(e[1]+=r/2),"bottom"===n[0]&&(e[1]-=r/2),this.getMap().getCoordinateFromPixel(e)}}],[{key:"canDisplay",value:function(t){return!t.get("disabled")&&(t.get("name")||t.get("description")&&(0,f.default)(t.get("description")).text().match(/\S/))}}]),e}(u.default.Object)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Attribution=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(15),h=n(89),f=n(6),p=n(8),d=n(27);n(417);e.Attribution=function(t){function e(t){i(this,e),t.className=t.className||"g4u-attribution",t.singleButton=!1,t.element=(0,c.default)("<div>").get(0);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("Attribution tipLabel")),n.visibleAttributions_=new Map,n.createStaticHTML(t),n.setCollapsed(!0===t.collapsed),n}return o(e,t),a(e,[{key:"setCollapsed",value:function(t){var e=this.collapsed_;e!==t&&(this.collapsed_=t,this.dispatchEvent({type:"change:collapsed",oldValue:e}),this.get$Element().toggleClass(p.cssClasses.collapsed,t))}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"createStaticHTML",value:function(t){var e=this,n=(0,c.default)("<button>").on("click",function(){e.setCollapsed(!e.getCollapsed())});if((0,d.addTooltip)(n,this.getTipLabel()),this.$list_=(0,c.default)("<ul>"),this.get$Element().append(n).append(this.$list_),this.showPoweredBy_=!1!==t.poweredBy,this.showPoweredBy_){var i=void 0===t.poweredBy?'<a href="https://github.com/KlausBenndorf/guide4you" target="_blank">Guide4You</a>':this.getLocaliser().selectL10N(t.poweredBy);Array.isArray(i)||(i=[i]),this.$poweredBy_=i.map(function(t){return(0,c.default)("<li>").append(t).addClass(e.className_+"-poweredby")})}}},{key:"updateList",value:function(){var t=this;this.$list_.empty(),this.showPoweredBy_&&this.$list_.append(this.$poweredBy_),this.visibleAttributions_.forEach(function(e,n){var i=void 0;i=1===e.length?e[0]:e.slice(0,-1).join(", ")+" & "+e[e.length-1],i+=": "+n,t.$list_.append((0,c.default)("<li>").html(i))})}},{key:"forEachLayer",value:function(t){var e=this;t.getLayers?(this.listenAt(t.getLayers()).on("add",function(t){e.forEachLayer(t.element),e.updateList()}).on("remove",function(t){e.detachFrom(t.element),e.updateList()}),t.getLayers().forEach(function(t){return e.forEachLayer(t)})):(t.getVisible()&&this.addLayer(t),t.on("change:visible",function(){t.getVisible()?e.addLayer(t):e.removeLayer(t),e.updateList()}))}},{key:"addLayer",value:function(t){var e=t.getSource().getAttributions(),n=t.isBaseLayer?this.getLocaliser().localiseUsingDictionary("Attribution baseLayerLabel"):t.get("title");if(e){var i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l=l.getHTML();var c=this.visibleAttributions_.get(l);c||(c=[],this.visibleAttributions_.set(l,c)),c.push(n)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}}},{key:"removeLayer",value:function(t){var e=t.getSource().getAttributions(),n=t.isBaseLayer?this.getLocaliser().localiseUsingDictionary("Attribution baseLayerLabel"):t.get("title");if(e){var i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l=l.getHTML();var c=this.visibleAttributions_.get(l);c.splice(c.indexOf(n),1),0===c.length&&this.visibleAttributions_.delete(l)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}}},{key:"updateRtl",value:function(){this.getMap().get("localiser").isRtl()?this.$list_.prop("dir","rtl"):this.$list_.prop("dir",void 0)}},{key:"setMap",value:function(t){var n=this;this.getMap()&&this.detachAllListeners(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.forEachLayer(t.getLayerGroup()),this.updateList(),this.updateRtl(),this.listenAt(t.get("localiser")).on("change:language",function(){n.updateRtl()}))}}]),e}((0,f.mixin)(u.Control,h.ListenerOrganizerMixin))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ControlLogicMixin=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(8);e.ControlLogicMixin=function(){function t(){i(this,t)}return r(t,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.className_=t.hasOwnProperty("className")?t.className:"",t.hasOwnProperty("target")){var e=void 0;e="string"==typeof t.target&&"#"!==t.target[0]?(0,a.default)("#"+t.target):(0,a.default)(t.target),this.set$Target(e)}t.hasOwnProperty("element")&&(0,a.default)(t.element).addClass(this.className_).addClass("ol-unselectable ol-control"),this.singleButton=!0===t.singleButton,this.singleButton&&(0,a.default)(t.element).addClass(s.cssClasses.mainButton),this.controlName_=t.controlName,this.windowed_=!!t.hasOwnProperty("windowed")&&t.windowed,this.localiser_=t.localiser,this.title_=t.hasOwnProperty("title")?this.getLocaliser().selectL10N(t.title):void 0,this.tipLabel_=t.hasOwnProperty("tipLabel")?this.getLocaliser().selectL10N(t.tipLabel):void 0,this.float_=void 0===t.float?["top","left"]:t.float,this.importance_=t.importance||0}},{key:"getFloat",value:function(){return this.float_}},{key:"getImportance",value:function(){return this.importance_}},{key:"getLocaliser",value:function(){return this.localiser_}},{key:"isSingleButton",value:function(){return this.singleButton}},{key:"isWindowed",value:function(){return this.windowed_}},{key:"getControlName",value:function(){return this.controlName_}},{key:"getTitle",value:function(){return this.title_}},{key:"setTitle",value:function(t){this.title_=this.getLocaliser().selectL10N(t)}},{key:"getTipLabel",value:function(){return this.tipLabel_}},{key:"setTipLabel",value:function(t){this.tipLabel_=this.getLocaliser().selectL10N(t)}},{key:"get$Element",value:function(){return(0,a.default)(this.element)}},{key:"get$Target",value:function(){return this.catched$Target_?this.catched$Target_:this.getMap()?(this.catched$Target_=(0,a.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent"),this.catched$Target_):void 0}},{key:"getClassName",value:function(){return this.className_}},{key:"set$Target",value:function(t){this.catched$Target_=t,this.setTarget(t[0]),t.append(this.get$Element())}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MeasurementButton=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(2),u=i(c),h=n(1),f=i(h),p=n(15),d=n(8),y=n(67);n(428);e.MeasurementButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.element=(0,f.default)("<div>").get(0),t.className=t.className||"g4u-measurement",t.singleButton=!1;var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(n.style_=t.style||"#defaultStyle",!t.hasOwnProperty("type"))throw new Error("Measurement needs a type (Polygon, LineString, etc)");return n.type_=t.type,n.dimension_=t.dimension||1,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+n.dimension_+" title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+n.dimension_+" tipLabel")),n.atDrawEnd_=t.atDrawEnd,n.active_=!1,n.value_=0,n.$valueDisplay_=(0,f.default)("<span>").html("0"),n.$unitPlaceholder_=(0,f.default)("<span>"),n}return a(e,t),s(e,[{key:"setMap",value:function(t){var n=this;if(t){if(this.get$Element().append(this.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+this.dimension_+" measured")).append((0,f.default)("<span>").addClass(this.className_+"-value").append(this.$valueDisplay_).append("&nbsp;").append(this.$unitPlaceholder_)).append("<br/>").append(this.getLocaliser().localiseUsingDictionary("MeasurementButton doubleClickEndsMeasurement")),this.measurementProjection_=t.get("measurementProjection"),!this.measurementProjection_)throw new Error("MeasurementButton needs a measurementProjection. This is a global option of the map.");1===this.dimension_&&this.$unitPlaceholder_.replaceWith(this.measurementProjection_.getUnits()),2===this.dimension_&&this.$unitPlaceholder_.replaceWith(this.measurementProjection_.getUnits()+"&sup2;"),this.measurementTransform_=u.default.proj.getTransform(t.getView().getProjection(),this.measurementProjection_),this.source_=new u.default.source.Vector({projection:this.measurementProjection_}),this.layer_=new y.VectorLayer({source:this.source_}),this.layer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.layer_),t.getLayers().insertAt(1,this.layer_),this.drawInteraction_=new u.default.interaction.Draw({source:this.source_,type:this.type_,style:t.get("styling").getStyle(this.style_)}),this.drawInteraction_.setActive(!1),t.addSupersedingInteraction("singleclick dblclick pointermove",this.drawInteraction_);var i=null;this.drawInteraction_.on("drawstart",function(t){n.clear(),i=t.feature,n.dispatchEvent("measurement")}),t.on("click",function(){if(n.getActive()){var t=i.getGeometry().clone();t.applyTransform(n.measurementTransform_),1===n.dimension_?n.setValue(t.getLength()):2===n.dimension_&&n.setValue(t.getArea())}}),(0,f.default)(t.getViewport()).parent().on("keydown",function(t){t.which===d.keyCodes.ESCAPE&&n.drawInteraction_.getActive()&&n.drawInteraction_.finishDrawing()}),this.drawInteraction_.on("drawend",function(){switch(n.atDrawEnd_){case"newMeasurement":break;case"closeWindow":n.setActive(!1);break;default:n.drawInteraction_.setActive(!1)}})}else this.getMap().getLayers().remove(this.layer_),this.getMap().removeInteraction(this.drawInteraction_);l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"getValue",value:function(){return this.value_}},{key:"setValue",value:function(t){this.value_=t,this.$valueDisplay_.html(""+Math.round(t)),this.changed()}},{key:"getType",value:function(){return this.type_}},{key:"getActive",value:function(){return this.active_}},{key:"setActive",value:function(t){var e=this.active_;if(e!==t){var n={type:"change:active",oldValue:e};this.active_=t,this.layer_.setVisible(t),t?(this.getMap().get("localiser").isRtl()?this.get$Element().prop("dir","rtl"):this.get$Element().prop("dir",void 0),this.getMap().get("featurePopup").setVisible(!1),(0,f.default)(this.getMap().getViewport()).addClass(d.cssClasses.crosshair),this.clear(),this.drawInteraction_.setActive(!0)):((0,f.default)(this.getMap().getViewport()).removeClass(d.cssClasses.crosshair),this.drawInteraction_.setActive(!1)),this.dispatchEvent(n)}}},{key:"clear",value:function(){this.source_.clear(),this.setValue(0)}}]),e}(p.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PrintButton=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=n(15),u=n(27),h=n(8);n(433);e.PrintButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.className=t.className||"g4u-printbutton",t.element=(0,l.default)("<button>").get(0);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.get$Element().addClass(n.className_).addClass(h.cssClasses.mainButton).html(n.getLocaliser().localiseUsingDictionary("PrintButton title")),(0,u.addTooltip)(n.get$Element(),n.getLocaliser().localiseUsingDictionary("PrintButton tipLabel")),n.get$Element().on("click",function(){return n.onClick_()}),n}return o(e,t),a(e,[{key:"onClick_",value:function(){var t=function(t,e){(0,l.default)(t).innerWidth(e[0]),(0,l.default)(t).innerHeight(e[1])};if(function(){try{return this.getMap().getViewport().getElementsByTagName("canvas")[0].getContext("2d").getImageData(1,1,1,1),!1}catch(t){return!0}}()){var e=(0,l.default)(this.getMap().getViewport()),n=e.parent(),i=n.clone().empty().append(e);t(i,this.getMap().getSize());var r=(0,l.default)("body"),o=(0,l.default)("<body>").append(i);document.body=o.get(0),window.print(),document.body=r.get(0),n.append(e)}else{var a=window.open("","_blank"),s=(0,l.default)("<div>").append((0,l.default)("style").clone()).append((0,l.default)('link[type="text/css"]').clone()),c=this.getMap().getViewport(),u=c.parentNode.cloneNode(!0);t(u,this.getMap().getSize());var h=c.getElementsByTagName("canvas")[0];u.getElementsByTagName("canvas")[0].getContext("2d").drawImage(h,0,0);var f=a.document;f.open(),f.write("<!doctype html>"),f.write("<html>"),f.write("<head>"),f.write("<title>"),f.write(this.getLocaliser().localiseUsingDictionary("PrintButton windowTitle")),f.write("</title>"),f.write(s.html()),f.write('<script type="text/javascript">'),f.write("window.onload = function () {\n"),f.write("\twindow.focus();\n"),f.write("\tsetTimeout( function () {\n"),f.write("\t\twindow.print();\n"),f.write("\t\twindow.close();\n"),f.write("\t}, 50);\n"),f.write("};"),f.write("<\/script>"),f.write("</head>"),f.write("</html>"),f.close(),a.onload=function(){f.getElementsByTagName("body")[0].appendChild(u)},a.focus()}this.dispatchEvent("click")}}]),e}(c.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.WindowDecorator=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(15),h=n(64),f=n(27),p=n(8);n(439);e.WindowDecorator=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.element=(0,c.default)("<div>").addClass("g4u-window-decorator").get(0),t.singleButton=!1,t.className=t.component.getClassName(),t.windowed=!0;var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.$button_=(0,c.default)("<button>").addClass(p.cssClasses.mainButton),n.get$Element().append(n.$button_),n.component_=t.component,n.component_.get$Element().addClass("g4u-window-component"),n.$button_.addClass(p.cssClasses.hasTooltip).html(n.component_.getTitle()),(0,f.addTooltip)(n.$button_,n.component_.getTipLabel()),n.component_.on("change",function(){n.window_.updateSize(),n.window_.getInFront()}),n}return o(e,t),a(e,[{key:"getComponent",value:function(){return this.component_}},{key:"setMap",value:function(t){var n=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),this.getMap()&&this.getMap().removeControl(this.component_),t&&(t.addControl(this.component_),this.window_=new h.Window({map:t}),this.window_.get$Body().append(this.component_.get$Element()),this.component_.setActive?(this.$button_.on("click touch",function(){n.component_.setActive(!n.component_.getActive())}),this.component_.on("change:active",function(){var t=n.component_.getActive();n.setWindowVisible(t),n.$button_.toggleClass(p.cssClasses.active,t)}),this.window_.on("change:visible",function(t){n.window_.getVisible()||n.component_.setActive(!1),n.dispatchEvent(t)})):(this.$button_.on("click touch",function(){n.setWindowVisible(!n.window_.getVisible())}),this.window_.on("change:visible",function(t){n.dispatchEvent(t)})),this.get$Element().append(this.window_.get$Element()))}},{key:"setActive",value:function(t){this.component_.setActive?this.component_.setActive(t):this.window_.setVisible(t)}},{key:"setWindowVisible",value:function(t){this.window_.setVisible(t)}},{key:"getWindowVisible",value:function(){return this.window_.getVisible()}},{key:"getFloat",value:function(){return this.component_.getFloat()}}]),e}(u.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerMixin=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(65);e.BaseLayerMixin=function(){function t(){i(this,t)}return r(t,[{key:"initialize",value:function(t){this.groupLayer_=t.groupLayer,this.on("change:available",this.onChangeAvailable.bind(this)),this.on("change:visible",this.onChangeVisible.bind(this)),this.isBaseLayer=!0}},{key:"onChangeAvailable",value:function(){!this.get("available")&&this.getVisible()&&this.groupLayer_.recursiveForEach(function(t){t instanceof o.GroupLayer||!t.get("available")||t.setVisible(!0)})}},{key:"onChangeVisible",value:function(){var t=this;if(this.getVisible())this.groupLayer_.recursiveForEach(function(e){e instanceof o.GroupLayer||e===t||e.setVisible(!1)});else{var e=!1;this.groupLayer_.recursiveForEach(function(t){t instanceof o.GroupLayer||!t.getVisible()||(e=!0)}),e||this.setVisible(!0)}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerImage=e.ImageLayer=void 0;var i=n(2),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=n(91),a=n(137),s=n(6),l=n(66),c=e.ImageLayer=(0,s.mixin)((0,s.mixin)(r.default.layer.Image,l.ProvideMapMixin),o.LayerLoadProcessCountMixin);e.BaseLayerImage=(0,s.mixin)(c,a.BaseLayerMixin)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerTile=void 0;var i=n(2),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=n(91),a=n(6),s=n(66);e.LayerTile=(0,a.mixin)((0,a.mixin)(r.default.layer.Tile,s.ProvideMapMixin),o.LayerLoadProcessCountMixin)},function(t,e,n){var i=n(24);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){"use strict";var i=n(14),r=n(48),o=n(12);t.exports=[].copyWithin||function(t,e){var n=i(this),a=o(n.length),s=r(t,a),l=r(e,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:r(c,a))-l,a-s),h=1;for(l<s&&s<l+u&&(h=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=h,l+=h;return n}},function(t,e,n){var i=n(53);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){var i=n(17),r=n(14),o=n(58),a=n(12);t.exports=function(t,e,n,s,l){i(e);var c=r(t),u=o(c),h=a(c.length),f=l?h-1:0,p=l?-1:1;if(n<2)for(;;){if(f in u){s=u[f],f+=p;break}if(f+=p,l?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:h>f;f+=p)f in u&&(s=e(s,u[f],f,c));return s}},function(t,e,n){"use strict";var i=n(17),r=n(7),o=n(72),a=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){"use strict";var i=n(11).f,r=n(43),o=n(46),a=n(33),s=n(41),l=n(25),c=n(53),u=n(103),h=n(151),f=n(47),p=n(10),d=n(38).fastKey,y=p?"_s":"size",g=function(t,e){var n,i=d(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var h=t(function(t,i){s(t,h,e,"_i"),t._i=r(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=i&&c(i,n,t[u],t)});return o(h.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var e=this,n=g(e,t);if(n){var i=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==n&&(e._f=i),e._l==n&&(e._l=r),e[y]--}return!!n},forEach:function(t){s(this,h,"forEach");for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!g(this,t)}}),p&&i(h.prototype,"size",{get:function(){return l(this[y])}}),h},def:function(t,e,n){var i,r,o=g(t,e);return o?o.v=n:(t._l=o={i:r=d(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[y]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,n){u(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?h(0,n.k):"values"==e?h(0,n.v):h(0,[n.k,n.v]):(t._t=void 0,h(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){var i=n(57),r=n(142);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){"use strict";var i=n(46),r=n(38).getWeak,o=n(3),a=n(7),s=n(41),l=n(53),c=n(29),u=n(16),h=c(5),f=c(6),p=0,d=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,e){return h(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,i){s(t,c,e,"_i"),t._i=p++,t._l=void 0,void 0!=i&&l(i,n,t[o],t)});return i(c.prototype,{delete:function(t){if(!a(t))return!1;var e=r(t);return!0===e?d(this).delete(t):e&&u(e,this._i)&&delete e[this._i]},has:function(t){if(!a(t))return!1;var e=r(t);return!0===e?d(this).has(t):e&&u(e,this._i)}}),c},def:function(t,e,n){var i=r(o(e),!0);return!0===i?d(t).set(e,n):i[t._i]=n,t},ufstore:d}},function(t,e,n){t.exports=!n(10)&&!n(5)(function(){return 7!=Object.defineProperty(n(95)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(7),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){var i=n(3);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var i=n(45),r=n(76),o=n(59),a=n(14),s=n(58),l=Object.assign;t.exports=!l||n(5)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=a(t),l=arguments.length,c=1,u=r.f,h=o.f;l>c;)for(var f,p=s(arguments[c++]),d=u?i(p).concat(u(p)):i(p),y=d.length,g=0;y>g;)h.call(p,f=d[g++])&&(n[f]=p[f]);return n}:l},function(t,e,n){var i=n(11),r=n(3),o=n(45);t.exports=n(10)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var i=n(21),r=n(44).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(i(t))}},function(t,e,n){var i=n(16),r=n(21),o=n(68)(!1),a=n(108)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(45),r=n(21),o=n(59).f;t.exports=function(t){return function(e){for(var n,a=r(e),s=i(a),l=s.length,c=0,u=[];l>c;)o.call(a,n=s[c++])&&u.push(t?[n,a[n]]:a[n]);return u}}},function(t,e,n){var i=n(44),r=n(76),o=n(3),a=n(4).Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(4).parseFloat,r=n(56).trim;t.exports=1/i(n(113)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(4).parseInt,r=n(56).trim,o=n(113),a=/^[\-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(12),r=n(112),o=n(25);t.exports=function(t,e,n,a){var s=String(o(t)),l=s.length,c=void 0===n?" ":String(n),u=i(e);if(u<=l||""==c)return s;var h=u-l,f=r.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,n){e.f=n(9)},function(t,e,n){"use strict";var i=n(145);t.exports=n(69)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(this,t);return e&&e.v},set:function(t,e){return i.def(this,0===t?0:t,e)}},i,!0)},function(t,e,n){n(10)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(71)})},function(t,e,n){"use strict";var i=n(145);t.exports=n(69)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(this,t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(29)(0),o=n(19),a=n(38),s=n(153),l=n(147),c=n(7),u=a.getWeak,h=Object.isExtensible,f=l.ufstore,p={},d=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(c(t)){var e=u(t);return!0===e?f(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(this,t,e)}},g=t.exports=n(69)("WeakMap",d,y,l,!0,!0);7!=(new g).set((Object.freeze||Object)(p),7).get(p)&&(i=l.getConstructor(d),s(i.prototype,y),a.NEED=!0,r(["delete","has","get","set"],function(t){var e=g.prototype,n=e[t];o(e,t,function(e,r){if(c(e)&&!h(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},function(t,e){function n(t){return t=Math.round(t),t<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function r(t){return n("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return i("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function s(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var i=parseInt(e.substr(1),16);return i>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null}if(7===e.length){var i=parseInt(e.substr(1),16);return i>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null}return null}var s=e.indexOf("("),c=e.indexOf(")");if(-1!==s&&c+1===e.length){var u=e.substr(0,s),h=e.substr(s+1,c-(s+1)).split(","),f=1;switch(u){case"rgba":if(4!==h.length)return null;f=o(h.pop());case"rgb":return 3!==h.length?null:[r(h[0]),r(h[1]),r(h[2]),f];case"hsla":if(4!==h.length)return null;f=o(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,d=o(h[1]),y=o(h[2]),g=y<=.5?y*(d+1):y+d-y*d,v=2*y-g;return[n(255*a(v,g,p+1/3)),n(255*a(v,g,p)),n(255*a(v,g,p-1/3)),f];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{e.parseCSSColor=s}catch(t){}},function(t,e){},function(t,e,n){var i=n(51),r=n(36),o=i(r,"Set");t.exports=o},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}var r=n(120),o=n(528),a=n(529);i.prototype.add=i.prototype.push=o,i.prototype.has=a,t.exports=i},function(t,e,n){function i(t){var e=this.__data__=new r(t);this.size=e.size}var r=n(79),o=n(532),a=n(533),s=n(534),l=n(535),c=n(536);i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=s,i.prototype.has=l,i.prototype.set=c,t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}t.exports=n},function(t,e){function n(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}t.exports=n},function(t,e,n){function i(t,e,n,a,s){var l=-1,c=t.length;for(n||(n=o),s||(s=[]);++l<c;){var u=t[l];e>0&&n(u)?e>1?i(u,e-1,n,a,s):r(s,u):a||(s[s.length]=u)}return s}var r=n(174),o=n(506);t.exports=i},function(t,e,n){function i(t,e){e=r(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}var r=n(180),o=n(83);t.exports=i},function(t,e,n){function i(t,e,n,a,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:r(t,e,n,a,i,s))}var r=n(466),o=n(62);t.exports=i},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function i(t,e){return r(t)?t:o(t,e)?[t]:a(s(t))}var r=n(37),o=n(122),a=n(538),s=n(548);t.exports=i},function(t,e,n){function i(t,e,n,i,c,u){var h=n&s,f=t.length,p=e.length;if(f!=p&&!(h&&p>f))return!1;var d=u.get(t);if(d&&u.get(e))return d==e;var y=-1,g=!0,v=n&l?new r:void 0;for(u.set(t,e),u.set(e,t);++y<f;){var m=t[y],_=e[y];if(i)var b=h?i(_,m,y,e,t,u):i(m,_,y,t,e,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!o(e,function(t,e){if(!a(v,e)&&(m===t||c(m,t,n,i,u)))return v.push(e)})){g=!1;break}}else if(m!==_&&!c(m,_,n,i,u)){g=!1;break}}return u.delete(t),u.delete(e),g}var r=n(171),o=n(457),a=n(179),s=1,l=2;t.exports=i},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(129))},function(t,e,n){function i(t){return t===t&&!r(t)}var r=n(86);t.exports=i},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e){function n(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var i=Function.prototype,r=i.toString;t.exports=n},function(t,e,n){function i(t){return(null==t?0:t.length)?r(t,1):[]}var r=n(175);t.exports=i},function(t,e,n){(function(t){var i=n(36),r=n(547),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,l=s?i.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u}).call(e,n(190)(t))},function(t,e,n){function i(t){if(!o(t))return!1;var e=r(t);return e==s||e==l||e==a||e==c}var r=n(61),o=n(86),a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";t.exports=i},function(t,e,n){var i=n(470),r=n(178),o=n(524),a=o&&o.isTypedArray,s=a?r(a):i;t.exports=s},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"./conf/client.commented.json",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"./conf/layers.commented.json";return(0,r.createG4UInternal)(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.G4UMap=e.source=void 0,e.createMap=i,n(441);var r=n(231);n(444),n(442),n(445);var o=n(92),a=n(88);e.source={ServerVector:o.SourceServerVector},e.G4UMap=a.G4UMap},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.API=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(2),c=i(l),u=n(1),h=i(u),f=n(8),p=n(13);e.API=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.featureManipulationActive_=!1,i.drawStyle_=n.drawStyle||"#drawStyle",i.wktParser_=new c.default.format.WKT,i.map_=t,i.featureManipulationInteraction_=null,i.map_.once("ready",function(){i.layerConfigurator_=i.map_.get("configurator").layerConfigurator_}),(0,h.default)(i.map_.getViewport()).on("keydown",i.onKeyDown_.bind(i)),i}return a(e,t),s(e,[{key:"endFeatureManipulationInternal_",value:function(){this.featureManipulationInteraction_&&(this.featureManipulationInteraction_.setActive(!1),this.map_.removeInteraction(this.featureManipulationInteraction_)),(0,h.default)(this.map_.getViewport()).removeClass(f.cssClasses.crosshair),(0,h.default)(this.map_.getViewport()).removeClass(f.cssClasses.arrow),this.featureManipulationActive_=!1,this.dispatchEvent("endManipulation")}},{key:"cancelFeatureManipulation",value:function(){this.featureManipulationActive_&&this.endFeatureManipulationInternal_()}},{key:"drawFeature",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.featureManipulationActive_&&this.endFeatureManipulationInternal_(),this.featureManipulationActive_=!0;var n=new c.default.Collection,i=e.style||this.drawStyle_||{},r=this.map_.get("styling").getStyle(i);return this.map_.get("styling").styleCollection(n,r),this.featureManipulationInteraction_=new c.default.interaction.Draw({features:n,type:e.type||"Point",style:r}),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",this.featureManipulationInteraction_),(0,h.default)(this.map_.getViewport()).addClass(f.cssClasses.crosshair),{cancel:function(){t.endFeatureManipulationInternal_()},end:function(){t.featureManipulationInteraction_.finishDrawing(),t.endFeatureManipulationInternal_()},result:new Promise(function(e){t.featureManipulationInteraction_.on("drawend",function(n){e(n.feature),t.endFeatureManipulationInternal_()})})}}},{key:"fitRectangle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.hasOwnProperty("srId")||(e.srId="EPSG:4326"),e.hasOwnProperty("constrainResolution")||(e.constrainResolution=!1),e.hasOwnProperty("padding")||(e.padding=[0,0,0,0]),c.default.proj.get(e.srId)?this.map_.getView().fit(c.default.extent.boundingExtent([c.default.proj.transform([parseFloat(t[0][0]),parseFloat(t[0][1])],e.srId,this.map_.get("mapProjection").getCode()),c.default.proj.transform([parseFloat(t[1][0]),parseFloat(t[1][1])],e.srId,this.map_.get("mapProjection").getCode())]),e):p.Debug.error("Unknown Projection '"+e.srId+"'")}},{key:"setVisibleBaseLayer",value:function(t){this.map_.get("baseLayers").recursiveForEach(function(e){e.setVisible(e.get("id")===t)})}},{key:"onKeyDown_",value:function(t){this.featureManipulationActive_&&t.which===f.keyCodes.ESCAPE&&this.endFeatureManipulationInternal_()}},{key:"selectFeature",value:function(){var t=this;return this.featureManipulationActive_&&this.endFeatureManipulationInternal_(null),this.featureManipulationActive_=!0,this.featureManipulationInteraction_=new c.default.interaction.Select,this.map_.addSupersedingInteraction("singleclick",this.featureManipulationInteraction_),(0,h.default)(this.map_.getViewport()).addClass(f.cssClasses.arrow),{cancel:function(){t.endFeatureManipulationInternal_()},end:function(){t.endFeatureManipulationInternal_()},result:new Promise(function(e){t.featureManipulationInteraction_.getFeatures().on("add",function(n){e(n.element),t.endFeatureManipulationInternal_()})})}}},{key:"modifyFeature",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.features=new c.default.Collection([t]),this.featureManipulationActive_&&this.endFeatureManipulationInternal_(!1),this.featureManipulationActive_=!0,n.style&&(n.style=this.map_.get("styling").getStyle(n.style)),this.featureManipulationInteraction_=new c.default.interaction.Modify(n),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",this.featureManipulationInteraction_),(0,h.default)(this.map_.getViewport()).addClass(f.cssClasses.crosshair);var i=!1;return{cancel:function(){e.endFeatureManipulationInternal_()},end:function(){i=!0,e.endFeatureManipulationInternal_()},result:new Promise(function(n){e.featureManipulationInteraction_.on("modifyend",function(){i&&n(t)}),e.featureManipulationInteraction_.once("change:active",function(){i&&n(t)})})}}},{key:"addFeatureLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("featureLayers"),t,"featureLayer",!0)}},{key:"addFixedFeatureLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("fixedFeatureLayers"),t,"featureLayer",!0)}},{key:"addBaseLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("baseLayers"),t,"baseLayer",!0)}},{key:"loadLayerFromServer",value:function(t){var e=this;return t=t||{},t.visible=!0,t.source=t.source||{},new Promise(function(n,i){var r=e.addFeatureLayer(t),o=r.getSource(),a=function(){o.un("vectorloadend",s),n(r)},s=function(){o.un("vectorloaderror",a),i("vector load error")};o.once("vectorloadend",a),o.once("vectorloaderror",s)})}},{key:"createFeature",value:function(t){return this.layerConfigurator_.getFactory().createFeature(t)}},{key:"removeLayer",value:function(t){this.map_.getLayerGroup().removeLayer(t)}}]),e}(c.default.Object)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureTooltip=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),s=i(a),l=n(1),c=i(l),u=n(8);n(437);var h=n(6);e.FeatureTooltip=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.className_=e.hasOwnProperty("className")?e.className:"g4u-featuretooltip",this.$element_=(0,c.default)("<span></span>").addClass(this.className_).addClass(u.cssClasses.hidden),this.overlay_=new s.default.Overlay({element:this.$element_.get(0),offset:e.hasOwnProperty("offset")?e.offset:[0,0],positioning:e.hasOwnProperty("positioning")?e.positioning:"center-center",stopEvent:!1}),this.feature_=null,this.$element_.parent().addClass(this.className_+"-container")}return o(t,[{key:"setMap",value:function(e){var n=this;if(this.getMap()&&this.getMap().removeOverlay(this.overlay_),e){e.addOverlay(this.overlay_);e.getDefaultInteractions("pointermove")[0].on("select",function(e){var i=e.selected.filter(t.filter_);i.length?n.setFeature(i[0],e.mapBrowserEvent.coordinate):n.setFeature(null)}),this.map_=e}}},{key:"getFeature",value:function(){return this.feature_}},{key:"setFeature",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){if(this.$element_.html((0,h.html2Text)(t.get("name"))),!e){var n=t.getGeometry();e=s.default.extent.getCenter(n.getExtent())}this.overlay_.setPosition(e),this.$element_.removeClass(u.cssClasses.hidden)}else this.$element_.addClass(u.cssClasses.hidden);this.feature_=t}},{key:"getMap",value:function(){return this.map_}}],[{key:"filter_",value:function(t){return!t.get("disabled")&&t.get("name")}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.FunctionCallBuffer=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t),this.func_=e,this.bufferTime_=n,this.timeout_=-1}return r(t,[{key:"call",value:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];clearTimeout(this.timeout_),this.timeout_=setTimeout(function(){t.func_.apply(t,n)},this.bufferTime_)}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.L10N=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(2),c=i(l),u=n(1),h=i(u),f=n(128),p=i(f),d=n(13);e.L10N=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.defaultLang_=t.defaultLanguage||"en",n.currentLang_=t.currentLanguage||n.defaultLang_,n.languageFile_=t.languageFile||"files/l10n.commented.json",t.availableLanguages?n.availableLanguages_=t.availableLanguages:(n.availableLanguages_=[n.currentLang_],n.currentLang_!==n.defaultLang_&&n.availableLanguages_.push(n.defaultLang_)),n}return a(e,t),s(e,[{key:"getAvailableLanguages",value:function(){return this.availableLanguages_}},{key:"setAvailableLanguages",value:function(t){this.availableLanguages_=t}},{key:"ajaxGetLanguageFile",value:function(){var t=this;return h.default.ajax({type:"GET",url:this.languageFile_,dataType:"text",success:function(e){t.dictionary=JSON.parse((0,p.default)(e))},error:function(){d.Debug.error("The language file "+t.languageFile_+" couldn't be loaded or parsed")}})}},{key:"selectL10N",value:function(t){if(t){if("string"==typeof t)return t;if(this.currentLang_ in t)return t[this.currentLang_];if(this.defaultLang_ in t)return t[this.defaultLang_];d.Debug.error("Unable to obtain localization")}}},{key:"localiseUsingDictionary",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t in this.dictionary)return this.selectL10N(this.dictionary[t]);e||d.Debug.error("Cannot localise '"+t+"': Not in dictionary")}},{key:"setCurrentLang",value:function(t){this.currentLang_=t,this.dispatchEvent("change:language",t)}},{key:"getCurrentLang",value:function(){return this.currentLang_}},{key:"getDefaultLang",value:function(){return this.defaultLang_}},{key:"isRtl",value:function(){return this.dictionary[this.currentLang_].rtl||!1}}]),e}(c.default.Observable)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDisplay=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(431),n(550);var o=n(1),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(6),l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),!e)throw new Error("MessageDisplay needs an object to be associated to!");this.$element_=e,a.default.notify.getStyle("benndorf")||a.default.notify.addStyle("benndorf",{html:'<div><div class="text" data-notify-text /></div></div>',classes:{error:{color:"#b94a48","background-color":"#f2dede","border-color":"#b94a48"},success:{color:"#468847","background-color":"#dff0d8","border-color":"#468847"},info:{color:"#3a87a","background-color":"#d9edf7","border-color":"#3a87ad"},warn:{color:"#c09853","background-color":"#fcf8e3","border-color":"#c09853"}}}),this.defaults_=n,this.autoHideTimer_=null,n.hasOwnProperty("arrowShow")||(this.defaults_.arrowShow=!0),n.hasOwnProperty("arrowSize")||(this.defaults_.arrowSize=5),n.hasOwnProperty("autoHide")||(this.defaults_.autoHide=!0),n.hasOwnProperty("autoHideDelay")||(this.defaults_.autoHideDelay=15e3),n.hasOwnProperty("className")||(this.defaults_.className="error"),n.hasOwnProperty("position")||(this.defaults_.position="bottom left"),n.hasOwnProperty("gap")||(this.defaults_.gap=2),n.hasOwnProperty("hideAnimation")||(this.defaults_.hideAnimation="slideUp"),n.hasOwnProperty("hideDuration")||(this.defaults_.hideDuration=200),n.hasOwnProperty("showAnimation")||(this.defaults_.showAnimation="slideDown"),n.hasOwnProperty("showDuration")||(this.defaults_.showDuration=400),n.hasOwnProperty("style")||(this.defaults_.style="benndorf")}return r(t,[{key:"message",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.defaults_;n.hasOwnProperty("autoHide")&&(i.autoHide=n.autoHide),n.hasOwnProperty("autoHideDelay")&&(i.autoHideDelay=n.autoHideDelay),n.hasOwnProperty("className")&&(i.className=n.className),n.hasOwnProperty("position")&&(i.position=n.position),this.$element_.notify((0,s.html2Text)(t),i),(0,a.default)(".notifyjs-wrapper").click(function(){e.hide()})}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="error",this.message(t,e)}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="info",this.message(t,e)}},{key:"success",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="success",this.message(t,e)}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="warn",this.message(t,e)}},{key:"hide",value:function(){(0,a.default)(".notifyjs-wrapper").trigger("notify-hide"),window.clearTimeout(this.autoHideTimer_)}}]),t}();e.MessageDisplay=l},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Move=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o);e.Move=function(){function t(e){i(this,t),this.map_=e.map,this.pixelPadding_=void 0!==e.meterMinSize?50:e.pixelPadding,this.meterMinSize_=void 0!==e.meterMinSize?e.meterMinSize:500,this.animationDuration_=e.animationDuration||2e3,this.animations_=void 0===e.animations||e.animations,this.bouncing_=!1!==e.bouncing}return r(t,[{key:"setAnimations",value:function(t){this.animations_=t}},{key:"getAnimations",value:function(){return this.animations_}},{key:"toPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new a.default.View({projection:this.map_.getView().getProjection(),center:t,resolution:this.map_.getView().getResolution()}),i=n.calculateExtent(this.map_.getSize().map(function(t){return t-2}));e.padding=[0,0,0,0],this.toExtent(i,e)}},{key:"toExtent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;this.meterMinSize_&&(n=this.bufferUpToMinSize_(t)),(void 0===e.animated?this.animations_:e.animated)?this.animationZoomToExtent_(n,e):this.fit_(n,e)}},{key:"zoomToPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.toExtent(a.default.extent.boundingExtent([t]),e)}},{key:"bufferUpToMinSize_",value:function(t){var e=Math.min(a.default.extent.getWidth(t),a.default.extent.getHeight(t));return e<this.meterMinSize_?a.default.extent.buffer(t,this.meterMinSize_-e/2):t}},{key:"fit_",value:function(t,e){"default"===e.padding&&(e.padding=[this.pixelPadding_,this.pixelPadding_,this.pixelPadding_,this.pixelPadding_]),this.map_.getView().fit(a.default.geom.Polygon.fromExtent(t),this.map_.getSize(),e)}},{key:"animationZoomToExtent_",value:function(t,e){var n=this,i=this.map_,r=i.getView(),o=i.getSize(),s=r.calculateExtent(o),l=a.default.extent.extend(s.slice(0),t);if(this.bouncing_&&!a.default.extent.intersects(s,t)){var c=Object.assign({duration:this.animationDuration_/2},e);r.fit(l,c),setTimeout(function(){var i=Object.assign({duration:n.animationDuration_/2},e);r.fit(t,i)},this.animationDuration_/2)}else{var u=Object.assign({duration:this.animationDuration_/2},e);r.fit(t,u)}}},{key:"earlyFastRiseEasing_",value:function(t){return Math.sqrt(2*t-Math.pow(t,2))}},{key:"lateFastRiseEasing_",value:function(t){return 1-Math.sqrt(1-Math.pow(t,2))}},{key:"earlyFastRiseEasing2_",value:function(t){return 1-Math.pow(t-1,2)}},{key:"lateFastRiseEasing2_",value:function(t){return Math.pow(t,2)}}]),t}()},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ShowWMSFeatureInfo=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(67),c=n(228),u=n(131);e.ShowWMSFeatureInfo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.separator_=e.hasOwnProperty("seperator")?e.seperator:"<br>",this.style_=e.style||"#defaultStyle",this.animated_=e.animated,this.centerOnPopup_=!e.hasOwnProperty("centerOnPopup")||e.centerOnPopup,this.centerIfNoData_=!!e.hasOwnProperty("centerOnPopup")&&e.centerIfNoData,this.centerOnPopupInitial_=this.centerOnPopup_,this.mutators_=e.mutators||[]}return o(t,[{key:"setMap",value:function(t){var e=this,n=function(){t.get("mobile")?e.centerOnPopup_=!1:e.centerOnPopup_=e.centerOnPopupInitial_};if(this.getMap()&&(this.getMap().un("change:mobile",n),s.default.Observable.unByKey(this.listenerKey_)),this.map_=t,t){this.utilitySource_=new s.default.source.Vector,this.utilityLayer_=new l.VectorLayer({visible:!1,source:this.utilitySource_}),t.addLayer(this.utilityLayer_),this.layers_=[];var r=t.get("featurePopup"),o=t.getView().getProjection(),a=new c.MapEventInteraction({type:"singleclick"});a.on("mapevent",function(n){var a=n.mapEvent.coordinate;e.utilitySource_.clear(),t.forEachFeatureAtPixel(n.mapEvent.pixel,u.FeaturePopup.canDisplay)||function(){var n=void 0,l=!0,c=!1,u=void 0;try{for(var h,f=e.layers_[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var p=h.value;!function(l){l.getVisible()&&l.getSource().getFeatureInfo(a,t.getView().getResolution(),o).then(function(o){""!==o&&(n?n.set("description",n.get("description")+e.separator_+o):(e.utilitySource_.clear(),n=new s.default.Feature({geometry:new s.default.geom.Point(a),description:o}),t.get("styling").styleFeature(n,e.style_),e.utilitySource_.addFeature(n),r.setFeature(n,[].concat(i(e.mutators_),i(l.getSource().getFeatureInfoMutators()))),r.setVisible(!0),e.setPointVisible(!0),e.centerOnPopup_&&r.centerMapOnPopup(e.animated_),r.once("change:visible",function(){return e.setPointVisible(!1)}))),l.on("change:visible",function(){r.setVisible(!1)})})}(p)}}catch(t){c=!0,u=t}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}}()}),t.addDefaultInteraction("singleclick",a),n(),t.on("change:mobile",n)}}},{key:"getPointVisible",value:function(){return this.utilityLayer_.getVisible()}},{key:"setPointVisible",value:function(t){this.utilityLayer_.setVisible(t)}},{key:"getMap",value:function(){return this.map_}},{key:"addLayer",value:function(t){this.layers_.push(t)}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=(0,f.copyDeep)(t);if(e){var i=!0,r=!1,a=void 0;try{for(var l,c=Object.keys(e)[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,h=e[u];if(t.hasOwnProperty(u)){var p=t[u];if("object"===(void 0===p?"undefined":s(p))&&!(p instanceof Array)){var d=t[u];d.hasOwnProperty("type")?h.hasOwnProperty("type")&&t[u].type===h.type&&(n[u]=o(d,h)):n[u]=o(d,h)}}else"object"!==(void 0===h?"undefined":s(h))||h instanceof Array?n[u]=h:n[u]=(0,f.copyDeep)(h)}}catch(t){r=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(r)throw a}}}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.Styling=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=n(2),c=i(l),u=n(1),h=i(u),f=n(28),p=n(6),d=n(13),y=n(168);e.Styling=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),this.styleConfigMap_=new Map,this.styleConfigMap_.has("#defaultStyle")||this.styleConfigMap_.set("#defaultStyle",{stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"},image:{type:"circle",stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"}}}),e.styleConfigMap){var n=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(e.styleConfigMap)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;this.styleConfigMap_.set(l,e.styleConfigMap[l])}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}this.styleMap_=new Map,this.allStyles_=new Set,e.globalIconScale&&this.setGlobalIconScale(e.globalIconScale);var u=this;this.managingFeatureStyle_=function(t){var e=this,n=this.get("managedStyle");return h.default.isFunction(n)&&(n=n.call(this,t)),n||(n=u.getStyle("#defaultStyle")),h.default.isArray(n)?n.map(function(t){return u.adjustStyle_(e,t)}):u.adjustStyle_(this,n)},this.nullStyle_=new c.default.style.Style({image:null})}return a(t,[{key:"setGlobalIconScale",value:function(t){this.globalIconScale_=t}},{key:"getGlobalIconScale",value:function(){return this.globalIconScale_||1}},{key:"getStyleFromConfig",value:function(t){function e(t){t=t||{};var e=(0,f.copy)(t);return(0,p.checkFor)(t,"fill")?e.fill=new c.default.style.Fill(o(t.fill,n.fill)):e.fill=new c.default.style.Fill(n.fill),(0,p.checkFor)(t,"stroke")?e.stroke=new c.default.style.Stroke(o(t.stroke,n.stroke)):e.stroke=new c.default.style.Stroke(n.stroke),e}var n=o(t,this.styleConfigMap_.get("#default")),i=e(n);i.text=new c.default.style.Text(e(n.text));var r=!1;return n.hasOwnProperty("image")&&("icon"===n.image.type&&n.image.hasOwnProperty("src")&&n.image.src?(i.image=new c.default.style.Icon(n.image),r=!0):"circle"===n.image.type?(i.image=new c.default.style.Circle(e(n.image)),r=!0):"regularShape"===n.image.type&&(i.image=new c.default.style.RegularShape(e(n.image)),r=!0),r&&i.image.setScale((i.image.getScale()||1)*this.getGlobalIconScale())),new c.default.style.Style(i)}},{key:"getConfigFromStyle",value:function(t){throw new Error("Not implemented yet")}},{key:"getStyleById",value:function(t){if(!this.styleMap_.has(t)){if(!this.styleConfigMap_.has(t))return d.Debug.error("No style found for id "+t+". Using default style."),this.styleMap_.get("#defaultStyle");this.styleMap_.set(t,this.getStyleFromConfig(this.getConfigById(t)))}return this.styleMap_.get(t)}},{key:"getConfigById",value:function(t){return this.styleConfigMap_.has(t)?this.styleConfigMap_.get(t):(d.Debug.error("No style config found for id "+t+". Using default style."),this.styleConfigMap_.get("#defaultStyle"))}},{key:"getStyle",value:function(t){return void 0===t?this.getStyleById("#defaultStyle"):t instanceof c.default.style.Style||h.default.isFunction(t)?t:"object"===(void 0===t?"undefined":s(t))?this.getStyleFromConfig(t):this.getStyleById(t)}},{key:"convertStyleFunction",value:function(t){return function(e){return t(this,e)}}},{key:"adjustStyle_",value:function(t,e){if(t.get("hidden"))return this.nullStyle_;var n=e.clone();return this.scaleStyle_(n),void 0!==t.get("opacity")&&this.changeColorOpacity_(n,t.get("opacity")),n}},{key:"scaleStyle_",value:function(t){var e=t.getImage();if(e){var n=t.getImage().getScale()||1;e.setScale(n*this.globalIconScale_)}}},{key:"changeColorOpacity_",value:function(t,e){var n=function(t,e){var n=t.getColor();if(null!==n){if(!(n instanceof Array)){if("string"!=typeof n)throw new Error("Type not supported");n=(0,y.parseCSSColor)(n)}n[3]=n[3]*e}t.setColor(n)};t.getImage()&&t.getImage().setOpacity(e),t.getFill()&&n(t.getFill(),e),t.getStroke()&&n(t.getStroke(),e),t.getText()&&(t.getText().getFill()&&n(t.getText().getFill(),e),t.getText().getStroke()&&n(t.getText().getStroke(),e))}},{key:"manageFeature",value:function(t){var e=t.getStyle();e&&!t.get("managedStyle")&&(t.set("managedStyle",e),t.setStyle(this.managingFeatureStyle_))}},{key:"manageLayer",value:function(t){var e=this;t.getStyle()&&!t.get("managedStyle")&&(t.set("managedStyle",t.getStyle()),t.setStyle(function(n,i){var r=t.get("managedStyle");return h.default.isFunction(r)&&(r=r.call(n,i)),r||(r=e.getStyle("#defaultStyle")),h.default.isArray(r)?r.map(function(t){return e.adjustStyle_(n,t)}):e.adjustStyle_(n,r)})),t.getSource().getFeatures().forEach(function(t){e.manageFeature(t)}),t.getSource().on("addfeature",function(t){e.manageFeature(t.feature)})}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ControlFactory=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(132),l=n(90),c=n(207),u=n(208),h=n(214),f=n(209),p=n(134),d=n(212),y=n(213),g=n(217),v=n(211),m=n(215),_=n(135),b=n(216),w=n(210),M=n(136),x=n(6),S=n(28),P=n(88),O=n(13),C=n(206),k=n(218),E=n(220),j=n(219);e.ControlFactory=function(){function t(e){i(this,t),this.localiser_=e.localiser,this.map_=e.map,this.activeGroups_=new Map}return r(t,[{key:"getPositioning",value:function(){return this.map_.get("controlPositioning")}},{key:"createControl",value:function(t,e){switch(t){case"mousePosition":return e.projection=e.projection||this.map_.get("interfaceProjection"),new k.MousePosition(e);case"attribution":return new s.Attribution(e);case"zoom":return new u.CombinedZoom(e);case"scaleLine":return new E.ScaleLine(e);case"logo":return new b.Logo(e);case"linkButton":return new m.LinkButton(e);case"mobileControls":return new g.MobileControls(e);case"overviewMap":var n=e.projection||this.map_.get("mapProjection");return e.view=new a.default.View({projection:n}),e.layers=this.map_.get("baseLayers").getLayers(),new j.OverviewMap(e);case"infoButton":return new M.WindowDecorator({component:new v.InfoButton(e)});case"arrowButtons":var i=this.map_.get("mapConfig");return i.view&&(i.view.center&&(e.initCenter=a.default.proj.transform(i.view.center,this.map_.get("interfaceProjection"),this.map_.get("mapProjection"))),i.view.zoom&&(e.initZoom=i.view.zoom)),new c.ArrowButtons(e);case"layerSelector":return new h.LayerSelector(e);case"geolocationButton":return new f.GeolocationButton(e);case"languageSwitcherButton":return new d.LanguageSwitcherButton(e);case"languageSwitcherMenu":return new y.LanguageSwitcherMenu(e);case"printButton":return new _.PrintButton(e);case"distanceMeasurementButton":return e.className=e.className||"g4u-distance-measurement",e.type="LineString",e.dimension=1,new M.WindowDecorator({component:new p.MeasurementButton(e)});case"areaMeasurementButton":return e.className=e.className||"g4u-area-measurement",e.type="Polygon",e.dimension=2,new M.WindowDecorator({component:new p.MeasurementButton(e)});case"helpButton":return e.configControls=this.map_.get("mapConfig").controls,new M.WindowDecorator({component:new w.HelpButton(e)});case"toolbox":return e.className=e.className||"g4u-toolbox",new l.ComposedControl(e);case"layerMenu":return e.className=e.className||"g4u-layermenu",new l.ComposedControl(e)}}},{key:"addControlTo",value:function(t,e){var n=(0,S.copyDeep)((0,x.asObject)(this.controlsConfig[e])),i=n.controlType||e;n.controlName=e,n.localiser=this.localiser_,!n.hasOwnProperty("importance")&&t.getImportance&&(n.importance=t.getImportance());for(var r=this.createControl(i,n,t),o=this.map_.getModules(),a=0,s=o.length;a<s&&void 0===r;a++)r=o[a].createControl(i,n,t);if(r)n.activeGroup&&(this.activeGroups_.has(n.activeGroup)||this.activeGroups_.set(n.activeGroup,new C.ActiveGroup),this.activeGroups_.get(n.activeGroup).addControl(r)),this.map_.controlsByName[e]?this.map_.controlsByName[e].push(r):this.map_.controlsByName[e]=[r],t.addControl(r),n.contains&&this.addControlMultipleInternal_(r,n.contains),r.rewire&&r.rewire(),t instanceof P.G4UMap&&this.getPositioning().addControl(r);else if(void 0===r)throw new Error("Unrecognized control type "+i+", maybe you did forget to set the property type of the control?")}},{key:"addControlMultipleInternal_",value:function(t,e){var n=this;e.forEach(function(e){O.Debug.tryOrThrow(function(){n.addControlTo(t,e)})})}},{key:"addControls",value:function(){this.controlsConfig=this.map_.get("mapConfig").controls,(0,x.checkFor)(this.controlsConfig,"onMap")&&this.addControlMultipleInternal_(this.map_,this.controlsConfig.onMap)}},{key:"setLocaliser",value:function(t){this.localiser_=t}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerConfigurator=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(65),l=n(28),c=n(6),u=n(13),h=n(202);e.LayerConfigurator=function(){function t(e){i(this,t),this.map_=e,this.map_.on("change:layerConfig",this.configureLayers.bind(this)),this.layerFactory_=new h.LayerFactory(e)}return r(t,[{key:"configureLayers",value:function(){var t=this;this.map_.set("ready:layers",!1),this.map_.getLayerGroup()instanceof s.GroupLayer||this.map_.setLayerGroup(new s.GroupLayer);var e=this.map_.getLayerGroup();e.getLayers().clear();var n=(0,l.copyDeep)(this.map_.get("layerConfig")),i=this.map_.get("mapConfig");if(this.map_.set("layerIds",[]),this.layerFactory_.setMapConfigProjection(i.hasOwnProperty("mapProjection")?a.default.proj.get(i.mapProjection):null),this.map_.set("loadingStrategy",i.hasOwnProperty("loadingStrategy")?i.loadingStrategy:"ALL"),this.map_.set("ignoreLayerAvailability",!!i.hasOwnProperty("ignoreLayerAvailability")&&i.ignoreLayerAvailability),this.baseLayerGroup_=this.map_.get("baseLayers")||new s.GroupLayer,this.baseLayerGroup_.getLayers().clear(),n.hasOwnProperty("baseLayers")&&n.baseLayers instanceof Array){if(u.Debug.tryOrThrow(function(){t.layerFactory_.addLayers(t.baseLayerGroup_,n.baseLayers,"baseLayer")}),0===this.baseLayerGroup_.getLayers().getLength())if(0!==n.baseLayers.length){var r=(0,l.copyDeep)(n.baseLayers[0]);r.alwaysVisible=!0,this.layerFactory_.addLayers(this.baseLayerGroup_,r,"baseLayer",!0)}else u.Debug.warn("There is no baselayer available!");var o=void 0;if(this.baseLayerGroup_.recursiveForEach(function(t){t instanceof s.GroupLayer||(o=o||t.getVisible())}),!o&&this.baseLayerGroup_.getLayers().getLength()){!function t(e){e instanceof s.GroupLayer?t(e.getLayersArray()[0]):e.setVisible(!0)}(this.baseLayerGroup_)}this.map_.get("baseLayers")||this.baseLayerGroup_.getLayers().on("remove",function(e){t.baseLayerGroup_.getLayers().getLength()>0&&e.element.getVisible()&&t.baseLayerGroup_.getLayers().item(0).setVisible(!0)}),this.map_.set("baseLayers",this.baseLayerGroup_),e.getLayers().push(this.baseLayerGroup_)}else u.Debug.warn("The mapConfig option 'baseLayers' is not set or not an Array!");this.map_.set("mapProjection",this.layerFactory_.getMapProjection()||a.default.proj.get("EPSG:3857"));var h=this.map_.get("featureLayers")||new s.GroupLayer;h.getLayers().clear(),this.layerFactory_.addLayers(h,n.featureLayers||[],"featureLayer"),this.map_.set("featureLayers",h),e.getLayers().push(h);var f=this.map_.get("fixedFeatureLayers")||new s.GroupLayer;f.getLayers().clear(),(0,c.checkFor)(n,"fixedFeatureLayers")&&(this.layerFactory_.addLayers(f,n.fixedFeatureLayers,"featureLayer"),this.map_.set("fixedFeatureLayers",f),e.getLayers().push(f));var p=this.map_.get("queryLayers")||new s.GroupLayer;p.getLayers().clear(),n.hasOwnProperty("queryLayers")&&n.queryLayers instanceof Array&&(this.layerFactory_.addLayers(p,n.queryLayers,"queryLayer",!0),this.map_.set("queryLayers",p),e.getLayers().push(p));var d=[],y=!1,g=void 0;!function e(n){n.getLayers&&(n.getLayers().on("add",function(t){e(t.element)}),n.getLayers().forEach(e)),n.isLoading&&n.isLoading()&&(y||(t.map_.dispatchEvent("layersloadstart"),y=!0),d.push(n)),n.on("loadcountstart",function(){y||(t.map_.dispatchEvent("layersloadstart"),y=!0),d.push(n),clearTimeout(g)}),n.on("loadcountend",function(){d.splice(d.indexOf(n),1),0===d.length&&(g=setTimeout(function(){t.map_.once("postrender",function(){t.map_.dispatchEvent("layersloadend"),y=!1}),t.map_.render()},40))})}(this.map_.getLayerGroup()),this.map_.set("ready:layers",!0)}},{key:"getBaseLayerGroup",value:function(){return this.baseLayerGroup_}},{key:"getFactory",value:function(){return this.layerFactory_}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerFactory=e.LayerType=e.SuperType=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(138),l=n(230),c=n(229),u=n(139),h=n(65),f=n(67),p=n(92),d=n(234),y=n(28),g=n(6),v=n(13),m=n(233),_=e.SuperType={BASELAYER:"baseLayer",FEATURELAYER:"featureLayer",QUERYLAYER:"queryLayer"},b=e.LayerType={CATEGORY:"Category",SILENTGROUP:"SilentGroup",GEOJSON:"GeoJSON",KML:"KML",WMS:"WMS",TILEWMS:"TileWMS",OSM:"OSM",INTERN:"Intern",EMPTY:"Empty"};e.LayerFactory=function(){function t(e){i(this,t),this.map_=e}return r(t,[{key:"setMapConfigProjection",value:function(t){this.mapProjection=t}},{key:"getMapProjection",value:function(){return this.mapProjection}},{key:"addLayers",value:function(t,e,n,i){var r=this;return e.map(function(e){return r.addLayer(t,e,n,i)})}},{key:"addLayer",value:function(t,e,n,i){var r=void 0,o=(0,y.copyDeep)(e);if(i||this.configureLayerIsIdOk_(o.id)){if(!o.type)throw new Error("Layer needs a type. Layer id: "+o.id+". Layer title: "+o.title+".");this.configureLayerAvailability_(o),this.configureLayerTitle_(o),n===_.BASELAYER&&(o.groupLayer=this.map_.get("layerConfigurator").getBaseLayerGroup()),o.source&&(this.configureLayerSourceAttribution_(o.source),o.type!==b.INTERN&&this.configureLayerSourceURL_(o.source)),this.configureLayerVisibility_(o);var s=(0,y.take)(o,"style");r=this.createLayer(o.type,o,n,i);var l=function(e){t.getLayers().push(e)};r instanceof a.default.Collection?r.forEach(l):(r.setStyle&&(r.setStyle(this.map_.get("styling").getStyle(s)),this.map_.get("styling").manageLayer(r)),l(r))}return r}},{key:"superTypeNotSupported",value:function(t,e){throw new Error(t+" is not configured for superType '"+e+"'")}},{key:"createLayer",value:function(t,e,n,i){var r=this;n===_.QUERYLAYER&&(e.hasOwnProperty("apiKey")||v.Debug.error("Each query layer needs to have an apiKey."),e.source.projection=this.mapProjection),e.source&&(e.source.localiser=this.map_.get("localiser"));var o=void 0,g=void 0,w=!1;switch(e.source&&(e.source.localiser=this.map_.get("localiser"),w=e.source.localised),t){case b.SILENTGROUP:g=(0,y.take)(e,"layers"),o=new a.default.layer.Group(e),this.addLayers(o,g,n,!0),o.getLayers().forEach(function(t){t.setVisible(!0)});break;case b.CATEGORY:g=(0,y.take)(e,"layers"),o=new h.GroupLayer(e),this.addLayers(o,g,n,i);var M=!1;o.getLayers().forEach(function(t){t.set("category",o),M=M||t.get("available")});var x=o.getLayers().getLength();if(!1!==M){if(!1!==o.get("available")&&x>0)return!0===M&&o.set("available",!0),o.setVisible(!0),n===_.BASELAYER&&o.set("activateChildren",!1),o;if(!0===M)return o.getLayers()}break;case b.EMPTY:n===_.BASELAYER?o=new l.EmptyBaseLayer(e):(e.source=new a.default.source.Vector,o=new f.VectorLayer(e));break;case b.OSM:e.source=new a.default.source.OSM(e.source),o=n===_.BASELAYER?new c.BaseLayerTile(e):new u.LayerTile(e);break;case b.WMS:e.categoryButtons&&(e.source.params.LAYERS=[]),e.source=new m.ImageWMSSource(e.source),n===_.BASELAYER?o=new s.BaseLayerImage(e):n===_.QUERYLAYER?this.superTypeNotSupported(t,n):o=new s.ImageLayer(e),o.getSource().hasFeatureInfo()&&this.map_.asSoonAs("ready:ui",!0,function(){r.map_.get("showWMSFeatureInfo")&&r.map_.get("showWMSFeatureInfo").addLayer(o)});break;case b.TILEWMS:e.source.tileSize&&(e.source.tileGrid=a.default.tilegrid.createXYZ({tileSize:e.source.tileSize}),delete e.source.tileSize),e.source=new m.TileWMSSource(e.source),n===_.BASELAYER?o=new c.BaseLayerTile(e):n===_.QUERYLAYER?this.superTypeNotSupported(t,n):o=new u.LayerTile(e),o.getSource().hasFeatureInfo()&&this.map_.asSoonAs("ready:ui",!0,function(){r.map_.get("showWMSFeatureInfo")&&r.map_.get("showWMSFeatureInfo").addLayer(o)});break;case b.GEOJSON:this.configureLayerSourceLoadingStrategy_(e.source),e.source.defaultStyle=this.map_.get("styling").getStyle(e.style||"#defaultStyle"),e.source.type="GeoJSON",e.source.bboxProjection=e.source.bboxProjection||this.map_.get("interfaceProjection"),e.source.styling=this.map_.get("styling"),e.source=n===_.QUERYLAYER?new d.QuerySource(e.source):new p.SourceServerVector(e.source),o=new f.VectorLayer(e);break;case b.KML:this.configureLayerSourceLoadingStrategy_(e.source),e.source.defaultStyle=this.map_.get("styling").getStyle(e.style||"#defaultStyle"),e.source.type="KML",e.source.bboxProjection=e.source.bboxProjection||this.map_.get("interfaceProjection"),e.source.styling=this.map_.get("styling"),e.source=n===_.QUERYLAYER?new d.QuerySource(e.source):new p.SourceServerVector(e.source),o=new f.VectorLayer(e);break;case b.INTERN:if(e.source.hasOwnProperty("features"))for(var S=0;S<e.source.features.length;S++)e.source.features[S]=this.createFeature(e.source.features[S]);if(e.source=new a.default.source.Vector(e.source),n!==_.QUERYLAYER)return new f.VectorLayer(e);this.superTypeNotSupported(t,n)}for(var P=this.map_.getModules(),O=0,C=P.length;O<C&&void 0===o;O++)o=P[O].createLayer(e.type,e,n,i);if(!o)throw new Error("layer with type '"+e.type+"' could not be created.");if(n===_.BASELAYER&&e.source){if(o.getSource().getProjection())if(this.mapProjection){if(this.mapProjection&&this.mapProjection!==o.getSource().getProjection())throw new Error("The baseLayers are not in mapProjection or a baseLayers has a different projection than another! This is not supported.")}else this.mapProjection=o.getSource().getProjection()}else n===_.QUERYLAYER&&this.map_.get("urlApi").addApiLayer(o,e.apiKey);return w&&this.map_.get("localiser").on("change:language",function(){return o.getSource().refresh()}),o}},{key:"configureLayerIsIdOk_",value:function(t){var e=this.map_.get("layerIds");if(0===t||t&&("string"==typeof t||!isNaN(t))){for(var n=0,i=e.length;n<i;n++)if(t===e[n])return v.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1;return e.push(t),this.map_.set("layerIds",e),!0}return v.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1}},{key:"configureLayerAvailability_",value:function(t){return t.available=!1!==t.available,t.alwaysVisible||(t.available=t.hasOwnProperty("availableMobile")?t.availableMobile:t.available,this.map_.get("ignoreLayerAvailability")&&(t.available=!0)),t}},{key:"configureLayerSourceAttribution_",value:function(t){return(0,g.checkFor)(t,"attribution")&&(t.attributions=[new a.default.Attribution({html:this.map_.get("localiser").selectL10N(t.attribution)})]),t}},{key:"configureLayerSourceLoadingStrategy_",value:function(t){return t.loadingStrategy=t.hasOwnProperty("loadingStrategy")?t.loadingStrategy:this.map_.get("loadingStrategy"),t}},{key:"configureLayerTitle_",value:function(t){return t.hasOwnProperty("title")?t.title=this.map_.get("localiser").selectL10N(t.title):t.title="No title given",t}},{key:"configureLayerSourceURL_",value:function(t){if(t.url=this.map_.get("localiser").selectL10N(t.url),t.originalUrl=t.url,t.crossOrigin=null,!0===t.useProxy||void 0===t.useProxy&&!!t.proxy){if(t.proxy=t.proxy||this.map_.get("proxy"),!t.proxy)throw new Error("No proxy configured. Either configure a local or global proxy if you want to use the option useProxy.");t.url=(0,g.addProxy)(t.url,t.proxy)}return t}},{key:"configureLayerVisibility_",value:function(t){return!0===t.alwaysVisible?t.visible=!0:t.visible=!0===t.visible,t}},{key:"createFeature",value:function(t){var e=(0,y.copyDeep)(t),n=(0,y.take)(e,"id"),i=(0,y.take)(e,"style"),r=new a.default.format.WKT,o=(0,y.take)(e,"geometryWKT")||(0,y.take)(e,"geographyWKT");e.geometry=r.readGeometry(o).transform(this.map_.get("interfaceProjection"),this.map_.get("mapProjection"));var s=new a.default.Feature(e);return i&&this.map_.get("styling").styleFeature(s,i),n&&s.setId(n),s}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.MapConfigurator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),s=i(a),l=n(1),c=i(l),u=n(551),h=i(u),f=n(199),p=n(201),d=n(205),y=n(28),g=n(6),v=n(192),m=n(13);s.default.proj.setProj4(h.default);e.MapConfigurator=function(){function t(e){r(this,t),this.map_=e,this.layerConfigurator_=new p.LayerConfigurator(e),this.UIConfigurator_=new d.UIConfigurator(e),e.set("layerConfigurator",this.layerConfigurator_),e.set("UIConfigurator",this.UIConfigurator_),this.configureMap(),this.firstRun_=!1}return o(t,[{key:"configureLayers",value:function(){this.layerConfigurator_.configureLayers()}},{key:"configureUI",value:function(){this.UIConfigurator_.configureUI()}},{key:"configureMap",value:function(){var t=this;if(this.firstRun_)throw m.Debug.error("configureMap is supposed to be called only once"),m.Debug.warn('If you would like to change that, please think about something because of the asynchronous nature of "ready", "ready:ui" and "ready:layers"'),new Error;var e=(0,y.copyDeep)(this.map_.get("mapConfig"));this.map_.set("userActionTracking",e.userActionTracking);var n=e.hasOwnProperty("interfaceProjection")?e.interfaceProjection:"EPSG:4326";this.map_.set("interfaceProjection",n),this.map_.set("proxy",!!e.hasOwnProperty("proxy")&&e.proxy),e.hasOwnProperty("styleMap")?this.map_.set("styling",new f.Styling({styleConfigMap:e.styleMap})):this.map_.set("styling",new f.Styling),this.map_.set("scaleIcons",e.hasOwnProperty("scaleIcons")?e.scaleIcons:1),this.map_.get("styling").setGlobalIconScale(this.map_.get("scaleIcons"));for(var i=e.hasOwnProperty("additionalProjections")?e.additionalProjections:[],r=0,o=i.length;r<o;r++)h.default.defs(i[r].code,i[r].definition);if((0,g.checkFor)(e,"measurementProjection"))try{this.map_.set("measurementProjection",s.default.proj.get(e.measurementProjection))}catch(t){throw new Error("measurementProjection is not available, check for spelling or try to add it to additionalProjections with a proj4 definition.")}this.configureLayers();var a=this.map_.get("mapProjection"),l=e.view||{};l.projection=a,(0,g.checkFor)(e.view,"center")&&(l.center=s.default.proj.transform(e.view.center,n,a)),(0,g.checkFor)(e.view,"extent")&&(l.extent=s.default.extent.applyTransform(e.view.extent,s.default.proj.getTransform(n,a)));var u=this.map_.getView();u&&(l.center=u.getCenter()||e.view.center,l.resolution=u.getResolution()||e.view.resolution,l.rotation=u.getRotation()||e.view.rotation);var p=new s.default.View(l);!u&&(0,g.checkFor)(e.view,"fit")&&p.fit(s.default.proj.transformExtent(e.view.fit,n,a),{size:this.map_.getSize()}),this.map_.setView(p),(0,c.default)(window).on("resize",function(){t.map_.dispatchEvent("resize")});var d=(0,c.default)(this.map_.getViewport());d.on("mousedown",function(){d.addClass("mousedown")}),d.on("mouseup",function(){d.removeClass("mousedown")}),d.focus(),d.on("click",function(){d.focus()}),m.Debug.tryOrThrow(function(){t.configureUI()}),this.map_.set("api",new v.API(this.map_,e.api));var _=!0,b=!1,w=void 0;try{for(var M,x=this.map_.getModules()[Symbol.iterator]();!(_=(M=x.next()).done);_=!0){M.value.configureMap(e)}}catch(t){b=!0,w=t}finally{try{!_&&x.return&&x.return()}finally{if(b)throw w}}}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Positioning=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=i(l),u=n(549),h=i(u),f=n(8);e.Positioning=function(){function t(e){a(this,t),this.$viewport_=(0,c.default)(e.viewport),this.padding_=e.padding||5,this.spacing_=e.spacing||10,this.init()}return s(t,[{key:"init",value:function(){this.all_=[],this.corners_={left:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}},right:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}}},this.order_=0}},{key:"addControl",value:function(t,e){var n=this;if(t.get$Element().parents().hasClass("ol-viewport")&&(!e||!e.control.isWindowed())){var i={control:t,order:this.order_++,visible:!0,importance:t.getImportance()},r=t.get$Element();if(t.getCollapsible&&t.getCollapsible()){var o=r.width(),a=r.height();r.on("click",function(){r.width()===o&&r.height()===a||(n.positionElements(),o=r.width(),a=r.height())})}if(e)e.control.isWindowed()||(i.importance=t.getImportance(),e.hideableChildren.push(i),this.all_.push(i));else{if(i.float=i.control.getFloat()||["top","left"],"fixed"===i.float)return;var s=void 0,l=void 0,c=void 0;switch(i.float[0]){case"top":l="top",s=i.float[1],"left"===s?c="clockwise":"right"===s&&(c="counterclockwise");break;case"right":s="right",l=i.float[1],"top"===l?c="clockwise":"bottom"===l&&(c="counterclockwise");break;case"bottom":l="bottom",s=i.float[1],c="left"===s?"counterclockwise":"clockwise";break;case"left":s="left",l=i.float[1],c="top"===l?"counterclockwise":"clockwise"}if(this.corners_[s][l][c].push(i),this.all_.push(i),i.control.getControls){i.hideableChildren=[];var u=!0,h=!1,f=void 0;try{for(var p,d=i.control.getControls()[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var y=p.value;this.addControl(y,i)}}catch(t){h=!0,f=t}finally{try{!u&&d.return&&d.return()}finally{if(h)throw f}}}}}}},{key:"getCorner_",value:function(t,e){for(var n=0,i=0,r=this.corners_[t][e].clockwise[n++],o=this.corners_[t][e].counterclockwise[i++];r&&!r.visible;)r=this.corners_[t][e].clockwise[n++];for(;o&&!o.visible;)o=this.corners_[t][e].counterclockwise[i++];if(r||o)return r?o?r.order<o.order?r:o:r:o}},{key:"getEdge_",value:function(t){var e=void 0,n=void 0,i=void 0,r=void 0;"top"===t?(e="left",n="right",i=r="top"):"right"===t?(e=n="right",i="top",r="bottom"):"bottom"===t?(e="right",n="left",i=r="bottom"):"left"===t&&(e=n="left",i="bottom",r="top");var a=c.default.grep(this.corners_[e][i].clockwise,function(t){return t.visible}),s=c.default.grep(this.corners_[n][r].counterclockwise,function(t){return t.visible}),l=[],u=this.getCorner_(e,i);return u&&l.push(u),l.push.apply(l,o(a)),l.push.apply(l,o(s)),u=this.getCorner_(n,r),u&&l.push(u),(0,h.default)(l)}},{key:"beforePositioning_",value:function(){var t=this,e=new Set(this.all_),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;!function n(i){if(i.control.beforePositioning&&i.control.beforePositioning(),i.hideableChildren){var r=!0,o=!1,a=void 0;try{for(var s,l=i.hideableChildren[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){n(s.value)}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}var c=i.control.get$Element();c.removeClass(f.cssClasses.hidden),c.position({top:0,left:0}),i.visible=c.is(":visible"),i.visible&&(i.control.release&&(i.control.release("height"),i.control.release("width")),i.size=t.measureExpandedElement_(i)),e.delete(i)}(s)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}},{key:"afterPositioning_",value:function(){var t=new Set(this.all_),e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;!function e(n){if(n.control.afterPositioning&&n.control.afterPositioning(),n.hideableChildren){var i=!0,r=!1,o=void 0;try{for(var a,s=n.hideableChildren[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){e(a.value)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}t.delete(n)}(a)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"calculateLength_",value:function(t,e){var n=2*this.padding_,i=!0,r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){n+=s.value.size[e],i?i=!1:n+=this.spacing_}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}},{key:"positionElements",value:function(){var t=this,e=this.$viewport_.innerWidth(),n=this.$viewport_.innerHeight();this.beforePositioning_();for(var i=void 0,o=new Set(["top","left","bottom","right"]);o.size;){if(o.has("top")){var a=this.getEdge_("top"),s=this.calculateLength_(a,"width");for(i=!1;a.length&&s>e&&!this.squeezeElements_(a,"width",s-e);)this.hideLeastImportant_(a),a=this.getEdge_("top"),s=this.calculateLength_(a,"width"),i=!0;i&&(o.add("left"),o.add("right")),o.delete("top")}if(o.has("right")){var l=this.getEdge_("right"),u=this.calculateLength_(l,"height");if(l.length&&u>n){i=!1;for(var h=this.squeezeElements_(l,"height",u-n);l.length&&u>n&&!h;)this.hideLeastImportant_(l),l=this.getEdge_("right"),u=this.calculateLength_(l,"height"),i=!0,h=this.squeezeElements_(l,"height",u-n);i&&(o.add("top"),o.add("bottom"))}o.delete("right")}if(o.has("bottom")){var p=this.getEdge_("bottom"),d=this.calculateLength_(p,"width");for(i=!1;p.length&&d>e&&!this.squeezeElements_(p,"width",d-e);)this.hideLeastImportant_(p),p=this.getEdge_("bottom"),d=this.calculateLength_(p,"width"),i=!0;i&&(o.add("left"),o.add("right")),o.delete("bottom")}if(o.has("left")){var y=this.getEdge_("left"),g=this.calculateLength_(y,"height");for(i=!1;y.length&&g>n&&!this.squeezeElements_(y,"height",g-n);)this.hideLeastImportant_(y),y=this.getEdge_("left"),g=this.calculateLength_(y,"height"),i=!0;i&&(o.add("top"),o.add("bottom")),o.delete("left")}}var v=function(e,n){var i=t.getCorner_(e,n);if(i){var o,a=t.padding_,s=t.padding_,l=i.control.get$Element();i.control.setPositionedState&&i.control.setPositionedState(i.state),l.removeClass(f.cssClasses.hidden).css((o={},r(o,e,a),r(o,n,s),o)),a+=l.outerWidth()+t.spacing_,s+=l.outerHeight()+t.spacing_;var u=void 0,h=void 0;"left"===e&&"top"===n?(u="clockwise",h="counterclockwise"):"right"===e&&"top"===n?(u="counterclockwise",h="clockwise"):"right"===e&&"bottom"===n?(u="clockwise",h="counterclockwise"):"left"===e&&"bottom"===n&&(u="counterclockwise",h="clockwise");var p=!0,d=!1,y=void 0;try{for(var g,v=c.default.grep(t.corners_[e][n][u],function(t){return t.visible&&t!==i})[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var m,_=g.value;l=_.control.get$Element(),l.css((m={},r(m,e,a),r(m,n,t.padding_),m)),_.control.setPositionedState&&_.control.setPositionedState(_.state),a+=l.outerWidth()+t.spacing_}}catch(t){d=!0,y=t}finally{try{!p&&v.return&&v.return()}finally{if(d)throw y}}var b=!0,w=!1,M=void 0;try{for(var x,S=c.default.grep(t.corners_[e][n][h],function(t){return t.visible&&t!==i})[Symbol.iterator]();!(b=(x=S.next()).done);b=!0){var P,O=x.value;l=O.control.get$Element(),l.css((P={},r(P,e,t.padding_),r(P,n,s),P)),O.control.setPositionedState&&O.control.setPositionedState(O.state),s+=l.outerHeight()+t.spacing_}}catch(t){w=!0,M=t}finally{try{!b&&S.return&&S.return()}finally{if(w)throw M}}}};v("left","top"),v("right","top"),v("right","bottom"),v("left","bottom"),this.afterPositioning_()}},{key:"squeezeElements_",value:function(t,e,n){function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length;if(n===e)o.splice(e,0,t);else{var r=Math.floor((e+n)/2);t.importance<=o[r].importance?i(t,e,r):i(t,r+1,n)}}function r(t){var n=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;c.control.isSqueezable&&c.control.isSqueezable(e)&&i(c),c.hideableChildren&&r(c.hideableChildren)}}catch(t){o=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}var o=[];r(t);var a=0,s=!0,l=!1,c=void 0;try{for(var u,h=o[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){if((a+=u.value.control.squeezeBy(e,n))>=n)return!0}}catch(t){l=!0,c=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var f=!0,p=!1,d=void 0;try{for(var y,g=o[Symbol.iterator]();!(f=(y=g.next()).done);f=!0){y.value.control.release(e)}}catch(t){p=!0,d=t}finally{try{!f&&g.return&&g.return()}finally{if(p)throw d}}return!1}},{key:"expandElement_",value:function(t){var e=[];if(t.hideableChildren){var n=!0,i=!1,r=void 0;try{for(var a,s=t.hideableChildren[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;e.push.apply(e,o(this.expandElement_(l)))}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}return t.control.getCollapsible&&t.control.getCollapsible()&&t.control.getCollapsed()&&(t.control.setCollapsed(!1),e.push(t.control)),e}},{key:"measureExpandedElement_",value:function(t){var e=this.expandElement_(t),n=t.control.get$Element(),i={width:n.outerWidth(),height:n.outerHeight()},r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){s.value.setCollapsed(!0)}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return i}},{key:"hideLeastImportant_",value:function(t){var e=function t(e){var n=void 0,i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(n?l.importance<n.importance&&(n=l):n=l,l.hideableChildren){var u=c.default.grep(l.hideableChildren,function(t){return t.visible});if(u.length){var h=t(u);h.importance<n.importance&&(n=h)}}}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t);e.visible=!1,e.control.get$Element().addClass(f.cssClasses.hidden)}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.UIConfigurator=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(2),l=i(s),c=n(1),u=i(c),h=n(204),f=n(197),p=n(131),d=n(193),y=n(226),g=n(200),v=n(13),m=n(28),_=n(6),b=n(134),w=n(135),M=n(8),x=n(227),S=n(168),P=n(194),O=n(198),C=n(225);e.UIConfigurator=function(){function t(e){r(this,t),this.map_=e,this.map_.on("change:mapConfig",this.configureUI.bind(this)),this.initialized_=!1,this.pending_=0}return a(t,[{key:"loadCSS",value:function(e){var n=this;return new Promise(function(i){if(e.hasOwnProperty("cssFile")){var r="g4u-css",o=(0,u.default)("#"+r);0===o.length&&(o=(0,u.default)("<style>",{id:r}),(0,u.default)("head").append(o));n.cssFile_===e.cssFile?(e.hasOwnProperty("cssTemplate")&&o.html(t.templateCSS(n.map_.get("cssTemplateFile"),e.cssTemplate)),i()):(u.default.ajax(e.cssFile).done(function(r){o.empty(),r=t.fixUrls(r,e.cssFile),e.hasOwnProperty("cssTemplate")?(n.map_.set("cssTemplateFile",r),o.html(t.templateCSS(r,e.cssTemplate))):o.html(r),i()}).fail(function(){v.Debug.error("Failed to load css file."),i()}),n.cssFile_=e.cssFile)}else i()})}},{key:"initialize_",value:function(t){var e=this,n=t.positioning||{};n.viewport=this.map_.getViewport(),this.map_.set("controlPositioning",new h.Positioning(n));var i=new P.FunctionCallBuffer(function(){return e.map_.get("controlPositioning").positionElements()});this.map_.on("ready",function(){return i.call()}),this.map_.asSoonAs("ready",!0,function(){e.map_.on("resize",function(){return i.call()}),e.map_.on("ready:ui",function(){e.map_.get("ready:ui")&&i.call()}),e.map_.on("change:mobile",function(){return i.call()}),e.map_.on("ready:layers",function(){i.call(),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(function(){return i.call()},200)})}),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(function(){return i.call()},200)})}),this.map_.set("mobile",!1),(0,u.default)(this.map_.getTarget()).children().addClass(M.cssClasses.desktop),this.map_.set("scaleIcons",t.scaleIcons);var r=void 0,o=void 0,a=void 0,s=void 0,l=function(){var t=e.map_.get("mobileLayout"),n=e.map_.get("featurePopup"),i=e.map_.get("showWMSFeatureInfo");if(t&&t.mediaQueries&&window.matchMedia){var l=!1;if(t.mediaQueries.forEach(function(t){l=l||window.matchMedia(t).matches}),l!==r)if(l){(0,u.default)(e.map_.getTarget()).children().addClass(M.cssClasses.mobile),(0,u.default)(e.map_.getTarget()).children().removeClass(M.cssClasses.desktop),e.map_.set("mobile",!0),t.hasOwnProperty("animations")&&(a=e.map_.get("move").getAnimations(),e.map_.get("move").setAnimations(t.animations)),t.hasOwnProperty("scaleIcons")&&(o=e.map_.get("scaleIcons"),e.map_.set("scaleIcons",t.scaleIcons),e.map_.get("styling").setGlobalIconScale(t.scaleIcons),e.map_.getLayerGroup().recursiveForEach(function(t){t.getVisible()&&t.changed()}));var c=i&&i.getPointVisible();n&&n.getVisible()&&(n.setVisible(!1),setTimeout(function(){n.setVisible(!0),c&&i.setPointVisible(!0)},0)),t.hasOwnProperty("hitTolerance")&&(s=e.map_.get("hitTolerance"),e.map_.set("hitTolerance",t.hitTolerance))}else{(0,u.default)(e.map_.getTarget()).children().addClass(M.cssClasses.desktop),(0,u.default)(e.map_.getTarget()).children().removeClass(M.cssClasses.mobile),e.map_.set("mobile",!1),t.hasOwnProperty("animations")&&e.map_.get("move").setAnimations(a),t.hasOwnProperty("scaleIcons")&&(e.map_.set("scaleIcons",o),e.map_.get("styling").setGlobalIconScale(o),e.map_.getLayerGroup().recursiveForEach(function(t){t.getVisible()&&t.changed()}));var h=i&&i.getPointVisible();n&&n.getVisible()&&(n.setVisible(!1),setTimeout(function(){n.setVisible(!0),h&&i.setPointVisible(!0)},0)),t.hasOwnProperty("hitTolerance")&&e.map_.set("hitTolerance",s)}r=l}},c=void 0,f=function(){e.map_.get("responsive")!==c&&(e.map_.get("responsive")?(l(),e.map_.on("resize",l)):e.map_.un("resize",l),c=e.map_.get("responsive"))};this.map_.once("ready",f),this.map_.on("change:responsive",f),this.map_.on("ready:ui",f),this.initialized_=!0}},{key:"configureUI",value:function(){var t=this;this.map_.set("ready:ui",!1),this.pending_++;var e=(0,m.copyDeep)(this.map_.get("mapConfig"));this.initialized_||this.initialize_(e);var n=void 0;this.loadCSS(e).then(function(){if(0===--t.pending_){t.map_.removeControls(),t.map_.controlsByName={},t.map_.removeInteractions(),t.map_.get("controlPositioning").init();var i=(0,m.copyDeep)((0,_.getConfig)(e,"move"));i.map=t.map_,t.map_.set("move",new f.Move(i)),t.map_.get("shield")||t.map_.set("shield",new y.Shield({map:t.map_})),t.map_.set("mobileLayout",e.mobileLayout),t.map_.set("responsive",t.map_.get("responsive")||!!t.map_.get("mobileLayout"));var r=!0,a=!1,s=void 0;try{for(var c,h=t.map_.getModules()[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){c.value.configureUI(e)}}catch(t){a=!0,s=t}finally{try{!r&&h.return&&h.return()}finally{if(a)throw s}}t.controlFactory?t.controlFactory.setLocaliser(t.map_.get("localiser")):t.controlFactory=new g.ControlFactory({map:t.map_,localiser:t.map_.get("localiser")}),t.controlFactory.addControls();var v=function t(e){e.setActive&&e.setActive(!1),e.getControls&&e.getControls().forEach(t)};if(t.map_.on("change:mobile",function(){return t.map_.getControls().forEach(v)}),(0,_.checkFor)(e,"interactions")){if((0,_.checkFor)(e.interactions,"doubleClickZoom")&&t.map_.addDefaultInteraction("dblclick",new l.default.interaction.DoubleClickZoom),(0,_.checkFor)(e.interactions,"dragPan"))if(!1!==e.kinetic){var M=-.002,S=.02,P=100;"object"===o(e.kinetic)&&(M=e.kinetic.decay||M,S=e.kinetic.minVelocity||S,P=e.kinetic.delay||P),t.map_.addDefaultInteraction("drag",new l.default.interaction.DragPan({kinetic:new l.default.Kinetic(M,S,P)}))}else t.map_.addDefaultInteraction("drag",new l.default.interaction.DragPan);(0,_.checkFor)(e.interactions,"dragRotate")&&t.map_.addDefaultInteraction("altShiftDrag",new l.default.interaction.DragRotate),(0,_.checkFor)(e.interactions,"dragZoom")&&t.map_.addDefaultInteraction("shiftDrag",new l.default.interaction.DragZoom),(0,_.checkFor)(e.interactions,"keyboardPan")&&t.map_.addDefaultInteraction("keyboard",new l.default.interaction.KeyboardPan),(0,_.checkFor)(e.interactions,"keyboardZoom")&&t.map_.addDefaultInteraction("keyboard",new l.default.interaction.KeyboardZoom),(0,_.checkFor)(e.interactions,"mouseWheelZoom")&&t.map_.addDefaultInteraction("mouseWheel",new l.default.interaction.MouseWheelZoom),(0,_.checkFor)(e.interactions,"pinchRotate")&&t.map_.addDefaultInteraction("pinchRotate",new l.default.interaction.PinchRotate),(0,_.checkFor)(e.interactions,"pinchZoom")&&t.map_.addDefaultInteraction("pinchZoom",new l.default.interaction.PinchZoom)}t.map_.addDefaultInteraction("singleclick",new x.FeatureSelect({condition:function(t){return l.default.events.condition.singleClick(t)&&(0,u.default)(t.originalEvent.target).is("canvas")},style:null,multi:!0}));var k=new x.FeatureSelect({condition:function(t){return l.default.events.condition.pointerMove(t)&&(0,u.default)(t.originalEvent.target).is("canvas")},style:null,multi:!0});t.map_.addDefaultInteraction("pointermove",k);(0,u.default)(t.map_.getViewport()).find("canvas").on("mouseleave",function(t){(0,u.default)(t.relatedTarget).is("canvas")||k.getFeatures().getLength()>0&&k.deselect(k.getFeatures().getArray())});var E=function(){var e=t.map_.get("hitTolerance"),n=!0,i=!1,r=void 0;try{for(var o,a=t.map_.getInteractions().getArray()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.setHitTolerance&&s.setHitTolerance(e)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}};t.map_.set("hitTolerance",e.hitTolerance||0),E(),t.map_.on("change:hitTolerance",E);var j=t.map_.get("featurePopup");j&&j.setMap(null),n=(0,_.getConfig)(e,"featurePopup"),n?(j=new p.FeaturePopup(n),j.setMap(t.map_),t.map_.set("featurePopup",j)):t.map_.set("featurePopup",void 0);var L=t.map_.get("featureTooltip");L&&L.setMap(null),n=(0,_.getConfig)(e,"featureTooltip"),n?(L=new d.FeatureTooltip(n),L.setMap(t.map_),t.map_.set("featureTooltip",L)):t.map_.set("featureTooltip",void 0);var A=t.map_.get("showWMSFeatureInfo");if(A&&A.setMap(null),n=(0,_.getConfig)(e,"showWMSFeatureInfo"),n?(A=new O.ShowWMSFeatureInfo(n),A.setMap(t.map_),t.map_.set("showWMSFeatureInfo",A)):t.map_.set("showWMSFeatureInfo",void 0),t.map_.set("history",new C.History),t.map_.get("userActionTracking")){var T=t.map_;t.map_.on("moveend",function(){T.dispatchEvent({type:"userActionTracking",action:"move"})}),t.map_.get("baseLayers").getLayers().forEach(function(t){t.on("change:visible",function(){t.getVisible()&&T.dispatchEvent({type:"userActionTracking",action:"baseLayerChange",value:t.get("title")})})}),t.map_.get("featureLayers").recursiveForEach(function(t){t.on("change:visible",function(){t.getVisible()&&T.dispatchEvent({type:"userActionTracking",action:"featureLayerChange",value:t.get("title")})})}),t.map_.get("featurePopup")&&t.map_.get("featurePopup").on("change:visible",function(){this.getVisible()&&T.dispatchEvent({type:"userActionTracking",action:"popupOpen",value:this.getFeature()})});var I=!0,N=!1,F=void 0;try{for(var B,D=t.map_.getModules()[Symbol.iterator]();!(I=(B=D.next()).done);I=!0){B.value.enableUserActionTracking()}}catch(t){N=!0,F=t}finally{try{!I&&D.return&&D.return()}finally{if(N)throw F}}t.map_.getControls().forEach(function(t){t instanceof w.PrintButton&&t.on("click",function(){T.dispatchEvent({type:"userActionTracking",action:"print"})}),t instanceof b.MeasurementButton&&("LineString"===t.getType()?t.on("measurement",function(){T.dispatchEvent({type:"userActionTracking",action:"measureLine"})}):"Polygon"===t.getType()&&t.on("measurement",function(){T.dispatchEvent({type:"userActionTracking",action:"measureArea"})}))})}t.map_.set("ready:ui",!0)}}).catch(function(t){v.Debug.error(t)})}}],[{key:"templateCSS",value:function(t,e){var n=function(t){for(var e=0,n=-1,i=0;i<3;i++)0!==t[i]&&(e++,n=i);return e>1?-1:n},i=/(rgba?\([^)]*\))|(#[0-9a-f]{6})/g;return e=e.map(S.parseCSSColor),t.replace(i,function(t){var i=(0,S.parseCSSColor)(t),r=n(i);if(r>-1){var o=i[3],a=i[r]/120,s=[e[r][0]*a,e[r][1]*a,e[r][2]*a,e[r][3]*o];return"rgba("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+")"}return t})}},{key:"fixUrls",value:function(t,e){var n=(0,_.urlDirname)(e);return t.replace(/url\("([^"]*)"\)/g,function(t,e){return'url("'+(0,_.urlJoin)(n,e)+'")'})}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.ActiveGroup=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,t),this.controls_=e;var n=!0,r=!1,o=void 0;try{for(var a,s=this.controls_[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;this.addControl(l)}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}}return r(t,[{key:"addControl",value:function(t){var e=this;this.controls_.push(t),t.on("change:active",function(){t.getActive()?(e.activeControl_&&e.activeControl_.setActive(!1),e.activeControl_=t):e.activeControl_=null})}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowButtons=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(2),u=i(c),h=n(1),f=i(h),p=n(28),d=n(15),y=n(27);n(416);e.ArrowButtons=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.className=t.className||"g4u-arrowbuttons",t.element=(0,f.default)('<div class="ol-unselectable ol-control"></div>')[0],t.singleButton=!1;var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i={left:n.getLocaliser().localiseUsingDictionary("ArrowButtons leftward"),right:n.getLocaliser().localiseUsingDictionary("ArrowButtons rightward"),up:n.getLocaliser().localiseUsingDictionary("ArrowButtons upward"),down:n.getLocaliser().localiseUsingDictionary("ArrowButtons downward"),center:n.getLocaliser().localiseUsingDictionary("ArrowButtons centerward")};n.pixelDelta_=t.pixelDelta||128,n.initExtent_=t.initExtent||void 0,n.animationDuration_=t.animationDuration||100,n.animated_=t.animated||!0,n.directions_=["center","left","up","right","down"],n.vectors_={left:[-1,0],up:[0,1],right:[1,0],down:[0,-1]},n.labels_=(0,p.merge)(t.labels||{},{left:"&#9665;",up:"&#9651;",right:"&#9655;",down:"&#9661;",center:"&#9675;"});var a=!0,s=!1,l=void 0;try{for(var c,u=n.directions_[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;!function(t){var e=(0,f.default)("<button>").addClass(n.className_+"-"+t).html(n.labels_[t]);(0,y.addTooltip)(e,i[t]),e.on("click",function(){n.onClick_(t),e.blur()}),n.get$Element().append(e)}(h)}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return n}return a(e,t),s(e,[{key:"setMap",value:function(t){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.initExtent_||(this.initExtent_=t.getView().calculateExtent(t.getSize())))}},{key:"onClick_",value:function(t){var e=this.getMap(),n=e.getView();if("center"===t)e.get("move").toExtent(this.initExtent_,{animated:this.animated_});else{var i=n.getResolution(),r=n.getRotation(),o=this.vectors_[t],a=[o[0]*i*this.pixelDelta_,o[1]*i*this.pixelDelta_];u.default.coordinate.rotate(a,r);var s=n.getCenter();if(this.animated_){var l=u.default.animation.pan({duration:this.animationDuration_,source:s});e.beforeRender(l)}n.setCenter(n.constrainCenter([s[0]+a[0],s[1]+a[1]]))}(0,f.default)(e.getViewport()).focus()}}]),e}(d.Control)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomSlider=e.Zoom=e.CombinedZoom=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(2),u=i(c),h=n(1),f=i(h),p=n(90),d=n(8),y=n(28);n(440);var g=n(6),v=n(63),m=(e.CombinedZoom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.element=(0,f.default)("<div>").get(0),t.className=t.className||"g4u-zoom",t.singleButton=!1;var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return delete t.element,n.hasButtons_=t.buttons||!t.hasOwnProperty("buttons"),n.hasSlider_=t.slider||!t.hasOwnProperty("slider"),n.hasButtons_&&(n.zoomButtonOptions=(0,y.copy)(t),n.zoomButtonOptions.importance=t.buttonImportance||t.importance,n.zoomButtonOptions.zoomInTipLabel=t.hasOwnProperty("zoomInTipLabel")?n.getLocaliser().selectL10N(t.zoomInTipLabel):n.getLocaliser().localiseUsingDictionary("Zoom zoomInTipLabel"),n.zoomButtonOptions.zoomOutTipLabel=t.hasOwnProperty("zoomOutTipLabel")?n.getLocaliser().selectL10N(t.zoomOutTipLabel):n.getLocaliser().localiseUsingDictionary("Zoom zoomOutTipLabel")),n.hasSlider_&&(n.zoomSliderOptions=(0,y.copy)(t),n.zoomSliderOptions.importance=t.sliderImportance,n.zoomSliderOptions.className="g4u-zoomslider"),n}return a(e,t),s(e,[{key:"setMap",value:function(t){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.hasSlider_&&this.addZoomSlider(),this.hasButtons_&&this.addZoomButtons())}},{key:"addZoomButtons",value:function(){this.zoomButtons_=new m(this.zoomButtonOptions),this.addControl(this.zoomButtons_,{wrap:!1});var t=this.zoomButtons_.get$Element().children(".g4u-zoom-in"),e=this.zoomButtons_.get$Element().children(".g4u-zoom-out");this.get$Container().prepend(t),this.get$Container().append(e),this.zoomButtons_.get$Element().remove()}},{key:"addZoomSlider",value:function(){this.zoomSlider_=new _(this.zoomSliderOptions),this.addControl(this.zoomSlider_,{wrap:!1});var t=this.zoomSlider_.get$Element();t.on("mousedown",function(){t.addClass(d.cssClasses.mousedown)}),t.on("mouseup",function(){t.removeClass(d.cssClasses.mousedown)});var e=this.get$Container().filter(".g4u-zoom-in");e.length?t.insertAfter(e):this.get$Container().append(t)}}]),e}(p.ComposedControl),e.Zoom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-zoom",t.zoomInTipLabel=t.hasOwnProperty("zoomInTipLabel")?t.localiser.selectL10N(t.zoomInTipLabel):t.localiser.localiseUsingDictionary("Zoom zoomInTipLabel"),t.zoomOutTipLabel=t.hasOwnProperty("zoomOutTipLabel")?t.localiser.selectL10N(t.zoomOutTipLabel):t.localiser.localiseUsingDictionary("Zoom zoomOutTipLabel"),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return a(e,t),e}((0,g.mixin)(u.default.control.Zoom,v.RewireMixin))),_=e.ZoomSlider=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-zoomslider",o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return a(e,t),s(e,[{key:"rewire",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rewire",this).call(this),this.get$Element().on("mousedown",function(){(0,f.default)(this).addClass(d.cssClasses.mousedown)}),this.get$Element().on("mouseup",function(){(0,f.default)(this).removeClass(d.cssClasses.mousedown)})}}]),e}((0,g.mixin)(u.default.control.ZoomSlider,v.RewireMixin))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GeolocationButton=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(2),u=i(c),h=n(1),f=i(h),p=n(15),d=n(27),y=n(67),g=n(196),v=n(8);n(420);e.GeolocationButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.className=t.className||"g4u-geolocation",t.singleButton=!0,t.element=(0,f.default)("<button>").get(0);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.classNamePushed_=n.className_+"-pushed",n.animated_=t.animated,n.style_=t.style||"#defaultStyle",n.maxZoom_=t.maxZoom,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("GeolocationButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("GeolocationButton tipLabel")),n.get$Element().addClass(n.className_).addClass(v.cssClasses.mainButton).html(n.getTitle()),(0,d.addTooltip)(n.get$Element(),n.getTipLabel()),n.buttonMessageDisplay_=new g.MessageDisplay(n.get$Element()),n.get$Element().on("click touch",function(){u.default.has.GEOLOCATION?n.setActive(!n.getActive()):n.buttonMessageDisplay_.error(n.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),n.getMap().get("mobile")?{position:"top middle"}:{})}),n.layer_=null;var i={};return t.hasOwnProperty("tracking")&&(i.tracking=t.tracking),t.hasOwnProperty("trackingOptions")&&(i.trackingOptions=t.trackingOptions),t.hasOwnProperty("projection")&&(i.projection=t.projection),n.followLocation_=t.followLocation||!1,n.geolocation_=new u.default.Geolocation(i),n.geolocation_.on("error",function(){n.buttonMessageDisplay_.error(n.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),n.getMap().get("mobile")?{position:"top middle"}:{}),n.setActive(!1)}),n.active_=!1,n}return a(e,t),s(e,[{key:"setMap",value:function(t){if(t){var n=t.getView().getProjection();this.geolocation_.setProjection(n);var i={source:new u.default.source.Vector({projection:n}),visible:!0};this.layer_=new y.VectorLayer(i),this.layer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.layer_),t.getLayers().insertAt(1,this.layer_)}else this.getMap().getLayers().remove(this.layer_);l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"getActive",value:function(){return this.active_}},{key:"setActive",value:function(t){var e=this,n=this.active_;if(n!==t){if(this.get$Element().toggleClass(this.classNamePushed_,t),t){var i=this.layer_.getSource();this.geolocation_.once(["change:accuracyGeometry"],function(){i.clear();var t=e.geolocation_.getPosition();i.addFeature(new u.default.Feature({geometry:new u.default.geom.Point(t)}));var n=e.geolocation_.getAccuracyGeometry();i.addFeature(new u.default.Feature({geometry:n})),e.getMap().get("move").toExtent(n.getExtent(),{animated:e.animated_,maxZoom:e.maxZoom_})}),this.changeHandler_=function(){i.clear();var t=e.geolocation_.getPosition();i.addFeature(new u.default.Feature({geometry:new u.default.geom.Point(t)}));var n=e.geolocation_.getAccuracyGeometry();if(i.addFeature(new u.default.Feature({geometry:n})),e.animated_){var r=u.default.animation.pan({source:e.getMap().getView().getCenter()});e.getMap().beforeRender(r)}e.getMap().getView().setCenter(t)},this.followLocation_&&this.geolocation_.on(["change:accuracy","change:accuracyGeometry","change:position"],this.changeHandler_)}else this.followLocation_&&this.geolocation_.un(["change:accuracy","change:accuracyGeometry","change:position"],this.changeHandler_),this.layer_.getSource().clear();this.active_=t,this.dispatchEvent({type:"change:active",oldValue:n})}}}],[{key:"makeCircle_",value:function(t,e,n){var i=u.default.proj.transform(t,e,"EPSG:4326"),r=[i[0],i[1]+n/1e3*90/1e4],o=u.default.proj.transform(r,"EPSG:4326",e),a=Math.abs(t[1]-o[1]);return new u.default.geom.Circle(t,a)}}]),e}(p.Control)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.HelpButton=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=i(l),u=n(15),h=n(6),f=n(128),p=i(f),d=n(13);n(421),n(50);e.HelpButton=function(t){function e(t){r(this,e),t.element=(0,c.default)("<div>")[0],t.className=t.className||"g4u-helpbutton";var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("HelpButton title")),n.setTipLabel(n.getTipLabel()||t.localiser.localiseUsingDictionary("HelpButton tipLabel")),n.configControls_=t.configControls||{},n.active_=!1,n.documentationFileName_=t.fileName,n}return a(e,t),s(e,[{key:"createContent_",value:function(){var t=this,e=this.getMap().get("localiser"),n=JSON.parse((0,p.default)(this.contentData_));(0,h.checkFor)(n,e.getCurrentLang())?this.language=e.getCurrentLang():(0,h.checkFor)(n,e.getDefaultLang())?this.language=e.getDefaultLang():this.language="de";this.get$Element().append(function(i,r){var o=(0,c.default)("<table>").addClass(t.className_+"-table");e.isRtl()&&o.prop("dir","rtl");var a=n[r],s=void 0,l=void 0,u=void 0,h=void 0,f=void 0,p=void 0,d=void 0,y=[];if(t.configControls_&&t.configControls_.hasOwnProperty("onMap")){var g=function e(n){y=y.concat(n.map(function(e){return t.configControls_.hasOwnProperty(e)&&t.configControls_[e].hasOwnProperty("controlType")?t.configControls_[e].controlType:e}));var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.configControls_.hasOwnProperty(l)&&t.configControls_[l].hasOwnProperty("contains")&&e(t.configControls_[l].contains)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}};t.getMap().get("mobile")?t.configControls_.hasOwnProperty("mobileControls")&&t.configControls_.mobileControls.hasOwnProperty("contains")&&g(t.configControls_.mobileControls.contains):g(t.configControls_.onMap.filter(function(t){return"mobileControls"!==t}))}for(s in a)if(a.hasOwnProperty(s)&&a[s]){if(l=a[s].img,u=a[s].descr||"",h=a[s].joinWith||"",y.includes(s)){if(p=(0,c.default)("<tr>"),f='<td class="'+t.className_+'-img"><div class="'+t.className_+'-imgDiv">',l)if(c.default.isArray(l)){for(var v=0,m=l.length;v<m;v++)l[v]='<img class="'+t.className_+'-docuImg" src="images/doc/'+l[v]+'">';f+=l.join(h)}else f+='<img class="'+t.className_+'-docuImg" src="images/doc/'+l+'">';f+="</div></td>",p.append(f),d=(0,c.default)("<td>").addClass(t.className_+"-descr"),c.default.isArray(u)?d.append(u.join("<p>")):d.append(u),p.append(d)}o.append(p)}return o}(0,this.language))}},{key:"setActive",value:function(t){var e=this;if(!this.loading_){var n=this.active_;if(n!==t){this.active_=t;var i={type:"change:active",oldValue:n};!0===t?this.contentData_?this.dispatchEvent(i):(this.loading_=!0,c.default.ajax(this.documentationFileName_,{dataType:"text"}).fail(function(){var t="Wasn't able to load the documentation file "+e.documentationFileName_;throw d.Debug.error(t),new Error(t)}).done(function(t){e.contentData_=t,e.createContent_(),(0,h.finishAllImages)(e.get$Element()).then(function(){e.loading_=!1,e.dispatchEvent(i)})})):this.dispatchEvent(i)}}}},{key:"getActive",value:function(){return this.active_}}]),e}(u.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.InfoButton=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(6),h=n(132),f=n(15);n(422);e.InfoButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.className=t.className||"g4u-infobutton",t.element=(0,c.default)("<div>")[0];var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.classNameAttributions_=n.className_+"-attributions",n.classNameContent_=n.className_+"-content",n.setTitle(n.getLocaliser().localiseUsingDictionary("InfoPage title")),n.setTipLabel(n.getLocaliser().localiseUsingDictionary("InfoPage tipLabel")),n.$content_=(0,c.default)("<div>").addClass(n.classNameContent_),n.get$Element().append(n.$content_),n.attribution_=!1!==t.attribution,n.contentURL_=t.contentURL,n.useProxy_=t.useProxy||!t.hasOwnProperty("useProxy")&&t.proxy,n.proxy_=t.proxy,n.attribution_&&(n.$attributions_=(0,c.default)("<div>"),n.get$Element().append((0,c.default)("<h2>").html(n.getLocaliser().localiseUsingDictionary("InfoPage copyrightTitle"))).append(n.$attributions_),n.attributionControl_=new h.Attribution({target:n.get$Element()[0],localiser:n.getLocaliser(),collapsible:!1,className:n.classNameAttributions_})),n.loaded_=!1,n.active_=!1,n}return o(e,t),a(e,[{key:"setMap",value:function(t){var n=this.getMap();n&&this.attribution_&&n.removeControl(this.attributionControl_),t&&this.attribution_&&t.addControl(this.attributionControl_),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"setActive",value:function(t){var e=this,n=this.active_;if(n!==t){this.active_=t;var i={type:"change:active",oldValue:n};if(t&&(this.getMap().get("localiser").isRtl()?this.get$Element().prop("dir","rtl"):this.get$Element().prop("dir",void 0)),this.loaded_)this.dispatchEvent(i);else if(this.contentURL_){var r=this.getLocaliser().selectL10N(this.contentURL_);this.useProxy_&&(r=(0,u.addProxy)(r,this.proxy_||this.getMap().get("proxy"))),c.default.get(r,function(t){e.$content_.html(t),e.dispatchEvent(i),e.loaded_=!0})}else this.dispatchEvent(i)}}},{key:"getActive",value:function(){return this.active_}}]),e}(f.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherButton=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(15),h=n(27),f=n(13);n(169);e.LanguageSwitcherButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.element=(0,c.default)("<button>").get(0),t.singleButton=!0,t.className=t.className||"g4u-languageswitcher";var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.$button_=n.get$Element().addClass(n.className_+"-button");var o=n.getLocaliser().getAvailableLanguages();return o.length<2?(f.Debug.info("You do not have any languages to switch between."),f.Debug.info("Could it be that you forgot to disable languageSwitcherButton?")):o.length>2&&(f.Debug.info("You have more than 2 languages to switch between."),f.Debug.info("In this case you need to use languageSwitcherMenu.")),n.$button_.on("click",function(){var t=o[1-o.indexOf(n.getLocaliser().getCurrentLang())];n.getLocaliser().setCurrentLang(t)}),n}return o(e,t),a(e,[{key:"setMap",value:function(t){t&&(this.$button_.html(this.getLocaliser().getCurrentLang()),(0,h.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherButton tipLabel"))),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}}]),e}(u.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherMenu=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(224),h=n(27),f=n(15),p=n(8),d=n(13);n(169);var y=n(89),g=n(6);e.LanguageSwitcherMenu=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.className=t.className||"g4u-languageswitchermenu",t.element=(0,c.default)("<div>").get(0),t.singleButton=!1;var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.showLongLanguage_=t.showLongLanguage||!1,n.setTitle(n.getLocaliser().getCurrentLang()),n.$button_=(0,c.default)("<button>").addClass(n.className_+"-button").addClass(p.cssClasses.mainButton),n.showLongLanguage_&&n.$button_.addClass(n.className_+"-lang-long"),n.get$Element().append(n.$button_);var o={className:"g4u-dropdown"};n.dropdown_=new u.Dropdown(o),n.get$Element().append(n.dropdown_.get$Element());var a=n.getLocaliser().getAvailableLanguages();return a.length<2?(d.Debug.info("You do not have any languages to switch between."),d.Debug.info("Could it be that you forgot to disable languageSwitcherMenu?")):2===a.length&&(d.Debug.info("You only have 2 languages to switch between."),d.Debug.info("What about using languageSwitcherButton in place of languageSwitcherMenu?")),n.dropdown_.setEntries(a,a.map(function(t){return t.toUpperCase()+" - "+n.getLocaliser().localiseUsingDictionary(t)})),n.dropdown_.on("select",function(){return n.getLocaliser().setCurrentLang(n.dropdown_.getValue())}),n.get$Element().on("keydown",function(t){t.which===p.keyCodes.ESCAPE&&(n.setActive(!1),(0,c.default)(n.getMap().getViewport()).focus())}),n.active_=!1,n}return o(e,t),a(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&(this.detachAllListeners(),this.setActive(!1)),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){this.collapse_=!0,this.listenAt(document).on("click",function(){n.collapse_=!0},!0),this.listenAt([(0,c.default)(this.getMap().getViewport()).find(".ol-overlaycontainer-stopevent"),document]).on("click",function(){n.collapse_&&n.getActive()&&n.setActive(!1)}),this.listenAt(this.get$Element()).on("click",function(){n.collapse_=!1,n.setActive(!n.getActive())});var i=this.getLocaliser().getCurrentLang();this.showLongLanguage_?this.$button_.html(i.toUpperCase()+" - "+this.getLocaliser().localiseUsingDictionary(i)):this.$button_.html(i.toUpperCase()),(0,h.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherMenu tipLabel"))}}},{key:"getActive",value:function(){return this.active_}},{key:"setActive",value:function(t){var e=this.active_;e!==t&&(this.dropdown_.setActivated(this.getLocaliser().getCurrentLang()),t?(this.collapse_=!1,this.dropdown_.slideDown(this.getMap().get("mobile"))):this.dropdown_.slideUp(this.getMap().get("mobile")),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:e}))}}]),e}((0,g.mixin)(f.Control,y.ListenerOrganizerMixin))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerSelector=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(1),u=i(c),h=n(186),f=i(h),p=n(65),d=n(223),y=n(15),g=n(6),v=n(8),m=n(64);n(424);var _=n(89);e.LayerSelector=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.className=t.className||"g4u-layerselector",t.element=(0,u.default)("<div>")[0],t.singleButton=!1;var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.layerGroupName_=t.layerGroupName,n.minLayerAmount_=t.hasOwnProperty("minLayerAmount")?t.minLayerAmount:1,n.collapsible_=!t.hasOwnProperty("collapsible")||t.collapsible,n.collapsed_=t.collapsed||!1,n.classNames_={menu:n.className_+"-menu",layerButton:n.className_+"-layerbutton"},n.menu_=new d.ButtonBox({element:n.get$Element(),className:n.getClassName(),title:n.getLocaliser().selectL10N(n.getTitle()),collapsible:n.collapsible_,collapsed:n.collapsed_}),n.get$Element().append(n.menu_.get$Element()),n.toggle_=t.toggle||!0,n.minVisibleButtons_=t.minVisibleEntries||6,n.visible_=!0,n}return a(e,t),s(e,[{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"getCollapsed",value:function(){return this.menu_.getCollapsed()}},{key:"setCollapsed",value:function(t){this.menu_.setCollapsed(t)}},{key:"addWindowToButton",value:function(t,e){var n=this,i=e.get("window"),r=new m.Window({map:this.getMap()});this.$windowContainer_||(this.$windowContainer_=(0,u.default)("<span>"),this.get$Element().append(this.$windowContainer_)),this.$windowContainer_.append(r.get$Element()),r.get$Element().attr("data-layer-0",e.get("id"));var o=void 0,a=i.useProxy||!i.hasOwnProperty("useProxy")&&i.proxy,s=i.proxy,l=function(){n.getMap().get("localiser").isRtl()?r.get$Body().prop("dir","rtl"):r.get$Body().prop("dir",void 0),r.get$Body().html(o),r.setVisible(!0)},c=function(){r.setVisible(!1)};this.listenAt(t).on("click",function(){if(e.getVisible())if(o)l();else{var t=n.getLocaliser().selectL10N(i.url);a&&(t=(0,g.addProxy)(t,s||n.getMap().get("proxy"))),u.default.get(t,function(t){o=t,l()})}else c()})}},{key:"buildLayerButton",value:function(t,e){var n=this;if(t.get("available")){var i=(0,u.default)("<button>").addClass(this.classNames_.layerButton).attr("id",t.get("id")).html(t.get("title"));this.getMap().get("localiser").isRtl()&&i.prop("dir","rtl");var r=this.classNames_.menu+"-active";this.listenAt(i).on("click",function(){n.toggle_?t.setVisible(!t.getVisible()):t.setVisible(!0)}),t.getVisible()&&i.addClass(r),this.listenAt(t).on("change:visible",function(){i.toggleClass(r,t.getVisible()),t.getVisible()||i.removeClass("g4u-layer-loading")}),t.get("window")&&this.addWindowToButton(i,t),this.listenAt(t).on("loadcountstart",function(){i.addClass("g4u-layer-loading")}),this.listenAt(t).on("loadcountend",function(){i.removeClass("g4u-layer-loading")}),e.append(i)}}},{key:"buildCategoryButton",value:function(t,e){var n=this,i=e;if(t.get("available")){var r=!1!==t.get("activateChildren"),o=new d.ButtonBox({className:this.classNames_.menu,title:this.getLocaliser().selectL10N(t.get("title")),rtl:this.getMap().get("localiser").isRtl(),titleButton:r,collapsed:!t.countChildrenVisible()&&!1!==t.get("collapsed"),id:t.get("id")}),a=t.countChildren(),s=t.countChildrenVisible(),l=function(){0===s?(o.setCollapseButtonActive(!1),r&&o.setTitleButtonActive(!1)):s===a?(o.setCollapseButtonActive(!0),r&&o.setTitleButtonActive(!0)):(o.setCollapseButtonActive(!0),r&&o.setTitleButtonActive(!1))};l();var c=function(t){n.listenAt(t).on(["change:visible","change:childVisible"],function(e){(e.child||t).getVisible()?s++:s--,l()})};t.getLayers().forEach(c),this.listenAt(t.getLayers()).on("add",function(t){return c(t.element)}),this.listenAt(o).on("title:click",function(){var e=s<a;t.recursiveForEach(function(t){t instanceof p.GroupLayer||t.setVisible(e)})}),e.append(o.get$Element()),i=o.get$Body(),this.listenAt(o).on("change:collapsed",function(){return n.changed()})}var u=!0,h=!1,f=void 0;try{for(var y,g=t.getLayers().getArray()[Symbol.iterator]();!(u=(y=g.next()).done);u=!0){var v=y.value;this.chooseButtonBuilder(v,i)}}catch(t){h=!0,f=t}finally{try{!u&&g.return&&g.return()}finally{if(h)throw f}}}},{key:"buildWMSButton",value:function(t,e){var n=this;t.get("available")&&function(){var i=t.get("buttons"),o=function(){function t(){r(this,t),this.buttons_=[]}return s(t,[{key:"isActive",value:function(t){return this.buttons_.indexOf(t)>-1}},{key:"add",value:function(t){if(Array.isArray(t)){var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;this.add(a)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}else this.isActive(t)||this.buttons_.push(t)}},{key:"remove",value:function(t){if(Array.isArray(t)){var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;this.remove(a)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}else{var s=this.buttons_.indexOf(t);s>-1&&this.buttons_.splice(s,1)}}},{key:"clear",value:function(){this.buttons_=[]}},{key:"getFlatProp",value:function(t){return(0,f.default)(this.buttons_.map(function(e){return e[t]||[]}))}},{key:"count",value:function(){return this.buttons_.length}},{key:"toggle",value:function(t,e){e?this.add(t):this.remove(t)}}]),t}(),a=new o,l=function(){t.getSource().updateParams({LAYERS:a.getFlatProp("LAYERS")})},c=t.getSource().isFeatureInfoCheckable(),h=new o,p=function(){var e=void 0;e=c?{QUERY_LAYERS:h.getFlatProp("QUERY_LAYERS")}:{QUERY_LAYERS:a.getFlatProp("QUERY_LAYERS")},t.getSource().updateFeatureInfoParams(e)};i?function(){var r=new d.ButtonBox({className:n.classNames_.menu,title:n.getLocaliser().selectL10N(t.get("title")),titleButton:!0,collapsed:!1!==t.get("collapsed"),id:t.get("id")});e.append(r.get$Element()),n.listenAt(r).on("change:collapsed",function(){return n.changed()});var o=n.classNames_.menu+"-active",s=(0,u.default)(),f=!0,y=!1,g=void 0;try{for(var v,m=i[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var _=v.value;!function(e){var f=(0,u.default)("<button>").addClass(n.classNames_.layerButton).html(n.getLocaliser().selectL10N(e.title)),d=(0,u.default)('<input type="checkbox">'),y=void 0,g=void 0;y=function(n){a.toggle(e,n),f.toggleClass(o,n),!n&&c&&g(!1),0===a.count()?(t.setVisible(!1),r.setCollapseButtonActive(!1),r.setTitleButtonActive(!1)):a.count()===i.length?(t.setVisible(!0),r.setCollapseButtonActive(!0),r.setTitleButtonActive(!0)):(t.setVisible(!0),r.setCollapseButtonActive(!0),r.setTitleButtonActive(!1)),l(),p()},g=function(t){h.toggle(e,t),t&&!a.isActive(e)&&y(!0),p(),d.prop("checked",t)},n.listenAt(f).on("click",function(){return y(!a.isActive(e))}),c&&(f.append(d),n.listenAt(d).on("click",function(t){g(d.is(":checked")),t.stopPropagation()})),s=s.add(f),r.get$Body().append(f)}(_)}}catch(t){y=!0,g=t}finally{try{!f&&m.return&&m.return()}finally{if(y)throw g}}n.listenAt(r).on("title:click",function(){var e=a.count()<i.length;e?a.add(i):(a.clear(),c&&(h.clear(),s.find("input[type=checkbox]").prop("checked",!1))),s.toggleClass(o,e),t.setVisible(e),r.setCollapseButtonActive(e),r.setTitleButtonActive(e),l()})}():n.buildLayerButton(t,e)}()}},{key:"chooseButtonBuilder",value:function(t,e){t instanceof p.GroupLayer?this.buildCategoryButton(t,e):t.getSource().isFeatureInfoCheckable?this.buildWMSButton(t,e):this.buildLayerButton(t,e)}},{key:"setMap",value:function(t){if(this.getMap()&&this.detachAllListeners(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t)if(this.layers_=t.get(this.layerGroupName_).getLayers(),this.layers_.getLength()>=this.minLayerAmount_){var n=new d.ButtonBox({className:this.classNames_.menu}),i=!0,r=!1,o=void 0;try{for(var a,s=this.layers_.getArray()[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value;this.chooseButtonBuilder(c,this.menu_.get$Body())}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}n.giveLastVisible(this.get$Element().children(":last-child").children(":last-child"))}else this.setVisible(!1)}},{key:"setVisible",value:function(t){this.get$Element().toggleClass(v.cssClasses.hidden,!t),this.visible_=t}},{key:"getVisible",value:function(){return this.visible_}},{key:"isSqueezable",value:function(t){return"height"===t}},{key:"squeezeBy",value:function(t,e){if("height"===t){var n=this.get$Element().find("."+this.getClassName()+"-content"),i=n.find("button:visible");if(i.length>1){var r=n.height(),o=(0,g.offset)(i.eq(1),i.eq(0)).top,a=Math.max(o*this.minVisibleButtons_,r-e);if(r>a)return n.css("max-height",a),r-a}}return 0}},{key:"beforePositioning",value:function(){this.scrolled_=this.menu_.get$Body().scrollTop()}},{key:"afterPositioning",value:function(){this.menu_.get$Body().scrollTop(this.scrolled_)}},{key:"release",value:function(t){"height"===t&&this.get$Element().find("."+this.getClassName()+"-content").css("max-height","")}}]),e}((0,g.mixin)(y.Control,_.ListenerOrganizerMixin))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.LinkButton=void 0;var a=n(1),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(15),c=n(27),u=n(8);n(425);e.LinkButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.className=t.className||"g4u-link-button",t.singleButton=!0,t.element=(0,s.default)("<a></a>").get(0);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.url_=t.hasOwnProperty("url")?t.url:"",n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("LinkButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("LinkButton tipLabel")),n.get$Element().attr("href",n.url_).addClass(n.className_),t.hasOwnProperty("target")&&n.get$Element().attr("target",t.target);var o=(0,s.default)("<button>").addClass(u.cssClasses.mainButton).html(n.getTitle());return(0,c.addTooltip)(o,n.getTipLabel()),n.get$Element().append(o),t.hasOwnProperty("linkTarget")&&n.get$Element().attr("target",t.linkTarget),n}return o(e,t),e}(l.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Logo=void 0;var a=n(1),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(15);n(426);e.Logo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.className=t.className||"g4u-logo",t.element=(0,s.default)("<img>").get(0),t.singleButton=!1;var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.logo_=t.hasOwnProperty("src")?t.src:"images/g4u-logo.png",n.get$Element().on("load",function(){return n.changed}).prop("src",n.logo_).addClass(n.className_),"both"!==t.mode&&"screen"!==t.mode||n.get$Element().addClass(n.className_+"-screen"),"both"!==t.mode&&"print"!==t.mode||n.get$Element().addClass(n.className_+"-print"),t.width&&n.get$Element().width(t.width),t.height&&n.get$Element().height(t.height),t.opacity&&n.get$Element().css("opacity",t.opacity.toString()),n}return o(e,t),e}(l.Control)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MobileControls=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(221),h=n(136);n(429);e.MobileControls=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),t.className=t.className||"g4u-mobilecontrols",t.element=(0,c.default)("<div>").get(0),t.containerClassName=t.className+"-container",t.visibleControls=t.visibleControls||6,r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),a(e,[{key:"addControl",value:function(t,n){t.isWindowed()||t.isSingleButton()?s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,t,n):s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,new h.WindowDecorator({component:t}),n)}},{key:"setMap",value:function(t){var n=this;this.getMap()&&this.getMap().un("change:mobile",this.handler_),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.handler_=function(){if(!t.get("mobile")){var e=!0,i=!1,r=void 0;try{for(var o,a=n.getControls().filter(function(t){return t.setWindowVisible})[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){o.value.setWindowVisible(!1)}}catch(t){i=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw r}}}},t.on("change:mobile",this.handler_))}}]),e}(u.ShiftableComposedControl)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MousePosition=void 0;var a=n(2),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(6),c=n(63);n(430);e.MousePosition=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-mouseposition";var n=function(t,e){var n=t.toString().match(/^[^.]*/)[0];return n.length>=e?n:t.toFixed(e-n.length)},o=t.digits||8;t.coordinateFormat=function(t){return n(t[0],o)+", "+n(t[1],o)};var a="&ndash;."+"&ndash;".repeat(o-1);return t.undefinedHTML=a+", "+a,r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),e}((0,l.mixin)(s.default.control.MousePosition,c.RewireMixin))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewMap=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(2),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(63),h=n(6);n(432);e.OverviewMap=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),t.hasOwnProperty("title")?t.tipLabel=t.localiser.selectL10N(t.title):t.tipLabel=t.hasOwnProperty("tipLabel")?t.localiser.selectL10N(t.tipLabel):t.localiser.localiseUsingDictionary("OverviewMap tipLabel"),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),a(e,[{key:"setMap",value:function(t){var n=this;if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){var i=this.get$Element().find(".ol-overviewmap-map");i=i.add(i.find(".ol-overviewmap-box"));var r=!1;i.on("click",function(e){r||t.getView().setCenter(n.getOverviewMap().getEventCoordinate(e))});var o=!1;i.on("mousedown",function(){r=!1,o=!0}),i.on("mouseup",function(t){o=!1}),i.on("mousemove",function(e){o&&t.getView().setCenter(n.getOverviewMap().getEventCoordinate(e))}),this.getOverviewMap().getView().on("change:center",function(){o=!1,r=!0})}}}]),e}((0,h.mixin)(c.default.control.OverviewMap,u.RewireMixin))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ScaleLine=void 0;var a=n(2),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(6),c=n(63);n(434);e.ScaleLine=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-scale-line",r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),e}((0,l.mixin)(s.default.control.ScaleLine,c.RewireMixin))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftableComposedControl=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=n(90),h=n(8);e.ShiftableComposedControl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.visibleControls_=t.visibleControls,n.position_=1;var o=(0,c.default)("<div>").addClass(n.className_+"-shift");return n.get$Element().append(o.append(n.get$Container())),n.$moveLeftButton_=(0,c.default)("<button>").addClass(n.className_+"-move-left").addClass(n.classNameItem_).addClass(n.classNameItemFirst_).addClass(h.cssClasses.hidden),n.$moveLeftButton_.on("click",function(){return n.shiftControls(-(n.visibleControls_-2))}),o.prepend(n.$moveLeftButton_),n.$moveLeftButton_.addClass(h.cssClasses.hidden),n.$moveRightButton_=(0,c.default)("<button>").addClass(n.className_+"-move-right").addClass(n.classNameItem_).addClass(n.classNameItemLast_),n.$moveRightButton_.on("click",function(){return n.shiftControls(n.visibleControls_-2)}),o.append(n.$moveRightButton_),n.$moveRightButton_.addClass(h.cssClasses.hidden),n}return o(e,t),a(e,[{key:"addControl",value:function(t,n){if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,t,n),this.controls_.length>this.visibleControls_){this.get$Container().children(":last-child").addClass(h.cssClasses.hidden),(0,c.default)(this.get$Container().children()[this.visibleControls_-1]).addClass(h.cssClasses.hidden),this.$moveRightButton_.removeClass(h.cssClasses.hidden)}}},{key:"shiftControls",value:function(t){t<0?this.position_>1&&(this.$moveRightButton_.hasClass(h.cssClasses.hidden)&&(this.get$Container().children(":last-child").addClass(h.cssClasses.hidden),this.$moveRightButton_.removeClass(h.cssClasses.hidden)),this.position_--,(0,c.default)(this.get$Container().children()[this.position_]).removeClass(h.cssClasses.hidden),(0,c.default)(this.get$Container().children()[this.position_+this.visibleControls_-2]).addClass(h.cssClasses.hidden),1===this.position_&&(this.get$Container().children(":first-child").removeClass(h.cssClasses.hidden),this.$moveLeftButton_.addClass(h.cssClasses.hidden)),this.shiftControls(t+1)):t>0&&this.position_+this.visibleControls_<this.controls_.length+1&&(this.$moveLeftButton_.hasClass(h.cssClasses.hidden)&&(this.get$Container().children(":first-child").addClass(h.cssClasses.hidden),this.$moveLeftButton_.removeClass(h.cssClasses.hidden)),this.position_++,(0,c.default)(this.get$Container().children()[this.position_-1]).addClass(h.cssClasses.hidden),(0,c.default)(this.get$Container().children()[this.position_+this.visibleControls_-3]).removeClass(h.cssClasses.hidden),this.position_+this.visibleControls_>=this.controls_.length&&(this.get$Container().children(":last-child").removeClass(h.cssClasses.hidden),this.$moveRightButton_.addClass(h.cssClasses.hidden)),this.shiftControls(t-1))}}]),e}(u.ComposedControl)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.defaults={};i.baselayer={title:{de:"Standardtitel",en:"Default title"},type:"OSM",source:{projection:"EPSG:3857",url:{de:"//{a-c}.tile.openstreetmap.de/tiles/osmde//{z}/{x}/{y}.png",en:"//{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},attribution:{de:'Karte von <a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a>, Lizenz: <a target="_blank" href="http://opendatacommons.org/licenses/odbl/">ODbL</a>',en:'Map from <a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a>, licence: <a target="_blank" href="http://opendatacommons.org/licenses/odbl/">ODbL</a>'}}},i.config={target:"#g4u-map",interfaceProjection:"EPSG:4326",view:{center:[7.086134,50.714689],zoom:18,minZoom:0,maxZoom:18},layers:{baseLayers:[{id:0,title:i.baselayer.title,type:i.baselayer.type,source:{projection:i.baselayer.source.projection,url:i.baselayer.source.url,attribution:i.baselayer.source.attribution},visible:!0}],featureLayers:[],featureLayersElement:{title:"Default title",type:"KML",source:{loadingStrategy:"ALL"}}},controls:{},move:{animationDuration:2e3,pixelPadding:60,meterMinSize:300},styleMap:{"#defaultStyle":{fill:{color:"rgba(0,0,0,0)"},stroke:{color:"rgba(255,255,255,1)",width:2},circle:{radius:5,fill:{color:"rgba(0,0,0,0)"},stroke:{color:"rgba(255,255,255,1)",width:2}}}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonBox=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=i(l),u=n(2),h=i(u),f=n(8);e.ButtonBox=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(n.className_=t.className||"g4u-menu",n.classNames_={body:n.className_+"-content",collapseButton:n.className_+"-collapsebutton",titleButton:n.className_+"-titlebutton",title:n.className_+"-title",active:n.className_+"-active",collapsed:n.className_+"-collapsed",lastVisible:n.className_+"-last-visible"},n.$element_=(0,c.default)("<div>").addClass(n.className_),t.hasOwnProperty("id")&&n.$element_.attr("id",t.id),n.titleButton_=t.titleButton||!1,n.collapsible_=!t.hasOwnProperty("collapsible")||t.collapsible,n.collapsed_=!!t.hasOwnProperty("collapsed")&&t.collapsed,n.$body_=(0,c.default)("<div>").addClass(n.classNames_.body),t.hasOwnProperty("content")&&n.$body_.append(t.content),t.hasOwnProperty("title"))if(n.$title_=(0,c.default)("<div>").addClass(n.classNames_.title),n.$element_.append(n.$title_),n.collapsible_){var i=(0,c.default)("<button>").addClass(n.classNames_.collapseButton);if(i.on("click",function(){n.setCollapsed(!n.collapsed_),i.blur()}),n.titleButton_){var a=(0,c.default)("<button>").addClass(n.classNames_.titleButton).on("click",function(){n.dispatchEvent("title:click"),a.blur()}).html(t.title);t.rtl&&a.prop("dir","rtl"),n.$title_.append(i).append(a)}else i.addClass(n.classNames_.titleButton).html(t.title),t.rtl&&i.prop("dir","rtl"),n.$title_.append(i)}else n.$title_.html(t.title),t.rtl&&n.$title_.prop("dir","rtl");else n.collapsible_=!1,n.collapsed_=!1;return n.$element_.append(n.$body_),n.collapsed_?n.setCollapsed(!0):n.setCollapsed(!1),n}return a(e,t),s(e,[{key:"setCollapsed",value:function(t){t?(this.$body_.addClass(f.cssClasses.hidden),this.$element_.addClass(this.classNames_.collapsed)):(this.$body_.removeClass(f.cssClasses.hidden),this.$element_.removeClass(this.classNames_.collapsed)),this.collapsed_=t,this.lastVisibleClass_(),this.dispatchEvent("change:collapsed")}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"lastVisibleClass_",value:function(){this.takeLastVisible(this.$element_)&&this.giveLastVisible(this.$element_)}},{key:"get$Body",value:function(){return this.$body_}},{key:"get$Element",value:function(){return this.$element_}},{key:"get$LastChild_",value:function(t){return t.children("."+this.classNames_.body).children(":last-child")}},{key:"setCollapseButtonActive",value:function(t){this.$title_.children("."+this.classNames_.collapseButton).toggleClass(this.classNames_.active,t)}},{key:"setTitleButtonActive",value:function(t){this.$title_.children("."+this.classNames_.titleButton).toggleClass(this.classNames_.active,t)}},{key:"giveLastVisible",value:function(t){if(t.hasClass(this.classNames_.collapsed))t.addClass(this.classNames_.lastVisible);else if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);e?this.giveLastVisible(e):t.addClass(this.classNames_.lastVisible)}else t.addClass(this.classNames_.lastVisible)}},{key:"takeLastVisible",value:function(t){if(t.hasClass(this.classNames_.lastVisible))return t.removeClass(this.classNames_.lastVisible),!0;if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);return!!e&&this.takeLastVisible(e)}return!1}},{key:"finish",value:function(){this.takeLastVisible(this.$element_),this.giveLastVisible(this.$element_)}}]),e}(h.default.Object)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Dropdown=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(2),c=i(l),u=n(1),h=i(u),f=n(8);n(50),n(418),h.default.extend(h.default.easing,{easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n}});e.Dropdown=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.className_=t.className||"g4u-dropdown",n.classNames_={entry:n.className_+"-entry",selected:n.className_+"-selected",ghost:n.className_+"-ghostentry"},n.$element_=(0,h.default)("<div>").addClass(n.className_),n.$ghostentry=(0,h.default)('<button tabindex="-1">').addClass(n.classNames_.ghost).html(t.ghostentry||"no entries"),n.slideDuration_=t.slideDuration||400,n.entriesArray_=[],n.selectedIndex_=-1,n.setUpKeyboardHandling_(),n.$element_.on("focus",function(){n.selectedIndex_>-1&&n.entriesArray_[n.selectedIndex_].$element.focus()}),n.$element_.get(0).addEventListener("mousemove",function(t){t.stopPropagation()},!1),n.slideUp(!0),n}return a(e,t),s(e,[{key:"getValue",value:function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].value}},{key:"getText",value:function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].text}},{key:"setUpKeyboardHandling_",value:function(){var t=this;this.$element_.on("keydown",function(e){switch(e.which){case f.keyCodes.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),t.selectedIndex_<t.entriesArray_.length-1&&(t.entriesArray_[t.selectedIndex_+1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_+1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_+=1);break;case f.keyCodes.ARROW_UP:e.preventDefault(),e.stopPropagation(),t.selectedIndex_>0?(t.entriesArray_[t.selectedIndex_-1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_-1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_-=1):(t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_=-1,t.dispatchEvent({type:"leave:backwards",originalEvent:e}));break;case f.keyCodes.TAB:e.shiftKey?t.dispatchEvent({type:"leave:backwards",originalEvent:e}):t.dispatchEvent({type:"leave:forwards",originalEvent:e});break;case f.keyCodes.ENTER:e.stopPropagation(),e.preventDefault(),t.select$Entry_(t.entriesArray_[t.selectedIndex_].$element)}})}},{key:"get$Element",value:function(){return this.$element_}},{key:"getLength",value:function(){return this.entriesArray_.length}},{key:"addEntry",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e||t;var i=this.getLength();this.setLength(i+1);var r=this.entriesArray_[i];r.text=e,r.$element.html(e),r.value=t,n&&(r.$element.addClass(this.classNames_.selected),this.selectedIndex_=i)}},{key:"setActivated",value:function(t,e){this.entriesArray_.find(function(e){return e.value===t}).$element.toggleClass(f.cssClasses.active,e)}},{key:"setEntries",value:function(t,e){e=e||t,this.setLength(t.length);for(var n=0,i=t.length;n<i;n++)this.entriesArray_[n].text=e[n],this.entriesArray_[n].$element.html(e[n]),this.entriesArray_[n].value=t[n]}},{key:"select$Entry_",value:function(t){t.hasClass(this.classNames_.selected)||(t.addClass(this.classNames_.selected),this.selectedIndex_>-1&&this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected)),this.selectedIndex_=this.entriesArray_.findIndex(function(e){return e.$element===t}),this.dispatchEvent("select")}},{key:"setLength",value:function(t){var e=this;this.selectedIndex_>-1&&(this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected),this.selectedIndex_=-1);var n=void 0,i=void 0;if(0===this.entriesArray_.length&&this.$element_.empty(),t>this.entriesArray_.length){for(n=this.entriesArray_.length,i=t;n<i;n++)!function(){var t=(0,h.default)('<button tabindex="-1">').addClass(e.classNames_.entry).hide();t.on("click",function(){return e.select$Entry_(t)}),t.focus(),e.$element_.append(t),e.entriesArray_.push({$element:t}),t.slideDown({duration:e.slideDuration_})}()}else if(t<this.entriesArray_.length){for(n=this.entriesArray_.length-1,i=t;n>=i;n--)this.entriesArray_[n].$element.slideUp({duration:this.slideDuration_,complete:function(){e.entriesArray_.pop(),e.$element_.children().last().remove()}});this.selectedIndex_>=t&&(this.selectedIndex_=t-1)}}},{key:"showGhostEntry",value:function(){this.setLength(0),this.$element_.append(this.$ghostentry),this.slideDown()}},{key:"focus",value:function(){this.entriesArray_.length>=0&&(this.selectedIndex_<0&&(this.selectedIndex_=0,this.entriesArray_[0].$element.addClass(this.classNames_.selected)),this.entriesArray_[this.selectedIndex_].$element.focus())}},{key:"slideUp",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n){var i=0;e||(i=t.slideDuration_),t.$element_.slideUp({duration:i,complete:function(){t.$element_.addClass(f.cssClasses.hidden),n()},easing:"easeInCirc"})})}},{key:"slideDown",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n){if(t.$element_.children().length>0){var i=0;e||(i=t.slideDuration_),t.$element_.removeClass(f.cssClasses.hidden),t.$element_.slideDown({easing:"easeOutCirc",complete:n,duration:i})}})}},{key:"clear",value:function(){this.slideUp(),this.$element_.empty(),this.entriesArray_=[],this.selectedIndex_=-1}},{key:"isSelectable",value:function(){return this.entriesArray_.length>0}}]),e}(c.default.Object)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.History=function(){function t(){var e=this;i(this,t),this.callbacks_=[],"future"!==window.history.state&&(window.history.replaceState("base",""),window.history.pushState("future","")),window.addEventListener("popstate",function(t){if("base"===t.state){var n=e.callbacks_.pop();n?(n.call(),window.history.forward()):window.history.back()}})}return r(t,[{key:"push",value:function(t){this.callbacks_.push(t)}},{key:"pop",value:function(){this.callbacks_.pop().call()}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Shield=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(2),c=i(l),u=n(1),h=i(u),f=n(8),p=n(27);n(435);e.Shield=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.className_=t.className||"g4u-shield",n.map_=t.map,n.$context_=(0,h.default)(n.map_.getTarget()),n.$element_=(0,h.default)("<div>").addClass(n.className_),n.$context_.append(n.$element_),n.setActive(!!t.hasOwnProperty("active")&&t.active),n.$element_.on("keydown",function(t){t.which===f.keyCodes.ESCAPE&&n.getActive()&&n.setActive(!1)}),n.elementsOnTop_=new Map,n}return a(e,t),s(e,[{key:"setActive",value:function(t){var e=this.active_;e!==t&&(t?(this.$element_.removeClass(f.cssClasses.hidden),(0,p.getInFront)(this.$element_,this.$context_)):this.$element_.addClass(f.cssClasses.hidden),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:e,key:"active"}))}},{key:"getActive",value:function(){return this.active_}},{key:"add$OnTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if(!e.hasOwnProperty("findParentWindow")||e.findParentWindow){var i=t.parents().filter(".g4u-window");i.length>0&&(n=i)}var r=n.parent();this.elementsOnTop_.set(t[0],{$actualElement:n,$oldParent:r,oldIndex:r.children().index(t)}),this.$element_.append(n),(0,p.getInFront)(n,this.$element_);var o=!0,a=!1,s=void 0;try{for(var l,c=Array.from(r[0].classList)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;this.$element_.addClass(u)}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}},{key:"remove$OnTop",value:function(t){var e=t[0],n=this.elementsOnTop_.get(e),i=n.$actualElement,r=n.$oldParent,o=n.oldIndex;0===o?r.prepend(i):r.children().eq(o-1).after(i);var a=!0,s=!1,l=void 0;try{for(var c,u=Array.from(r[0].classList)[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;this.$element_.removeClass(h)}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}this.elementsOnTop_.delete(e)}},{key:"get$ElementsInFront",value:function(){return this.$element_.children()}}]),e}(c.default.Object)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureSelect=void 0;var s=n(2),l=i(s),c=n(545),u=i(c);e.FeatureSelect=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=function(t){return t.getGeometry()instanceof l.default.geom.Point||t.getGeometry()instanceof l.default.geom.MultiPoint?1:t.getGeometry()instanceof l.default.geom.LineString||t.getGeometry()instanceof l.default.geom.MultiLineString?2:3};return n.on("select",function(t){t.selected=(0,u.default)(t.selected,i),t.deselected=(0,u.default)(t.deselected,i)}),n}return a(e,t),e}(l.default.interaction.Select)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MapEventInteraction=void 0;var s=n(2),l=i(s),c=n(1),u=i(c);e.MapEventInteraction=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var i=n.type||"singleclick";return t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{handleEvent:function(e){return t.getActive()&&e.type===i&&(0,u.default)(e.originalEvent.target).is(".ol-viewport > canvas")&&t.dispatchEvent({type:"mapevent",mapEvent:e}),!0}}))}return a(e,t),e}(l.default.interaction.Interaction)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerTile=void 0;var i=n(139),r=n(137),o=n(6);e.BaseLayerTile=(0,o.mixin)(i.LayerTile,r.BaseLayerMixin)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyBaseLayer=void 0;var a=n(2),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(138);e.EmptyBaseLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),t.source=new s.default.source.ImageCanvas({state:"ready",canvasFunction:function(){}}),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),e}(l.BaseLayerImage)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){return Array.isArray(i)&&(i={modules:i}),new Promise(function(r,o){(0,l.default)(document).ready(function(){if(l.default){var s=(0,l.default)().jquery.split(".");+s[0]<2&&+s[1]<9&&u.Debug.error("You are using an outdated version of jQuery. Please use version 1.9 or higher.")}else o("jQuery not available.");a.default||o("OpenLayers not available."),a.default.has.CANVAS||((0,l.default)(".g4u-browser-support-message").show(),o("Browser does not support Canvas.")),(0,l.default)(t).empty(),window.map=new c.G4UMap(t,e,n,i),window.map.asSoonAs("ready",!0,function(){r(window.map)})})})}Object.defineProperty(e,"__esModule",{value:!0}),e.createG4UInternal=r;var o=n(2),a=i(o),s=n(1),l=i(s);n(130),n(443),n(50);var c=n(88),u=n(13);window.jQuery=window.jQuery||l.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(2),o=i(r),a=n(1),s=i(a);o.default.Object.prototype.asSoonAs=function(t,e,n){var i=this;if(!s.default.isFunction(n))throw new Error("You need to provide a callback to asSoonAs.");this.get(t)===e?n():this.once("change:"+t,function(){i.asSoonAs(t,e,n)})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TileWMSSource=e.ImageWMSSource=e.WMSFeatureInfoMixin=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),s=i(a),l=n(1),c=i(l),u=n(6),h=e.WMSFeatureInfoMixin=function(){function t(){r(this,t)}return o(t,[{key:"initialize",value:function(t){this.featureInfo_=void 0!==t.featureInfo,this.featureInfo_&&(this.featureInfoParams_=t.featureInfo.params,this.featureInfoCheckable_=t.featureInfo.checkable,this.featureInfoMutators_=t.featureInfo.mutators,this.featureInfoProxy_=t.featureInfo.proxy),this.originalUrl_=t.originalUrl}},{key:"getFeatureInfoMutators",value:function(){return this.featureInfoMutators_||[]}},{key:"hasFeatureInfo",value:function(){return this.featureInfo_}},{key:"isFeatureInfoCheckable",value:function(){return this.featureInfoCheckable_}},{key:"updateFeatureInfoParams",value:function(t){Object.assign(this.featureInfoParams_,t)}},{key:"getFeatureInfo",value:function(t,e,n){var i=this;return new Promise(function(r,o){var a=i.featureInfoParams_;if(a.QUERY_LAYERS&&0!==a.QUERY_LAYERS.length){var s=void 0!==i.featureInfoProxy_,l=void 0;s&&(l=i.getUrls(),i.setUrl((0,u.addProxy)(i.originalUrl_,i.featureInfoProxy_))),c.default.ajax({url:i.getGetFeatureInfoUrl(t,e,n,a),success:r,error:o,dataType:"text"}),s&&i.setUrls(l)}else r("")})}}]),t}();e.ImageWMSSource=(0,u.mixin)(s.default.source.ImageWMS,h),e.TileWMSSource=(0,u.mixin)(s.default.source.TileWMS,h)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySource=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(92),c=n(6);e.QuerySource=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.origUrlTemplate_=n.getUrlTemplate(),n.changedQueryValuesCount_=0,n.setQueryValues(t.queryValues||[]),n}return o(e,t),a(e,[{key:"setQueryValues",value:function(t){this.queryValues_=t,this.setUrlTemplate((0,c.expandTemplate)(this.origUrlTemplate_,"apiValue",this.queryValues_)),this.changedQueryValuesCount_++,this.changed()}},{key:"addFeatures",value:function(t){this.changedQueryValuesCount_>0&&(this.changedQueryValuesCount_--,this.clear()),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addFeatures",this).call(this,t)}},{key:"getQueryValues",value:function(){return this.queryValues_}}]),e}(l.SourceServerVector)},function(t,e,n){n(244),t.exports=n(32).RegExp.escape},function(t,e,n){var i=n(7),r=n(101),o=n(9)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var i=n(236);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var i=n(3),r=n(31);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(45),r=n(76),o=n(59);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),l=o.f,c=0;s.length>c;)l.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var i=n(45),r=n(21);t.exports=function(t,e){for(var n,o=r(t),a=i(o),s=a.length,l=0;s>l;)if(o[n=a[l++]]===e)return n}},function(t,e,n){"use strict";var i=n(242),r=n(72),o=n(17);t.exports=function(){for(var t=o(this),e=arguments.length,n=Array(e),a=0,s=i._,l=!1;e>a;)(n[a]=arguments[a++])===s&&(l=!0);return function(){var i,o=this,a=arguments.length,c=0,u=0;if(!l&&!a)return r(t,n,o);if(i=n.slice(),l)for(;e>c;c++)i[c]===s&&(i[c]=arguments[u++]);for(;a>u;)i.push(arguments[u++]);return r(t,i,o)}}},function(t,e,n){t.exports=n(4)},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){var i=n(0),r=n(243)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(141)}),n(52)("copyWithin")},function(t,e,n){"use strict";var i=n(0),r=n(29)(4);i(i.P+i.F*!n(26)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(93)}),n(52)("fill")},function(t,e,n){"use strict";var i=n(0),r=n(29)(2);i(i.P+i.F*!n(26)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(29)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(52)(o)},function(t,e,n){"use strict";var i=n(0),r=n(29)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(52)("find")},function(t,e,n){"use strict";var i=n(0),r=n(29)(0),o=n(26)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(33),r=n(0),o=n(14),a=n(150),s=n(100),l=n(12),c=n(94),u=n(117);r(r.S+r.F*!n(74)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,g=void 0!==y,v=0,m=u(f);if(g&&(y=i(y,d>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(e=l(f.length),n=new p(e);e>v;v++)c(n,v,g?y(f[v],v):f[v]);else for(h=m.call(f),n=new p;!(r=h.next()).done;v++)c(n,v,g?a(h,y,[r.value,v],!0):r.value);return n.length=v,n}})},function(t,e,n){"use strict";var i=n(0),r=n(68)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(26)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(101)})},function(t,e,n){"use strict";var i=n(0),r=n(21),o=[].join;i(i.P+i.F*(n(58)!=Object||!n(26)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(21),o=n(40),a=n(12),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(26)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),n=a(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){"use strict";var i=n(0),r=n(29)(1);i(i.P+i.F*!n(26)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(94);i(i.S+i.F*n(5)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),r=n(143);i(i.P+i.F*!n(26)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(143);i(i.P+i.F*!n(26)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(98),o=n(24),a=n(48),s=n(12),l=[].slice;i(i.P+i.F*n(5)(function(){r&&l.call(r)}),"Array",{slice:function(t,e){var n=s(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=a(t,n),c=a(e,n),u=s(c-r),h=Array(u),f=0;f<u;f++)h[f]="String"==i?this.charAt(r+f):this[r+f];return h}})},function(t,e,n){"use strict";var i=n(0),r=n(29)(3);i(i.P+i.F*!n(26)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(17),o=n(14),a=n(5),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(26)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,n){n(47)("Array")},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(0),r=n(5),o=Date.prototype.getTime,a=function(t){return t>9?t:"0"+t};i(i.P+i.F*(r(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!r(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(31);i(i.P+i.F*n(5)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(9)("toPrimitive"),r=Date.prototype;i in r||n(18)(r,i,n(238))},function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(19)(i,"toString",function(){var t=o.call(this);return t===t?r.call(this):"Invalid Date"})},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(144)})},function(t,e,n){"use strict";var i=n(7),r=n(23),o=n(9)("hasInstance"),a=Function.prototype;o in a||n(11).f(a,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(11).f,r=n(39),o=n(16),a=Function.prototype,s=/^\s*function ([^ (]*)/,l=Object.isExtensible||function(){return!0};"name"in a||n(10)&&i(a,"name",{configurable:!0,get:function(){try{var t=this,e=(""+t).match(s)[1];return o(t,"name")||!l(t)||i(t,"name",r(5,e)),e}catch(t){return""}}})},function(t,e,n){var i=n(0),r=n(152),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function i(t){return isFinite(t=+t)&&0!=t?t<0?-i(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:i})},function(t,e,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=n(105);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(0),r=n(104);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(0),r=n(105),o=Math.pow,a=o(2,-52),s=o(2,-23),l=o(2,127)*(2-s),c=o(2,-126),u=function(t){return t+1/a-1/a};i(i.S,"Math",{fround:function(t){var e,n,i=Math.abs(t),o=r(t);return i<c?o*u(i/c/s)*c*s:(e=(1+s/a)*i,n=e-(e-i),n>l||n!=n?o*(1/0):o*n)}})},function(t,e,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,a=0,s=arguments.length,l=0;a<s;)n=r(arguments[a++]),l<n?(i=l/n,o=o*i*i+1,l=n):n>0?(i=n/l,o+=i*i):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(5)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(152)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(105)})},function(t,e,n){var i=n(0),r=n(104),o=Math.exp;i(i.S+i.F*n(5)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),r=n(104),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){"use strict";var i=n(4),r=n(16),o=n(24),a=n(99),s=n(31),l=n(5),c=n(44).f,u=n(22).f,h=n(11).f,f=n(56).trim,p=i.Number,d=p,y=p.prototype,g="Number"==o(n(43)(y)),v="trim"in String.prototype,m=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():f(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var a,l=e.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?l(function(){y.valueOf.call(n)}):"Number"!=o(n))?a(new d(m(e)),n,p):m(e)};for(var _,b=n(10)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)r(d,_=b[w])&&!r(p,_)&&h(p,_,u(d,_));p.prototype=y,y.constructor=p,n(19)(i,"Number",p)}},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(0),r=n(4).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(149)})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),r=n(149),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),r=n(159);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(0),r=n(160);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){"use strict";var i=n(0),r=n(40),o=n(140),a=n(112),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*c[n],c[n]=i%1e7,i=l(i/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=l(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)},y=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(5)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,i,s,l=o(this,u),c=r(t),g="",v="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=y(l*d(2,69,1))-69,n=e<0?l*d(2,-e,1):l/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=c;i>=7;)h(1e7,0),i-=7;for(h(d(10,i,1),0),i=e-1;i>=23;)f(1<<23),i-=23;f(1<<i),h(1,1),f(2),v=p()}else h(0,n),h(1<<-e,0),v=p()+a.call("0",c);return c>0?(s=v.length,v=g+(s<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c))):v=g+v,v}})},function(t,e,n){"use strict";var i=n(0),r=n(5),o=n(140),a=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(153)})},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(43)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(10),"Object",{defineProperties:n(154)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(10),"Object",{defineProperty:n(11).f})},function(t,e,n){var i=n(7),r=n(38).onFreeze;n(30)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(21),r=n(22).f;n(30)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){n(30)("getOwnPropertyNames",function(){return n(155).f})},function(t,e,n){var i=n(14),r=n(23);n(30)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(7);n(30)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(7);n(30)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(7);n(30)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(161)})},function(t,e,n){var i=n(14),r=n(45);n(30)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(7),r=n(38).onFreeze;n(30)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(7),r=n(38).onFreeze;n(30)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(107).set})},function(t,e,n){"use strict";var i=n(57),r={};r[n(9)("toStringTag")]="z",r+""!="[object z]"&&n(19)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0),r=n(159);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){var i=n(0),r=n(160);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){"use strict";var i,r,o,a=n(42),s=n(4),l=n(33),c=n(57),u=n(0),h=n(7),f=n(17),p=n(41),d=n(53),y=n(109),g=n(114).set,v=n(106)(),m=s.TypeError,_=s.process,b=s.Promise,_=s.process,w="process"==c(_),M=function(){},x=!!function(){try{var t=b.resolve(1),e=(t.constructor={})[n(9)("species")]=function(t){t(M,M)};return(w||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e}catch(t){}}(),S=function(t,e){return t===e||t===b&&e===o},P=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},O=function(t){return S(b,t)?new C(t):new r(t)},C=r=function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw m("Bad Promise constructor");e=t,n=i}),this.resolve=f(e),this.reject=f(n)},k=function(t){try{t()}catch(t){return{error:t}}},E=function(t,e){if(!t._n){t._n=!0;var n=t._c;v(function(){for(var i=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=r?e.ok:e.fail,s=e.resolve,l=e.reject,c=e.domain;try{a?(r||(2==t._h&&A(t),t._h=1),!0===a?n=i:(c&&c.enter(),n=a(i),c&&c.exit()),n===e.promise?l(m("Promise-chain cycle")):(o=P(n))?o.call(n,s,l):s(n)):l(i)}catch(t){l(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&j(t)})}},j=function(t){g.call(s,function(){var e,n,i,r=t._v;if(L(t)&&(e=k(function(){w?_.emit("unhandledRejection",r,t):(n=s.onunhandledrejection)?n({promise:t,reason:r}):(i=s.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=w||L(t)?2:1),t._a=void 0,e)throw e.error})},L=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if(e=n[i++],e.fail||!L(e.promise))return!1;return!0},A=function(t){g.call(s,function(){var e;w?_.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},T=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),E(e,!0))},I=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw m("Promise can't be resolved itself");(e=P(t))?v(function(){var i={_w:n,_d:!1};try{e.call(t,l(I,i,1),l(T,i,1))}catch(t){T.call(i,t)}}):(n._v=t,n._s=1,E(n,!1))}catch(t){T.call({_w:n,_d:!1},t)}}};x||(b=function(t){p(this,b,"Promise","_h"),f(t),i.call(this);try{t(l(I,this,1),l(T,this,1))}catch(t){T.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(46)(b.prototype,{then:function(t,e){var n=O(y(this,b));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=w?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),C=function(){var t=new i;this.promise=t,this.resolve=l(I,t,1),this.reject=l(T,t,1)}),u(u.G+u.W+u.F*!x,{Promise:b}),n(55)(b,"Promise"),n(47)("Promise"),o=n(32).Promise,u(u.S+u.F*!x,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(a||!x),"Promise",{resolve:function(t){if(t instanceof b&&S(t.constructor,this))return t;var e=O(this);return(0,e.resolve)(t),e.promise}}),u(u.S+u.F*!(x&&n(74)(function(t){b.all(t).catch(M)})),"Promise",{all:function(t){var e=this,n=O(e),i=n.resolve,r=n.reject,o=k(function(){var n=[],o=0,a=1;d(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o&&r(o.error),n.promise},race:function(t){var e=this,n=O(e),i=n.reject,r=k(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r&&i(r.error),n.promise}})},function(t,e,n){var i=n(0),r=n(17),o=n(3),a=(n(4).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(5)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return a?a(i,e,l):s.call(i,e,l)}})},function(t,e,n){var i=n(0),r=n(43),o=n(17),a=n(3),s=n(7),l=n(5),c=n(144),u=(n(4).Reflect||{}).construct,h=l(function(){function t(){}return!(u(function(){},[],t)instanceof t)}),f=!l(function(){u(function(){})});i(i.S+i.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var l=n.prototype,p=r(s(l)?l:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var i=n(11),r=n(0),o=n(3),a=n(31);r(r.S+r.F*n(5)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(22).f,o=n(3);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(0),r=n(3),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(102)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var i=n(22),r=n(0),o=n(3);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(0),r=n(23),o=n(3);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){function i(t,e){var n,s,u=arguments.length<3?t:arguments[2];return c(t)===u?t[e]:(n=r.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(u):void 0:l(s=o(t))?i(s,e,u):void 0}var r=n(22),o=n(23),a=n(16),s=n(0),l=n(7),c=n(3);s(s.S,"Reflect",{get:i})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(3),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(158)})},function(t,e,n){var i=n(0),r=n(3),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(107);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){function i(t,e,n){var l,f,p=arguments.length<4?t:arguments[3],d=o.f(u(t),e);if(!d){if(h(f=a(t)))return i(f,e,n,p);d=c(0)}return s(d,"value")?!(!1===d.writable||!h(p))&&(l=o.f(p,e)||c(0),l.value=n,r.f(p,e,l),!0):void 0!==d.set&&(d.set.call(p,n),!0)}var r=n(11),o=n(22),a=n(23),s=n(16),l=n(0),c=n(39),u=n(3),h=n(7);l(l.S,"Reflect",{set:i})},function(t,e,n){var i=n(4),r=n(99),o=n(11).f,a=n(44).f,s=n(73),l=n(71),c=i.RegExp,u=c,h=c.prototype,f=/a/g,p=/a/g,d=new c(f)!==f;if(n(10)&&(!d||n(5)(function(){return p[n(9)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(t,e){var n=this instanceof c,i=s(t),o=void 0===e;return!n&&i&&t.constructor===c&&o?t:r(d?new u(i&&!o?t.source:t,e):u((i=t instanceof c)?t.source:t,i&&o?l.call(t):e),n?this:h,c)};for(var y=a(u),g=0;y.length>g;)!function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})}(y[g++]);h.constructor=c,c.prototype=h,n(19)(i,"RegExp",c)}n(47)("RegExp")},function(t,e,n){n(70)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(70)("replace",2,function(t,e,n){return[function(i,r){"use strict";var o=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(t,e,n){n(70)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(70)("split",2,function(t,e,i){"use strict";var r=n(73),o=i,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,c,u,h,f,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,d+"g");for(l||(i=new RegExp("^"+v.source+"$(?!\\s)",d));(c=v.exec(n))&&!((u=c.index+c[0][s])>y&&(p.push(n.slice(y,c.index)),!l&&c[s]>1&&c[0].replace(i,function(){for(f=1;f<arguments[s]-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c[s]>1&&c.index<n[s]&&a.apply(p,c.slice(1)),h=c[0][s],y=u,p[s]>=g));)v.lastIndex===c.index&&v.lastIndex++;return y===n[s]?!h&&v.test("")||p.push(""):p.push(n.slice(y)),p[s]>g?p.slice(0,g):p}}else"0".split(void 0,0)[s]&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,r){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(t,e,n){"use strict";n(165);var i=n(3),r=n(71),o=n(10),a=/./.toString,s=function(t){n(19)(RegExp.prototype,"toString",t,!0)};n(5)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";n(20)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(20)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(20)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(20)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";var i=n(0),r=n(110)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(12),o=n(111),a="".endsWith;i(i.P+i.F*n(97)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),s=void 0===n?i:Math.min(r(n),i),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){"use strict";n(20)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(20)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(20)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){var i=n(0),r=n(48),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;i>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var i=n(0),r=n(111);i(i.P+i.F*n(97)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n(20)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";var i=n(110)(!0);n(103)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n(20)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){var i=n(0),r=n(21),o=n(12);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(112)})},function(t,e,n){"use strict";n(20)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";var i=n(0),r=n(12),o=n(111),a="".startsWith;i(i.P+i.F*n(97)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(20)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(20)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(20)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){"use strict";n(56)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(4),r=n(16),o=n(10),a=n(0),s=n(19),l=n(38).KEY,c=n(5),u=n(77),h=n(55),f=n(49),p=n(9),d=n(163),y=n(116),g=n(240),v=n(239),m=n(101),_=n(3),b=n(21),w=n(31),M=n(39),x=n(43),S=n(155),P=n(22),O=n(11),C=n(45),k=P.f,E=O.f,j=S.f,L=i.Symbol,A=i.JSON,T=A&&A.stringify,I=p("_hidden"),N=p("toPrimitive"),F={}.propertyIsEnumerable,B=u("symbol-registry"),D=u("symbols"),z=u("op-symbols"),R=Object.prototype,$="function"==typeof L,V=i.QObject,G=!V||!V.prototype||!V.prototype.findChild,U=o&&c(function(){return 7!=x(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=k(R,e);i&&delete R[e],E(t,e,n),i&&t!==R&&E(R,e,i)}:E,W=function(t){var e=D[t]=x(L.prototype);return e._k=t,e},q=$&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Y=function(t,e,n){return t===R&&Y(z,e,n),_(t),e=w(e,!0),_(n),r(D,e)?(n.enumerable?(r(t,I)&&t[I][e]&&(t[I][e]=!1),n=x(n,{enumerable:M(0,!1)})):(r(t,I)||E(t,I,M(1,{})),t[I][e]=!0),U(t,e,n)):E(t,e,n)},X=function(t,e){_(t);for(var n,i=v(e=b(e)),r=0,o=i.length;o>r;)Y(t,n=i[r++],e[n]);return t},H=function(t,e){return void 0===e?x(t):X(x(t),e)},Q=function(t){var e=F.call(this,t=w(t,!0));return!(this===R&&r(D,t)&&!r(z,t))&&(!(e||!r(this,t)||!r(D,t)||r(this,I)&&this[I][t])||e)},Z=function(t,e){if(t=b(t),e=w(e,!0),t!==R||!r(D,e)||r(z,e)){var n=k(t,e);return!n||!r(D,e)||r(t,I)&&t[I][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=j(b(t)),i=[],o=0;n.length>o;)r(D,e=n[o++])||e==I||e==l||i.push(e);return i},J=function(t){for(var e,n=t===R,i=j(n?z:b(t)),o=[],a=0;i.length>a;)!r(D,e=i[a++])||n&&!r(R,e)||o.push(D[e]);return o};$||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===R&&e.call(z,n),r(this,I)&&r(this[I],t)&&(this[I][t]=!1),U(this,t,M(1,n))};return o&&G&&U(R,t,{configurable:!0,set:e}),W(t)},s(L.prototype,"toString",function(){return this._k}),P.f=Z,O.f=Y,n(44).f=S.f=K,n(59).f=Q,n(76).f=J,o&&!n(42)&&s(R,"propertyIsEnumerable",Q,!0),d.f=function(t){return W(p(t))}),a(a.G+a.W+a.F*!$,{Symbol:L});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var tt=C(p.store),et=0;tt.length>et;)y(tt[et++]);a(a.S+a.F*!$,"Symbol",{for:function(t){return r(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if(q(t))return g(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!$,"Object",{create:H,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:K,getOwnPropertySymbols:J}),A&&a(a.S+a.F*(!$||c(function(){var t=L();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);return e=i[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,T.apply(A,i)}}}),L.prototype[N]||n(18)(L.prototype,N,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){"use strict";var i=n(0),r=n(78),o=n(115),a=n(3),s=n(48),l=n(12),c=n(7),u=n(4).ArrayBuffer,h=n(109),f=o.ArrayBuffer,p=o.DataView,d=r.ABV&&u.isView,y=f.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(u!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||c(t)&&g in t}}),i(i.P+i.U+i.F*n(5)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==y&&void 0===e)return y.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(h(this,f))(l(r-i)),c=new p(this),u=new p(o),d=0;i<r;)u.setUint8(d++,c.getUint8(i++));return o}}),n(47)("ArrayBuffer")},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(78).ABV,{DataView:n(115).DataView})},function(t,e,n){n(35)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(35)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(35)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(35)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(35)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(35)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(35)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(35)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(35)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){"use strict";var i=n(147);n(69)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(this,t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),r=n(68)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(52)("includes")},function(t,e,n){var i=n(0),r=n(106)(),o=n(4).process,a="process"==n(24)(o);i(i.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},function(t,e,n){var i=n(0),r=n(24);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(146)("Map")})},function(t,e,n){var i=n(0);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=e>>>0,a=n>>>0;return o+(i>>>0)+((r&a|(r|a)&~(r+a>>>0))>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>16,s=i>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=e>>>0,a=n>>>0;return o-(i>>>0)-((~r&a|~(r^a)&r-a>>>0)>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(17),a=n(11);n(10)&&i(i.P+n(75),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(17),a=n(11);n(10)&&i(i.P+n(75),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(0),r=n(157)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(158),o=n(21),a=n(22),s=n(94);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n=o(t),i=a.f,l=r(n),c={},u=0;l.length>u;)s(c,e=l[u++],i(n,e));return c}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(31),a=n(23),s=n(22).f;n(10)&&i(i.P+n(75),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(31),a=n(23),s=n(22).f;n(10)&&i(i.P+n(75),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.set}while(n=a(n))}})},function(t,e,n){var i=n(0),r=n(157)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){"use strict";var i=n(0),r=n(4),o=n(32),a=n(106)(),s=n(9)("observable"),l=n(17),c=n(3),u=n(41),h=n(46),f=n(18),p=n(53),d=p.RETURN,y=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},m=function(t){v(t)||(t._o=void 0,g(t))},_=function(t,e){c(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&g(this)};_.prototype=h({},{unsubscribe:function(){m(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var i=y(n.next);if(i)return i.call(n,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var i=y(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var i=y(n.complete);t=i?i.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var w=function(t){u(this,w,"Observable","_f")._f=l(t)};h(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(n,i){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})})}}),h(w,{from:function(t){var e="function"==typeof this?this:w,n=y(c(t)[s]);if(n){var i=c(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}}),function(){e=!0}})}}),f(w.prototype,s,function(){return this}),i(i.G,{Observable:w}),n(47)("Observable")},function(t,e,n){var i=n(34),r=n(3),o=i.key,a=i.set;i.exp({defineMetadata:function(t,e,n,i){a(t,e,r(n),o(i))}})},function(t,e,n){var i=n(34),r=n(3),o=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=a(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=s.get(e);return l.delete(n),!!l.size||s.delete(e)}})},function(t,e,n){var i=n(166),r=n(142),o=n(34),a=n(3),s=n(23),l=o.keys,c=o.key,u=function(t,e){var n=l(t,e),o=s(t);if(null===o)return n;var a=u(o,e);return a.length?n.length?r(new i(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return u(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var i=n(34),r=n(3),o=n(23),a=i.has,s=i.get,l=i.key,c=function(t,e,n){if(a(t,e,n))return s(t,e,n);var i=o(e);return null!==i?c(t,i,n):void 0};i.exp({getMetadata:function(t,e){return c(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var i=n(34),r=n(3),o=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var i=n(34),r=n(3),o=i.get,a=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(34),r=n(3),o=n(23),a=i.has,s=i.key,l=function(t,e,n){if(a(t,e,n))return!0;var i=o(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(34),r=n(3),o=i.has,a=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(34),r=n(3),o=n(17),a=i.key,s=i.set;i.exp({metadata:function(t,e){return function(n,i){s(t,e,(void 0!==i?r:o)(n),a(i))}}})},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(146)("Set")})},function(t,e,n){"use strict";var i=n(0),r=n(110)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(25),o=n(12),a=n(73),s=n(71),l=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(102)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):s.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(t.lastIndex),new c(i,e)}})},function(t,e,n){"use strict";var i=n(0),r=n(162);i(i.P,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(162);i(i.P,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";n(56)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(56)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){n(116)("asyncIterator")},function(t,e,n){n(116)("observable")},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(4)})},function(t,e,n){for(var i=n(118),r=n(19),o=n(4),a=n(18),s=n(54),l=n(9),c=l("iterator"),u=l("toStringTag"),h=s.Array,f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var d,y=f[p],g=o[y],v=g&&g.prototype;if(v){v[c]||a(v,c,h),v[u]||a(v,u,y),s[y]=h;for(d in i)v[d]||r(v,d,i[d],!0)}}},function(t,e,n){var i=n(0),r=n(114);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i=n(4),r=n(0),o=n(72),a=n(241),s=i.navigator,l=!!s&&/MSIE .\./.test(s.userAgent),c=function(t){return l?function(e,n){return t(o(a,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};r(r.G+r.B+r.F*l,{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},function(t,e,n){n(364),n(303),n(305),n(304),n(307),n(309),n(314),n(308),n(306),n(316),n(315),n(311),n(312),n(310),n(302),n(313),n(317),n(318),n(270),n(272),n(271),n(320),n(319),n(290),n(300),n(301),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(351),n(356),n(363),n(354),n(346),n(347),n(352),n(357),n(359),n(342),n(343),n(344),n(345),n(348),n(349),n(350),n(353),n(355),n(358),n(360),n(361),n(362),n(265),n(267),n(266),n(269),n(268),n(254),n(252),n(258),n(255),n(261),n(263),n(251),n(257),n(248),n(262),n(246),n(260),n(259),n(253),n(256),n(245),n(247),n(250),n(249),n(264),n(118),n(336),n(341),n(165),n(337),n(338),n(339),n(340),n(321),n(164),n(166),n(167),n(376),n(365),n(366),n(371),n(374),n(375),n(369),n(372),n(370),n(373),n(367),n(368),n(322),n(323),n(324),n(325),n(326),n(329),n(327),n(328),n(330),n(331),n(332),n(333),n(335),n(334),n(377),n(403),n(406),n(405),n(407),n(408),n(404),n(409),n(410),n(388),n(391),n(387),n(385),n(386),n(389),n(390),n(380),n(402),n(411),n(379),n(381),n(383),n(382),n(384),n(393),n(394),n(396),n(395),n(398),n(397),n(399),n(400),n(401),n(378),n(392),n(414),n(413),n(412),t.exports=n(32)},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){t.exports=n.p+"g4u.d.ts"},function(t,e,n){t.exports=n.p+"conf/layers.commented.json"},function(t,e,n){t.exports=n.p+"images/g4u-logo.png"},function(t,e,n){t.exports=n.p+"conf/client.commented.json"},function(t,e,n){t.exports=n.p+"files/l10n.json"},function(t,e,n){var i;!function(r,o,a){function s(t,e){this.wrapper="string"==typeof t?o.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!h.hasPointer,disableTouch:h.hasPointer||!h.hasTouch,disableMouse:h.hasPointer||h.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===r.onmousedown};for(var n in e)this.options[n]=e[n];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function l(t,e,n){var i=o.createElement("div"),r=o.createElement("div");return!0===n&&(i.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(!0===n&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(!0===n&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",e||(i.style.pointerEvents="none"),i.appendChild(r),i}function c(t,e){this.wrapper="string"==typeof e.el?o.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var n in e)this.options[n]=e[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(r,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.addEvent(r,h.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(r,"mouseup",this))),this.options.fade){this.wrapperStyle[h.style.transform]=this.scroller.translateZ;var i=h.style.transitionDuration;this.wrapperStyle[i]=h.isBadAndroid?"0.0001ms":"0ms";var a=this;h.isBadAndroid&&u(function(){"0.0001ms"===a.wrapperStyle[i]&&(a.wrapperStyle[i]="0s")}),this.wrapperStyle.opacity="0"}}var u=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(t){r.setTimeout(t,1e3/60)},h=function(){function t(t){return!1!==i&&(""===i?t:i+t.charAt(0).toUpperCase()+t.substr(1))}var e={},n=o.createElement("div").style,i=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in n)return t[e].substr(0,t[e].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(t,e){for(var n in e)t[n]=e[n]},e.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},e.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},e.prefixPointerEvent=function(t){return r.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},e.momentum=function(t,e,n,i,r,o){var s,l,c=t-e,u=a.abs(c)/n;return o=void 0===o?6e-4:o,s=t+u*u/(2*o)*(c<0?-1:1),l=u/o,s<i?(s=r?i-r/2.5*(u/8):i,c=a.abs(s-t),l=c/u):s>0&&(s=r?r/2.5*(u/8):0,c=a.abs(t)+s,l=c/u),{destination:a.round(s),duration:l}};var s=t("transform");return e.extend(e,{hasTransform:!1!==s,hasPerspective:t("perspective")in n,hasTouch:"ontouchstart"in r,hasPointer:!(!r.PointerEvent&&!r.MSPointerEvent),hasTransition:t("transition")in n}),e.isBadAndroid=function(){var t=r.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var e=t.match(/Safari\/(\d+.\d)/);return!(e&&"object"==typeof e&&e.length>=2)||parseFloat(e[1])<535.19}return!1}(),e.extend(e.style={},{transform:s,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),e.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},e.addClass=function(t,n){if(!e.hasClass(t,n)){var i=t.className.split(" ");i.push(n),t.className=i.join(" ")}},e.removeClass=function(t,n){if(e.hasClass(t,n)){var i=new RegExp("(^|\\s)"+n+"(\\s|$)","g");t.className=t.className.replace(i," ")}},e.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},e.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return a.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*a.pow(2,-10*t)*a.sin((t-.055)*(2*a.PI)/.22)+1}}}),e.tap=function(t,e){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},e.click=function(t){var e,n=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(e=o.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,n.screenX,n.screenY,n.clientX,n.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,n.dispatchEvent(e))},e}();s.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=h.eventType[t.type]){if(0!==(t.which?t.button:t.button<2?0:4==t.button?1:2))return}if(this.enabled&&(!this.initiated||h.eventType[t.type]===this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=h.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(a.round(e.x),a.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&h.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,i,r,o=t.touches?t.touches[0]:t,s=o.pageX-this.pointX,l=o.pageY-this.pointY,c=h.getTime();if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=s,this.distY+=l,i=a.abs(this.distX),r=a.abs(this.distY),!(c-this.endTime>300&&i<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(i>r+this.options.directionLockThreshold?this.directionLocked="h":r>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);s=0}s=this.hasHorizontalScroll?s:0,l=this.hasVerticalScroll?l:0,e=this.x+s,n=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+s/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+l/3:n>0?0:this.maxScrollY),this.directionX=s>0?-1:s<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&h.eventType[t.type]===this.initiated){this.options.preventDefault&&!h.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,i=(t.changedTouches&&t.changedTouches[0],h.getTime()-this.startTime),r=a.round(this.x),o=a.round(this.y),s=a.abs(r-this.startX),l=a.abs(o-this.startY),c=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,o),!this.moved)return this.options.tap&&h.tap(t,this.options.tap),this.options.click&&h.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&i<200&&s<100&&l<100)return void this._execEvent("flick");if(this.options.momentum&&i<300&&(e=this.hasHorizontalScroll?h.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},n=this.hasVerticalScroll?h.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:o,duration:0},r=e.destination,o=n.destination,c=a.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var f=this._nearestSnap(r,o);this.currentPage=f,c=this.options.snapSpeed||a.max(a.max(a.min(a.abs(r-f.x),1e3),a.min(a.abs(o-f.y),1e3)),300),r=f.x,o=f.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}if(r!=this.x||o!=this.y)return(r>0||r<this.maxScrollX||o>0||o<this.maxScrollY)&&(u=h.ease.quadratic),void this.scrollTo(r,o,c,u);this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(e!=this.x||n!=this.y)&&(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;e<n;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||h.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var r=this.options.useTransition&&i.style;!n||r?(r&&(this._transitionTimingFunction(i.style),this._transitionTime(n)),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,n,i,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var o=h.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===n&&(n=a.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===i&&(i=a.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=i||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=void 0===e||null===e||"auto"===e?a.max(a.abs(this.x-o.left),a.abs(this.y-o.top)):e,this.scrollTo(o.left,o.top,e,r)}},_transitionTime:function(t){t=t||0;var e=h.style.transitionDuration;if(this.scrollerStyle[e]=t+"ms",!t&&h.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var n=this;u(function(){"0.0001ms"===n.scrollerStyle[e]&&(n.scrollerStyle[e]="0s")})}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[h.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=a.round(t),e=a.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(t){var e=t?h.removeEvent:h.addEvent,n=this.options.bindToWrapper?this.wrapper:r;e(r,"orientationchange",this),e(r,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(n,"mousemove",this),e(n,"mousecancel",this),e(n,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,h.prefixPointerEvent("pointerdown"),this),e(n,h.prefixPointerEvent("pointermove"),this),e(n,h.prefixPointerEvent("pointercancel"),this),e(n,h.prefixPointerEvent("pointerup"),this)),h.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(n,"touchmove",this),e(n,"touchcancel",this),e(n,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,n=r.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[h.style.transform].split(")")[0].split(", "),t=+(n[12]||n[4]),e=+(n[13]||n[5])):(t=+n.left.replace(/[^-\d.]/g,""),e=+n.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_initIndicators:function(){function t(t){if(o.indicators)for(var e=o.indicators.length;e--;)t.call(o.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,r=[],o=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:l("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:l("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var a=r.length;a--;)this.indicators.push(new c(this,r[a]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,n,i,r,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o.options.snap||o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,n=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,n=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return i=this.currentPage.pageX,r=this.currentPage.pageY,e>0?i--:e<0&&i++,n>0?r--:n<0&&r++,void this.goToPage(i,r);i=this.x+a.round(this.hasHorizontalScroll?e:0),r=this.y+a.round(this.hasVerticalScroll?n:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=n>0?-1:n<0?1:0,i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(i,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,i,r,o,s=0,l=0,c=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=a.round(u/2),i=a.round(h/2);c>-this.scrollerWidth;){for(this.pages[s]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[s][t]={x:a.max(c,this.maxScrollX),y:a.max(r,this.maxScrollY),width:u,height:h,cx:c-n,cy:r-i},r-=h,t++;c-=u,s++}else for(o=this.options.snap,t=o.length,e=-1;s<t;s++)(0===s||o[s].offsetLeft<=o[s-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),c=a.max(-o[s].offsetLeft,this.maxScrollX),r=a.max(-o[s].offsetTop,this.maxScrollY),n=c-a.round(o[s].offsetWidth/2),i=r-a.round(o[s].offsetHeight/2),this.pages[l][e]={x:c,y:r,width:o[s].offsetWidth,height:o[s].offsetHeight,cx:n,cy:i},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=a.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=a.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||a.max(a.max(a.min(a.abs(this.x-this.startX),1e3),a.min(a.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,r=0;if(a.abs(t-this.absStartX)<this.snapThresholdX&&a.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<i;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(i=this.pages[n].length;r<i;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),r==this.currentPage.pageY&&(r+=this.directionY,r<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:n,pageY:r}},goToPage:function(t,e,n,i){i=i||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var r=this.pages[t][e].x,o=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||a.max(a.max(a.min(a.abs(r-this.x),1e3),a.min(a.abs(o-this.y),1e3)),300):n,this.currentPage={x:r,y:o,pageX:t,pageY:e},this.scrollTo(r,o,n,i)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(t){var e,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in n)this.options.keyBindings[e]=this.options.keyBindings[e]||n[e];h.addEvent(r,"keydown",this),this.on("destroy",function(){h.removeEvent(r,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,i=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,o=h.getTime(),s=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(a.round(e.x),a.round(e.y)),this.isInTransition=!1),this.keyAcceleration=o-s<200?a.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=0,r=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(i,r);i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,r,0),this.keyTime=o}},_animate:function(t,e,n,i){function r(){var f,p,d,y=h.getTime();if(y>=c)return o.isAnimating=!1,o._translate(t,e),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"));y=(y-l)/n,d=i(y),f=(t-a)*d+a,p=(e-s)*d+s,o._translate(f,p),o.isAnimating&&u(r)}var o=this,a=this.x,s=this.y,l=h.getTime(),c=l+n;this.isAnimating=!0,r()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},c.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(r,"touchmove",this),h.removeEvent(r,h.prefixPointerEvent("pointermove"),this),h.removeEvent(r,"mousemove",this),h.removeEvent(r,"touchend",this),h.removeEvent(r,h.prefixPointerEvent("pointerup"),this),h.removeEvent(r,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(r,"touchmove",this),this.options.disablePointer||h.addEvent(r,h.prefixPointerEvent("pointermove"),this),this.options.disableMouse||h.addEvent(r,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,n,i,r,o=t.touches?t.touches[0]:t;h.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=o.pageX-this.lastPointX,this.lastPointX=o.pageX,n=o.pageY-this.lastPointY,this.lastPointY=o.pageY,i=this.x+e,r=this.y+n,this._pos(i,r),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),h.removeEvent(r,"touchmove",this),h.removeEvent(r,h.prefixPointerEvent("pointermove"),this),h.removeEvent(r,"mousemove",this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||a.max(a.max(a.min(a.abs(this.scroller.x-e.x),1e3),a.min(a.abs(this.scroller.y-e.y),1e3)),300);this.scroller.x==e.x&&this.scroller.y==e.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=h.style.transitionDuration;if(this.indicatorStyle[e]=t+"ms",!t&&h.isBadAndroid){this.indicatorStyle[e]="0.0001ms";var n=this;u(function(){"0.0001ms"===n.indicatorStyle[e]&&(n.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[h.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=a.max(a.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=a.max(a.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&a.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&a.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=a.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=a.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=a.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=a.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?a.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?a.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[h.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},s.utils=h,void 0!==t&&t.exports?t.exports=s:void 0!==(i=function(){return s}.call(e,n,e,t))&&(t.exports=i)}(window,document,Math)},function(t,e,n){var i=n(51),r=n(36),o=i(r,"DataView");t.exports=o},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=n(501),o=n(502),a=n(503),s=n(504),l=n(505);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=l,t.exports=i},function(t,e,n){var i=n(51),r=n(36),o=i(r,"Promise");t.exports=o},function(t,e,n){var i=n(36),r=i.Uint8Array;t.exports=r},function(t,e,n){var i=n(51),r=n(36),o=i(r,"WeakMap");t.exports=o},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}t.exports=n},function(t,e,n){function i(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}var r=n(464);t.exports=i},function(t,e){function n(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}t.exports=n},function(t,e,n){function i(t,e){var n=a(t),i=!n&&o(t),u=!n&&!i&&s(t),f=!n&&!i&&!u&&c(t),p=n||i||u||f,d=p?r(t.length,String):[],y=d.length;for(var g in t)!e&&!h.call(t,g)||p&&("length"==g||u&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,y))||d.push(g);return d}var r=n(482),o=n(125),a=n(37),s=n(187),l=n(121),c=n(189),u=Object.prototype,h=u.hasOwnProperty;t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){var i=n(461),r=n(488),o=r(i);t.exports=o},function(t,e){function n(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e,n){var i=n(489),r=i();t.exports=r},function(t,e,n){function i(t,e){return t&&r(t,e,o)}var r=n(460),o=n(127);t.exports=i},function(t,e,n){function i(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}var r=n(174),o=n(37);t.exports=i},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function i(t,e,n){return e===e?a(t,e,n):r(t,o,n)}var r=n(459),o=n(468),a=n(537);t.exports=i},function(t,e,n){function i(t){return o(t)&&r(t)==a}var r=n(61),o=n(62),a="[object Arguments]";t.exports=i},function(t,e,n){function i(t,e,n,i,g,m){var _=c(t),b=c(e),w=_?d:l(t),M=b?d:l(e);w=w==p?y:w,M=M==p?y:M;var x=w==y,S=M==y,P=w==M;if(P&&u(t)){if(!u(e))return!1;_=!0,x=!1}if(P&&!x)return m||(m=new r),_||h(t)?o(t,e,n,i,g,m):a(t,e,w,n,i,g,m);if(!(n&f)){var O=x&&v.call(t,"__wrapped__"),C=S&&v.call(e,"__wrapped__");if(O||C){var k=O?t.value():t,E=C?e.value():e;return m||(m=new r),g(k,E,n,i,m)}}return!!P&&(m||(m=new r),s(t,e,n,i,g,m))}var r=n(172),o=n(181),a=n(492),s=n(493),l=n(498),c=n(37),u=n(187),h=n(189),f=1,p="[object Arguments]",d="[object Array]",y="[object Object]",g=Object.prototype,v=g.hasOwnProperty;t.exports=i},function(t,e,n){function i(t,e,n,i){var l=n.length,c=l,u=!i;if(null==t)return!c;for(t=Object(t);l--;){var h=n[l];if(u&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++l<c;){h=n[l];var f=h[0],p=t[f],d=h[1];if(u&&h[2]){if(void 0===p&&!(f in t))return!1}else{var y=new r;if(i)var g=i(p,d,f,t,e,y);if(!(void 0===g?o(d,p,a|s,i,y):g))return!1}}return!0}var r=n(172),o=n(177),a=1,s=2;t.exports=i},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e,n){function i(t){return!(!a(t)||o(t))&&(r(t)?d:c).test(s(t))}var r=n(188),o=n(509),a=n(86),s=n(185),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,h=Object.prototype,f=u.toString,p=h.hasOwnProperty,d=RegExp("^"+f.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},function(t,e,n){function i(t){return a(t)&&o(t.length)&&!!s[r(t)]}var r=n(61),o=n(126),a=n(62),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=i},function(t,e,n){function i(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):r(t):l(t)}var r=n(474),o=n(475),a=n(84),s=n(37),l=n(544);t.exports=i},function(t,e,n){function i(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var r=n(510),o=n(523),a=Object.prototype,s=a.hasOwnProperty;t.exports=i},function(t,e,n){function i(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,function(t,r,o){i[++n]=e(t,r,o)}),i}var r=n(458),o=n(85);t.exports=i},function(t,e,n){function i(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}var r=n(467),o=n(495),a=n(184);t.exports=i},function(t,e,n){function i(t,e){return s(t)&&l(e)?c(u(t),e):function(n){var i=o(n,t);return void 0===i&&i===e?a(n,t):r(e,i,h|f)}}var r=n(177),o=n(540),a=n(541),s=n(122),l=n(183),c=n(184),u=n(83),h=1,f=2;t.exports=i},function(t,e,n){function i(t,e,n){var i=-1;e=r(e.length?e:[u],l(o));var h=a(t,function(t,n,o){return{criteria:r(e,function(e){return e(t)}),index:++i,value:t}});return s(h,function(t,e){return c(t,e,n)})}var r=n(173),o=n(471),a=n(473),s=n(481),l=n(178),c=n(486),u=n(84);t.exports=i},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function i(t){return function(e){return r(e,t)}}var r=n(176);t.exports=i},function(t,e,n){function i(t,e){return a(o(t,e,r),t+"")}var r=n(84),o=n(527),a=n(530);t.exports=i},function(t,e,n){var i=n(539),r=n(491),o=n(84),a=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}t.exports=n},function(t,e,n){function i(t){if("string"==typeof t)return t;if(a(t))return o(t,i)+"";if(s(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}var r=n(60),o=n(173),a=n(37),s=n(87),l=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;t.exports=i},function(t,e,n){function i(t,e,n){var i=-1,h=o,f=t.length,p=!0,d=[],y=d;if(n)p=!1,h=a;else if(f>=u){var g=e?null:l(t);if(g)return c(g);p=!1,h=s,y=new r}else y=e?[]:d;t:for(;++i<f;){var v=t[i],m=e?e(v):v;if(v=n||0!==v?v:0,p&&m===m){for(var _=y.length;_--;)if(y[_]===m)continue t;e&&y.push(m),d.push(v)}else h(y,m,n)||(y!==d&&y.push(m),d.push(v))}return d}var r=n(171),o=n(454),a=n(455),s=n(179),l=n(490),c=n(123),u=200;t.exports=i},function(t,e,n){function i(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,a=r(t),s=void 0!==e,l=null===e,c=e===e,u=r(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}var r=n(87);t.exports=i},function(t,e,n){function i(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c){if(i>=l)return c;return c*("desc"==n[i]?-1:1)}}return t.index-e.index}var r=n(485);t.exports=i},function(t,e,n){var i=n(36),r=i["__core-js_shared__"];t.exports=r},function(t,e,n){function i(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}var r=n(85);t.exports=i},function(t,e){function n(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}t.exports=n},function(t,e,n){var i=n(170),r=n(543),o=n(123),a=i&&1/o(new i([,-0]))[1]==1/0?function(t){return new i(t)}:r;t.exports=a},function(t,e,n){var i=n(51),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e,n){function i(t,e,n,i,r,x,P){switch(n){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!x(new o(t),new o(e)));case f:case p:case g:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case _:return t==e+"";case y:var O=l;case m:var C=i&u;if(O||(O=c),t.size!=e.size&&!C)return!1;var k=P.get(t);if(k)return k==e;i|=h,P.set(t,e);var E=s(O(t),O(e),i,r,x,P);return P.delete(t),E;case b:if(S)return S.call(t)==S.call(e)}return!1}var r=n(60),o=n(450),a=n(124),s=n(181),l=n(521),c=n(123),u=1,h=2,f="[object Boolean]",p="[object Date]",d="[object Error]",y="[object Map]",g="[object Number]",v="[object RegExp]",m="[object Set]",_="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",M="[object DataView]",x=r?r.prototype:void 0,S=x?x.valueOf:void 0;t.exports=i},function(t,e,n){function i(t,e,n,i,a,l){var c=n&o,u=r(t),h=u.length;if(h!=r(e).length&&!c)return!1;for(var f=h;f--;){var p=u[f];if(!(c?p in e:s.call(e,p)))return!1}var d=l.get(t);if(d&&l.get(e))return d==e;var y=!0;l.set(t,e),l.set(e,t);for(var g=c;++f<h;){p=u[f];var v=t[p],m=e[p];if(i)var _=c?i(m,v,p,e,t,l):i(v,m,p,t,e,l);if(!(void 0===_?v===m||a(v,m,n,i,l):_)){y=!1;break}g||(g="constructor"==p)}if(y&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(y=!1)}return l.delete(t),l.delete(e),y}var r=n(494),o=1,a=Object.prototype,s=a.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){return r(t,a,o)}var r=n(462),o=n(497),a=n(127);t.exports=i},function(t,e,n){function i(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}var r=n(183),o=n(127);t.exports=i},function(t,e,n){function i(t){var e=a.call(t,l),n=t[l];try{t[l]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[l]=n:delete t[l]),r}var r=n(60),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=r?r.toStringTag:void 0;t.exports=i},function(t,e,n){var i=n(453),r=n(546),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(t){return null==t?[]:(t=Object(t),i(s(t),function(e){return a.call(t,e)}))}:r;t.exports=l},function(t,e,n){var i=n(447),r=n(119),o=n(449),a=n(170),s=n(451),l=n(61),c=n(185),u=c(i),h=c(r),f=c(o),p=c(a),d=c(s),y=l;(i&&"[object DataView]"!=y(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=y(new r)||o&&"[object Promise]"!=y(o.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,i=n?c(n):"";if(i)switch(i){case u:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=y},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function i(t,e,n){e=r(e,t);for(var i=-1,u=e.length,h=!1;++i<u;){var f=c(e[i]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++i!=u?h:!!(u=null==t?0:t.length)&&l(u)&&s(f,u)&&(a(t)||o(t))}var r=n(180),o=n(125),a=n(37),s=n(121),l=n(126),c=n(83);t.exports=i},function(t,e,n){function i(){this.__data__=r?r(null):{},this.size=0}var r=n(82);t.exports=i},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function i(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var r=n(82),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){var e=this.__data__;return r?void 0!==e[t]:a.call(e,t)}var r=n(82),o=Object.prototype,a=o.hasOwnProperty;t.exports=i},function(t,e,n){function i(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}var r=n(82),o="__lodash_hash_undefined__";t.exports=i},function(t,e,n){function i(t){return a(t)||o(t)||!!(s&&t&&t[s])}var r=n(60),o=n(125),a=n(37),s=r?r.isConcatSpreadable:void 0;t.exports=i},function(t,e,n){function i(t,e,n){if(!s(n))return!1;var i=typeof e;return!!("number"==i?o(n)&&a(e,n.length):"string"==i&&e in n)&&r(n[e],t)}var r=n(124),o=n(85),a=n(121),s=n(86);t.exports=i},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function i(t){return!!o&&o in t}var r=n(487),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=i},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}var i=Object.prototype;t.exports=n},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}var r=n(80),o=Array.prototype,a=o.splice;t.exports=i},function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}var r=n(80);t.exports=i},function(t,e,n){function i(t){return r(this.__data__,t)>-1}var r=n(80);t.exports=i},function(t,e,n){function i(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var r=n(80);t.exports=i},function(t,e,n){function i(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}var r=n(448),o=n(79),a=n(119);t.exports=i},function(t,e,n){function i(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}var r=n(81);t.exports=i},function(t,e,n){function i(t){return r(this,t).get(t)}var r=n(81);t.exports=i},function(t,e,n){function i(t){return r(this,t).has(t)}var r=n(81);t.exports=i},function(t,e,n){function i(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var r=n(81);t.exports=i},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}t.exports=n},function(t,e,n){function i(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var r=n(542),o=500;t.exports=i},function(t,e,n){var i=n(526),r=i(Object.keys,Object);t.exports=r},function(t,e,n){(function(t){var i=n(182),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r,s=a&&i.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=l}).call(e,n(190)(t))},function(t,e){function n(t){return r.call(t)}var i=Object.prototype,r=i.toString;t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){function i(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),l=Array(s);++a<s;)l[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(l),r(t,this,c)}}var r=n(452),o=Math.max;t.exports=i},function(t,e){function n(t){return this.__data__.set(t,i),this}var i="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){var i=n(480),r=n(531),o=r(i);t.exports=o},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=r-(a-n);if(n=a,s>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var i=800,r=16,o=Date.now;t.exports=n},function(t,e,n){function i(){this.__data__=new r,this.size=0}var r=n(79);t.exports=i},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function i(t,e){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<s-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(t,e),this.size=n.size,this}var r=n(79),o=n(119),a=n(120),s=200;t.exports=i},function(t,e){function n(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}t.exports=n},function(t,e,n){var i=n(522),r=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=i(function(t){var e=[];return r.test(t)&&e.push(""),t.replace(o,function(t,n,i,r){e.push(i?r.replace(a,"$1"):n||t)}),e});t.exports=s},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){function i(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}var r=n(176);t.exports=i},function(t,e,n){function i(t,e){return null!=t&&o(t,e,r)}var r=n(463),o=n(500);t.exports=i},function(t,e,n){function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(i.Cache||r),n}var r=n(120),o="Expected a function";i.Cache=r,t.exports=i},function(t,e){function n(){}t.exports=n},function(t,e,n){function i(t){return a(t)?r(s(t)):o(t)}var r=n(477),o=n(478),a=n(122),s=n(83);t.exports=i},function(t,e,n){var i=n(175),r=n(476),o=n(479),a=n(507),s=o(function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),r(t,i(e,1),[])});t.exports=s},function(t,e){function n(){return[]}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function i(t){return null==t?"":r(t)}var r=n(483);t.exports=i},function(t,e,n){function i(t){return t&&t.length?r(t):[]}var r=n(484);t.exports=i},function(t,e,n){var i,r,o;!function(a){r=[n(1)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(function(t){function e(e,n,r){"string"==typeof r&&(r={className:r}),this.options=_(m,t.isPlainObject(r)?r:{}),this.loadHTML(),this.wrapper=t(h.html),this.options.clickToHide&&this.wrapper.addClass(i+"-hidable"),this.wrapper.data(i,this),this.arrow=this.wrapper.find("."+i+"-arrow"),this.container=this.wrapper.find("."+i+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=x(e),this.elem.data(i,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(n)}var n=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},i="notifyjs",r={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},o=["l","c","r"],a=["t","m","b"],s=["t","b","l","r"],l={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},c=function(e){var n;return n=[],t.each(e.split(/\W+/),function(t,e){var i;if(i=e.toLowerCase().charAt(0),r[i])return n.push(i)}),n},u={},h={name:"core",html:'<div class="'+i+'-wrapper">\n\t<div class="'+i+'-arrow"></div>\n\t<div class="'+i+'-container"></div>\n</div>',css:"."+i+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+i+"-corner ."+i+"-wrapper,\n."+i+"-corner ."+i+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+i+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+i+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+i+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+i+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},f={"border-radius":["-webkit-","-moz-"]},p=function(t){return u[t]},d=function(e,n){if(!e)throw"Missing Style name";if(!n)throw"Missing Style definition";if(!n.html)throw"Missing Style HTML";var r=u[e];r&&r.cssElem&&(window.console&&console.warn("notify: overwriting style '"+e+"'"),u[e].cssElem.remove()),n.name=e,u[e]=n;var o="";n.classes&&t.each(n.classes,function(e,r){return o+="."+i+"-"+n.name+"-"+e+" {\n",t.each(r,function(e,n){return f[e]&&t.each(f[e],function(t,i){return o+="\t"+i+e+": "+n+";\n"}),o+="\t"+e+": "+n+";\n"}),o+="}\n"}),n.css&&(o+="/* styles for "+n.name+" */\n"+n.css),o&&(n.cssElem=y(o),n.cssElem.attr("id","notify-"+n.name));var a={},s=t(n.html);g("html",s,a),g("text",s,a),n.fields=a},y=function(e){var n;n=w("style"),n.attr("type","text/css"),t("head").append(n);try{n.html(e)}catch(t){n[0].styleSheet.cssText=e}return n},g=function(e,n,i){var r;return"html"!==e&&(e="text"),r="data-notify-"+e,v(n,"["+r+"]").each(function(){var n;n=t(this).attr(r),n||(n="notify!blank"),i[n]=e})},v=function(t,e){return t.is(e)?t:t.find(e)},m={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},_=function(e,n){var i;return i=function(){},i.prototype=e,t.extend(!0,new i,n)},b=function(e){return t.extend(m,e)},w=function(e){return t("<"+e+"></"+e+">")},M={},x=function(e){var n;return e.is("[type=radio]")&&(n=e.parents("form:first").find("[type=radio]").filter(function(n,i){return t(i).attr("name")===e.attr("name")}),e=n.first()),e},S=function(t,e,n){var i;if("string"==typeof n)n=parseInt(n,10);else if("number"!=typeof n)return;if(!isNaN(n))return i=r[l[e.charAt(0)]],e,void 0!==t[i]&&(e=r[i.charAt(0)],n=-n),void 0===t[e]?t[e]=n:t[e]+=n,null},P=function(t,e,n){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return n/2-e/2;if("r"===t||"b"===t)return n-e;throw"Invalid alignment"},O=function(t){return O.e=O.e||w("div"),O.e.text(t).html()};e.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},e.prototype.show=function(t,e){var n,i,r,o,a;if(i=function(n){return function(){if(t||n.elem||n.destroy(),e)return e()}}(this),a=this.container.parent().parents(":hidden").length>0,r=this.container.add(this.arrow),n=[],a&&t)o="show";else if(a&&!t)o="hide";else if(!a&&t)o=this.options.showAnimation,n.push(this.options.showDuration);else{if(a||t)return i();o=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(i),r[o].apply(r,n)},e.prototype.setGlobalPosition=function(){var e=this.getPosition(),n=e[0],o=e[1],a=r[n],s=r[o],l=n+"|"+o,c=M[l];if(!c){c=M[l]=w("div");var u={};u[a]=0,"middle"===s?u.top="45%":"center"===s?u.left="45%":u[s]=0,c.css(u).addClass(i+"-corner"),t("body").append(c)}return c.prepend(this.wrapper)},e.prototype.setElementPosition=function(){var e,i,c,u,h,f,p,d,y,g,v,m,_,b,w,M,x,O,C,k,E,j,L,A,T,I,N,F;for(I=this.getPosition(),L=I[0],j=I[1],I[2],v=this.elem.position(),d=this.elem.outerHeight(),m=this.elem.outerWidth(),y=this.elem.innerHeight(),g=this.elem.innerWidth(),F=this.wrapper.position(),h=this.container.height(),f=this.container.width(),O=r[L],k=l[L],E=r[k],p={},p[E]="b"===L?d:"r"===L?m:0,S(p,"top",v.top-F.top),S(p,"left",v.left-F.left),N=["top","left"],b=0,M=N.length;b<M;b++)A=N[b],(C=parseInt(this.elem.css("margin-"+A),10))&&S(p,A,C);if(_=Math.max(0,this.options.gap-(this.options.arrowShow?c:0)),S(p,E,_),this.options.arrowShow){for(c=this.options.arrowSize,i=t.extend({},p),e=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",w=0,x=s.length;w<x;w++)A=s[w],T=r[A],A!==k&&(u=T===O?e:"transparent",i["border-"+T]=c+"px solid "+u);S(p,r[k],c),n.call(s,j)>=0&&S(i,r[j],2*c)}else this.arrow.hide();if(n.call(a,L)>=0?(S(p,"left",P(j,f,m)),i&&S(i,"left",P(j,c,g))):n.call(o,L)>=0&&(S(p,"top",P(j,h,d)),i&&S(i,"top",P(j,c,y))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p),i)return this.arrow.removeAttr("style").css(i)},e.prototype.getPosition=function(){var t,e,i,r,l,u,h,f;if(f=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),t=c(f),0===t.length&&(t[0]="b"),e=t[0],n.call(s,e)<0)throw"Must be one of ["+s+"]";return(1===t.length||(i=t[0],n.call(a,i)>=0&&(r=t[1],n.call(o,r)<0))||(l=t[0],n.call(o,l)>=0&&(u=t[1],n.call(a,u)<0)))&&(t[1]=(h=t[0],n.call(o,h)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},e.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=u[t]))throw"Missing style: "+t;return e},e.prototype.updateClasses=function(){var e,n;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),n=this.getStyle(),e=t.map(e,function(t){return i+"-"+n.name+"-"+t}).join(" "),this.userContainer.attr("class",e)},e.prototype.run=function(e,n){var i,r,o,a,s;if(t.isPlainObject(n)?t.extend(this.options,n):"string"===t.type(n)&&(this.options.className=n),this.container&&!e)return void this.show(!1);if(this.container||e){r={},t.isPlainObject(e)?r=e:r["notify!blank"]=e;for(o in r)i=r[o],(a=this.userFields[o])&&("text"===a&&(i=O(i),this.options.breakNewLines&&(i=i.replace(/\n/g,"<br/>"))),s="notify!blank"===o?"":"="+o,v(this.userContainer,"[data-notify-"+a+s+"]").html(i));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}},e.prototype.destroy=function(){this.wrapper.data(i,null),this.wrapper.remove()},t.notify=function(n,i,r){return n&&n.nodeName||n.jquery?t(n).notify(i,r):(r=i,i=n,new e(null,i,r)),n},t.fn.notify=function(n,r){return t(this).each(function(){var o=x(t(this)).data(i);o&&o.destroy();new e(t(this),n,r)}),this},t.extend(t.notify,{defaults:b,addStyle:d,pluginOptions:m,getStyle:p,insertCSS:y}),d("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),t(function(){y(h.css).attr("id","core-notify"),t(document).on("click","."+i+"-hidable",function(e){t(this).trigger("notify-hide")}),t(document).on("notify-hide","."+i+"-wrapper",function(e){var n=t(this).data(i);n&&n.show(!1)})})})},function(t,e){!function(n){if("object"==typeof e&&void 0!==t)t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.proj4=n()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({"./includedProjections":[function(t,e,n){var i=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd"),t("./lib/projections/ortho")];e.exports=function(t){i.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":42,"./lib/projections/aeqd":43,"./lib/projections/cass":44,"./lib/projections/cea":45,"./lib/projections/eqc":46,"./lib/projections/eqdc":47,"./lib/projections/gnom":49,"./lib/projections/krovak":50,"./lib/projections/laea":51,"./lib/projections/lcc":52,"./lib/projections/mill":55,"./lib/projections/moll":56,"./lib/projections/nzmg":57,"./lib/projections/omerc":58,"./lib/projections/ortho":59,"./lib/projections/poly":60,"./lib/projections/sinu":61,"./lib/projections/somerc":62,"./lib/projections/stere":63,"./lib/projections/sterea":64,"./lib/projections/tmerc":65,"./lib/projections/utm":66,"./lib/projections/vandg":67}],"./lib/version":[function(t,e,n){e.exports="2.3.17"},{}],1:[function(t,e,n){function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var r=t("mgrs");i.fromMGRS=function(t){return new i(r.toPoint(t))},i.prototype.toMGRS=function(t){return r.forward([this.x,this.y],t)},e.exports=i},{mgrs:70}],2:[function(t,e,n){function i(t,e){if(!(this instanceof i))return new i(t);e=e||function(t){if(t)throw t};var n=r(t);if("object"!=typeof n)return void e(t);var a=i.projections.get(n.projName);if(!a)return void e(t);if(n.datumCode&&"none"!==n.datumCode){var u=l[n.datumCode];u&&(n.datum_params=u.towgs84?u.towgs84.split(","):null,n.ellps=u.ellipse,n.datumName=u.datumName?u.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu";var h=s.sphere(n.a,n.b,n.rf,n.ellps,n.sphere),f=s.eccentricity(h.a,h.b,h.rf,n.R_A),p=n.datum||c(n.datumCode,n.datum_params,h.a,h.b,f.es,f.ep2);o(this,n),o(this,a),this.a=h.a,this.b=h.b,this.rf=h.rf,this.sphere=h.sphere,this.es=f.es,this.e=f.e,this.ep2=f.ep2,this.datum=p,this.init(),e(null,this)}var r=t("./parseCode"),o=t("./extend"),a=t("./projections"),s=t("./deriveConstants"),l=t("./constants/Datum"),c=t("./datum");i.projections=a,i.projections.start(),e.exports=i},{"./constants/Datum":26,"./datum":31,"./deriveConstants":35,"./extend":36,"./parseCode":39,"./projections":41}],3:[function(t,e,n){e.exports=function(t,e,n){var i,r,o,a=n.x,s=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=a,r="x"):1===o?(i=s,r="y"):(i=l,r="z"),t.axis[o]){case"e":c[r]=i;break;case"w":c[r]=-i;break;case"n":c[r]=i;break;case"s":c[r]=-i;break;case"u":void 0!==n[r]&&(c.z=i);break;case"d":void 0!==n[r]&&(c.z=-i);break;default:return null}return c}},{}],4:[function(t,e,n){var i=Math.PI/2,r=t("./sign");e.exports=function(t){return Math.abs(t)<i?t:t-r(t)*Math.PI}},{"./sign":22}],5:[function(t,e,n){var i=2*Math.PI,r=t("./sign");e.exports=function(t){return Math.abs(t)<=3.14159265359?t:t-r(t)*i}},{"./sign":22}],6:[function(t,e,n){var i=t("./adjust_lon");e.exports=function(t,e){return void 0===t?(t=Math.floor(30*(i(e)+Math.PI)/Math.PI),t<0?0:t>=60?59:t):t>0&&t<=60?t-1:void 0}},{"./adjust_lon":5}],7:[function(t,e,n){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],8:[function(t,e,n){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],9:[function(t,e,n){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],10:[function(t,e,n){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],11:[function(t,e,n){e.exports=function(t){return t*t*t*(35/3072)}},{}],12:[function(t,e,n){e.exports=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}},{}],13:[function(t,e,n){e.exports=function(t,e,n,i,r){var o,a;o=t/e;for(var s=0;s<15;s++)if(a=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN}},{}],14:[function(t,e,n){var i=Math.PI/2;e.exports=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*i:i;for(var r,o,a,s,l=Math.asin(.5*e),c=0;c<30;c++)if(o=Math.sin(l),a=Math.cos(l),s=t*o,r=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),l+=r,Math.abs(r)<=1e-10)return l;return NaN}},{}],15:[function(t,e,n){e.exports=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}},{}],16:[function(t,e,n){e.exports=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}},{}],17:[function(t,e,n){var i=Math.PI/2;e.exports=function(t,e){for(var n,r,o=.5*t,a=i-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),r=i-2*Math.atan(e*Math.pow((1-n)/(1+n),o))-a,a+=r,Math.abs(r)<=1e-10)return a;return-9999}},{}],18:[function(t,e,n){var i=.046875,r=.01953125,o=.01068115234375;e.exports=function(t){var e=[];e[0]=1-t*(.25+t*(i+t*(r+t*o))),e[1]=t*(.75-t*(i+t*(r+t*o)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}},{}],19:[function(t,e,n){var i=t("./pj_mlfn");e.exports=function(t,e,n){for(var r=1/(1-e),o=t,a=20;a;--a){var s=Math.sin(o),l=1-e*s*s;if(l=(i(o,s,Math.cos(o),n)-t)*(l*Math.sqrt(l))*r,o-=l,Math.abs(l)<1e-10)return o}return o}},{"./pj_mlfn":20}],20:[function(t,e,n){e.exports=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}},{}],21:[function(t,e,n){e.exports=function(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}},{}],22:[function(t,e,n){e.exports=function(t){return t<0?-1:1}},{}],23:[function(t,e,n){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],24:[function(t,e,n){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],25:[function(t,e,n){var i=Math.PI/2;e.exports=function(t,e,n){var r=t*n,o=.5*t;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(i-e))/r}},{}],26:[function(t,e,n){n.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},n.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},n.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},n.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},n.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},n.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},n.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},n.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},n.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},n.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},n.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},n.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},n.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},n.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},n.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},n.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],27:[function(t,e,n){n.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},n.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},n.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},n.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},n.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},n.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},n.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},n.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},n.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},n.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},n.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},n.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},n.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},n.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},n.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},n.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},n.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},n.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},n.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},n.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},n.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},n.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},n.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},n.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},n.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},n.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},n.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},n.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},n.hough={a:6378270,rf:297,ellipseName:"Hough"},n.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},n.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},n.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},n.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},n.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},n.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},n.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},n.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},n.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},n.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},n.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},n.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},n.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},n.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],28:[function(t,e,n){n.greenwich=0,n.lisbon=-9.131906111111,n.paris=2.337229166667,n.bogota=-74.080916666667,n.madrid=-3.687938888889,n.rome=12.452333333333,n.bern=7.439583333333,n.jakarta=106.807719444444,n.ferro=-17.666666666667,n.brussels=4.367975,n.stockholm=18.058277777778,n.athens=23.7163375,n.oslo=10.722916666667},{}],29:[function(t,e,n){n.ft={to_meter:.3048},n["us-ft"]={to_meter:1200/3937}},{}],30:[function(t,e,n){function i(t,e,n){var i;return Array.isArray(n)?(i=s(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):s(t,e,n)}function r(t){return t instanceof a?t:t.oProj?t.oProj:a(t)}function o(t,e,n){t=r(t);var o,a=!1;return void 0===e?(e=t,t=l,a=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=l,a=!0),e=r(e),n?i(t,e,n):(o={forward:function(n){return i(t,e,n)},inverse:function(n){return i(e,t,n)}},a&&(o.oProj=e),o)}var a=t("./Proj"),s=t("./transform"),l=a("WGS84");e.exports=o},{"./Proj":2,"./transform":68}],31:[function(t,e,n){function i(t,e,n,i,c,u){var h={};return h.datum_type=a,t&&"none"===t&&(h.datum_type=s),e&&(h.datum_params=e.map(parseFloat),0===h.datum_params[0]&&0===h.datum_params[1]&&0===h.datum_params[2]||(h.datum_type=r),h.datum_params.length>3&&(0===h.datum_params[3]&&0===h.datum_params[4]&&0===h.datum_params[5]&&0===h.datum_params[6]||(h.datum_type=o,h.datum_params[3]*=l,h.datum_params[4]*=l,h.datum_params[5]*=l,h.datum_params[6]=h.datum_params[6]/1e6+1))),h.a=n,h.b=i,h.es=c,h.ep2=u,h}var r=1,o=2,a=4,s=5,l=484813681109536e-20;e.exports=i},{}],32:[function(t,e,n){"use strict";var i=Math.PI/2;n.compareDatums=function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(this.es-e.es)>5e-11)&&(1===t.datum_type?this.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])},n.geodeticToGeocentric=function(t,e,n){var r,o,a,s,l=t.x,c=t.y,u=t.z?t.z:0;if(c<-i&&c>-1.001*i)c=-i;else if(c>i&&c<1.001*i)c=i;else if(c<-i||c>i)return null;return l>Math.PI&&(l-=2*Math.PI),o=Math.sin(c),s=Math.cos(c),a=o*o,r=n/Math.sqrt(1-e*a),{x:(r+u)*s*Math.cos(l),y:(r+u)*s*Math.sin(l),z:(r*(1-e)+u)*o}},n.geocentricToGeodetic=function(t,e,n,r){var o,a,s,l,c,u,h,f,p,d,y,g,v,m,_,b,w=1e-12,M=t.x,x=t.y,S=t.z?t.z:0;if(o=Math.sqrt(M*M+x*x),a=Math.sqrt(M*M+x*x+S*S),o/n<w){if(m=0,a/n<w)return _=i,b=-r,{x:t.x,y:t.y,z:t.z}}else m=Math.atan2(x,M);s=S/a,l=o/a,c=1/Math.sqrt(1-e*(2-e)*l*l),f=l*(1-e)*c,p=s*c,v=0;do{v++,h=n/Math.sqrt(1-e*p*p),b=o*f+S*p-h*(1-e*p*p),u=e*h/(h+b),c=1/Math.sqrt(1-u*(2-u)*l*l),d=l*(1-u)*c,y=s*c,g=y*f-d*p,f=d,p=y}while(g*g>1e-24&&v<30);return _=Math.atan(y/Math.abs(d)),{x:m,y:_,z:b}},n.geocentricToWgs84=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+s*t.z)+i,y:c*(l*t.x+t.y-a*t.z)+r,z:c*(-s*t.x+a*t.y+t.z)+o}}},n.geocentricFromWgs84=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=(t.x-i)/c,h=(t.y-r)/c,f=(t.z-o)/c;return{x:u+l*h-s*f,y:-l*u+h+a*f,z:s*u-a*h+f}}}},{}],33:[function(t,e,n){function i(t){return t===r||t===o}var r=1,o=2,a=t("./datumUtils");e.exports=function(t,e,n){return a.compareDatums(t,e)?n:5===t.datum_type||5===e.datum_type?n:t.es!==e.es||t.a!==e.a||i(t.datum_type)||i(e.datum_type)?(n=a.geodeticToGeocentric(n,t.es,t.a),i(t.datum_type)&&(n=a.geocentricToWgs84(n,t.datum_type,t.datum_params)),i(e.datum_type)&&(n=a.geocentricFromWgs84(n,e.datum_type,e.datum_params)),a.geocentricToGeodetic(n,e.es,e.a,e.b)):n}},{"./datumUtils":32}],34:[function(t,e,n){function i(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?i[t]=o(arguments[1]):i[t]=a(arguments[1]):i[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?i.apply(e,t):i(t)});if("string"==typeof t){if(t in i)return i[t]}else"EPSG"in t?i["EPSG:"+t.EPSG]=t:"ESRI"in t?i["ESRI:"+t.ESRI]=t:"IAU2000"in t?i["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var r=t("./global"),o=t("./projString"),a=t("./wkt");r(i),e.exports=i},{"./global":37,"./projString":40,"./wkt":69}],35:[function(t,e,n){var i=t("./constants/Ellipsoid");n.eccentricity=function(t,e,n,i){var r=t*t,o=e*e,a=(r-o)/r,s=0;return i?(t*=1-a*(.16666666666666666+a*(.04722222222222222+.022156084656084655*a)),r=t*t,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(r-o)/o}},n.sphere=function(t,e,n,r,o){if(!t){var a=i[r];a||(a=i.WGS84),t=a.a,e=a.b,n=a.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<1e-10)&&(o=!0,e=t),{a:t,b:e,rf:n,sphere:o}}},{"./constants/Ellipsoid":27}],36:[function(t,e,n){e.exports=function(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t}},{}],37:[function(t,e,n){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],38:[function(t,e,n){var i=t("./core");i.defaultDatum="WGS84",i.Proj=t("./Proj"),i.WGS84=new i.Proj("WGS84"),i.Point=t("./Point"),i.toPoint=t("./common/toPoint"),i.defs=t("./defs"),i.transform=t("./transform"),i.mgrs=t("mgrs"),i.version=t("./version"),t("./includedProjections")(i),e.exports=i},{"./Point":1,"./Proj":2,"./common/toPoint":24,"./core":30,"./defs":34,"./includedProjections":"./includedProjections","./transform":68,"./version":"./lib/version",mgrs:70}],39:[function(t,e,n){function i(t){return"string"==typeof t}function r(t){return t in l}function o(t){return h.some(function(e){return t.indexOf(e)>-1})}function a(t){return"+"===t[0]}function s(t){return i(t)?r(t)?l[t]:o(t)?c(t):a(t)?u(t):void 0:t}var l=t("./defs"),c=t("./wkt"),u=t("./projString"),h=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];e.exports=s},{"./defs":34,"./projString":40,"./wkt":69}],40:[function(t,e,n){var i=.017453292519943295,r=t("./constants/PrimeMeridian"),o=t("./constants/units");e.exports=function(t){var e,n,a,s={},l=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),c={proj:"projName",datum:"datumCode",rf:function(t){s.rf=parseFloat(t)},lat_0:function(t){s.lat0=t*i},lat_1:function(t){s.lat1=t*i},lat_2:function(t){s.lat2=t*i},lat_ts:function(t){s.lat_ts=t*i},lon_0:function(t){s.long0=t*i},lon_1:function(t){s.long1=t*i},lon_2:function(t){s.long2=t*i},alpha:function(t){s.alpha=parseFloat(t)*i},lonc:function(t){s.longc=t*i},x_0:function(t){s.x0=parseFloat(t)},y_0:function(t){s.y0=parseFloat(t)},k_0:function(t){s.k0=parseFloat(t)},k:function(t){s.k0=parseFloat(t)},a:function(t){s.a=parseFloat(t)},b:function(t){s.b=parseFloat(t)},r_a:function(){s.R_A=!0},zone:function(t){s.zone=parseInt(t,10)},south:function(){s.utmSouth=!0},towgs84:function(t){s.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){s.to_meter=parseFloat(t)},units:function(t){s.units=t,o[t]&&(s.to_meter=o[t].to_meter)},from_greenwich:function(t){s.from_greenwich=t*i},pm:function(t){s.from_greenwich=(r[t]?r[t]:parseFloat(t))*i},nadgrids:function(t){"@null"===t?s.datumCode="none":s.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(s.axis=t)}};for(e in l)n=l[e],e in c?(a=c[e],"function"==typeof a?a(n):s[a]=n):s[e]=n;return"string"==typeof s.datumCode&&"WGS84"!==s.datumCode&&(s.datumCode=s.datumCode.toLowerCase()),s}},{"./constants/PrimeMeridian":28,"./constants/units":29}],41:[function(t,e,n){function i(t,e){var n=a.length;return t.names?(a[n]=t,t.names.forEach(function(t){o[t.toLowerCase()]=n}),this):(console.log(e),!0)}var r=[t("./projections/merc"),t("./projections/longlat")],o={},a=[];n.add=i,n.get=function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==o[e]&&a[o[e]]?a[o[e]]:void 0},n.start=function(){r.forEach(i)}},{"./projections/longlat":53,"./projections/merc":54}],42:[function(t,e,n){var i=1e-10,r=t("../common/msfnz"),o=t("../common/qsfnz"),a=t("../common/adjust_lon"),s=t("../common/asinz");n.init=function(){Math.abs(this.lat1+this.lat2)<i||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=r(this.e3,this.sin_po,this.cos_po),this.qs1=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=r(this.e3,this.sin_po,this.cos_po),this.qs2=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=o(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>i?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},n.forward=function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=o(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*a(e-this.long0),l=r*Math.sin(s)+this.x0,c=this.rh-r*Math.cos(s)+this.y0;return t.x=l,t.y=c,t},n.inverse=function(t){var e,n,i,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),o=a(r/this.ns0+this.long0),t.x=o,t.y=s,t},n.phi1z=function(t,e){var n,r,o,a,l,c=s(.5*e);if(t<i)return c;for(var u=t*t,h=1;h<=25;h++)if(n=Math.sin(c),r=Math.cos(c),o=t*n,a=1-o*o,l=.5*a*a/r*(e/(1-u)-n/a+.5/t*Math.log((1-o)/(1+o))),c+=l,Math.abs(l)<=1e-7)return c;return null},n.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":7,"../common/msfnz":16,"../common/qsfnz":21}],43:[function(t,e,n){var i=t("../common/adjust_lon"),r=Math.PI/2,o=1e-10,a=t("../common/mlfn"),s=t("../common/e0fn"),l=t("../common/e1fn"),c=t("../common/e2fn"),u=t("../common/e3fn"),h=t("../common/gN"),f=t("../common/asinz"),p=t("../common/imlfn");n.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},n.forward=function(t){var e,n,f,p,d,y,g,v,m,_,b,w,M,x,S,P,O,C,k,E,j,L,A,T=t.x,I=t.y,N=Math.sin(t.y),F=Math.cos(t.y),B=i(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=o?(t.x=this.x0+this.a*(r-I)*Math.sin(B),t.y=this.y0-this.a*(r-I)*Math.cos(B),t):Math.abs(this.sin_p12+1)<=o?(t.x=this.x0+this.a*(r+I)*Math.sin(B),t.y=this.y0+this.a*(r+I)*Math.cos(B),t):(C=this.sin_p12*N+this.cos_p12*F*Math.cos(B),P=Math.acos(C),O=P/Math.sin(P),t.x=this.x0+this.a*O*F*Math.sin(B),t.y=this.y0+this.a*O*(this.cos_p12*N-this.sin_p12*F*Math.cos(B)),t):(e=s(this.es),n=l(this.es),f=c(this.es),p=u(this.es),Math.abs(this.sin_p12-1)<=o?(d=this.a*a(e,n,f,p,r),y=this.a*a(e,n,f,p,I),t.x=this.x0+(d-y)*Math.sin(B),t.y=this.y0-(d-y)*Math.cos(B),t):Math.abs(this.sin_p12+1)<=o?(d=this.a*a(e,n,f,p,r),y=this.a*a(e,n,f,p,I),t.x=this.x0+(d+y)*Math.sin(B),t.y=this.y0+(d+y)*Math.cos(B),t):(g=N/F,v=h(this.a,this.e,this.sin_p12),m=h(this.a,this.e,N),_=Math.atan((1-this.es)*g+this.es*v*this.sin_p12/(m*F)),b=Math.atan2(Math.sin(B),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(B)),k=0===b?Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(b)-Math.PI)<=o?-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.asin(Math.sin(B)*Math.cos(_)/Math.sin(b)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),M=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),x=w*M,S=M*M,E=k*k,j=E*k,L=j*k,A=L*k,P=v*k*(1-E*S*(1-S)/6+j/8*x*(1-2*S)+L/120*(S*(4-7*S)-3*w*w*(1-7*S))-A/48*x),t.x=this.x0+P*Math.sin(b),t.y=this.y0+P*Math.cos(b),t))},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,d,y,g,v,m,_,b,w,M,x,S,P,O,C,k,E,j,L,A,T,I;if(this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*r*this.a)return;return n=e/this.a,d=Math.sin(n),y=Math.cos(n),g=this.long0,Math.abs(e)<=o?v=this.lat0:(v=f(y*this.sin_p12+t.y*d*this.cos_p12/e),m=Math.abs(this.lat0)-r,g=i(Math.abs(m)<=o?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*d,e*this.cos_p12*y-t.y*this.sin_p12*d))),t.x=g,t.y=v,t}return _=s(this.es),b=l(this.es),w=c(this.es),M=u(this.es),Math.abs(this.sin_p12-1)<=o?(x=this.a*a(_,b,w,M,r),e=Math.sqrt(t.x*t.x+t.y*t.y),S=x-e,v=p(S/this.a,_,b,w,M),g=i(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=v,t):Math.abs(this.sin_p12+1)<=o?(x=this.a*a(_,b,w,M,r),e=Math.sqrt(t.x*t.x+t.y*t.y),S=e-x,v=p(S/this.a,_,b,w,M),g=i(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),C=Math.atan2(t.x,t.y),P=h(this.a,this.e,this.sin_p12),k=Math.cos(C),E=this.e*this.cos_p12*k,j=-E*E/(1-this.es),L=3*this.es*(1-j)*this.sin_p12*this.cos_p12*k/(1-this.es),A=e/P,T=A-j*(1+j)*Math.pow(A,3)/6-L*(1+3*j)*Math.pow(A,4)/24,I=1-j*T*T/2-A*T*T*T/6,O=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*k),g=i(this.long0+Math.asin(Math.sin(C)*Math.sin(T)/Math.cos(O))),v=Math.atan((1-this.es*I*this.sin_p12/Math.sin(O))*Math.tan(O)/(1-this.es)),t.x=g,t.y=v,t)},n.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":7,"../common/e0fn":8,"../common/e1fn":9,"../common/e2fn":10,"../common/e3fn":11,"../common/gN":12,"../common/imlfn":13,"../common/mlfn":15}],44:[function(t,e,n){var i=t("../common/mlfn"),r=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),s=t("../common/e3fn"),l=t("../common/gN"),c=t("../common/adjust_lon"),u=t("../common/adjust_lat"),h=t("../common/imlfn"),f=Math.PI/2;n.init=function(){this.sphere||(this.e0=r(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*i(this.e0,this.e1,this.e2,this.e3,this.lat0))},n.forward=function(t){var e,n,r=t.x,o=t.y;if(r=c(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var a=Math.sin(o),s=Math.cos(o),u=l(this.a,this.e,a),h=Math.tan(o)*Math.tan(o),f=r*Math.cos(o),p=f*f,d=this.es*s*s/(1-this.es),y=this.a*i(this.e0,this.e1,this.e2,this.e3,o);e=u*f*(1-p*h*(1/6-(8-h+8*d)*p/120)),n=y-this.ml0+u*a/s*p*(.5+(5-h+6*d)*p/24)}return t.x=e+this.x0,t.y=n+this.y0,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=this.ml0/this.a+r,s=h(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-f)<=1e-10)return t.x=this.long0,t.y=f,r<0&&(t.y*=-1),t;var p=l(this.a,this.e,Math.sin(s)),d=p*p*p/this.a/this.a*(1-this.es),y=Math.pow(Math.tan(s),2),g=i*this.a/p,v=g*g;e=s-p*Math.tan(s)/d*g*g*(.5-(1+3*y)*g*g/24),n=g*(1-v*(y/3+(1+3*y)*y*v/15))/Math.cos(s)}return t.x=c(n+this.long0),t.y=u(e),t},n.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":8,"../common/e1fn":9,"../common/e2fn":10,"../common/e3fn":11,"../common/gN":12,"../common/imlfn":13,"../common/mlfn":15}],45:[function(t,e,n){var i=t("../common/adjust_lon"),r=t("../common/qsfnz"),o=t("../common/msfnz"),a=t("../common/iqsfnz");n.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},n.forward=function(t){var e,n,o=t.x,a=t.y,s=i(o-this.long0);if(this.sphere)e=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var l=r(this.e,Math.sin(a));e=this.x0+this.a*this.k0*s,n=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=n,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=i(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=a(this.e,2*t.y*this.k0/this.a),e=i(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},n.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":14,"../common/msfnz":16,"../common/qsfnz":21}],46:[function(t,e,n){var i=t("../common/adjust_lon"),r=t("../common/adjust_lat");n.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},n.forward=function(t){var e=t.x,n=t.y,o=i(e-this.long0),a=r(n-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*a,t},n.inverse=function(t){var e=t.x,n=t.y;return t.x=i(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=r(this.lat0+(n-this.y0)/this.a),t},n.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],47:[function(t,e,n){var i=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),a=t("../common/e3fn"),s=t("../common/msfnz"),l=t("../common/mlfn"),c=t("../common/adjust_lon"),u=t("../common/adjust_lat"),h=t("../common/imlfn");n.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=a(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=s(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=s(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},n.forward=function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=l(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*c(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},n.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,r;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=c(this.long0+o/this.ns),i=u(this.g-n/this.a),t.x=r,t.y=i,t;var a=this.g-n/this.a;return i=h(a,this.e0,this.e1,this.e2,this.e3),r=c(this.long0+o/this.ns),t.x=r,t.y=i,t},n.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":8,"../common/e1fn":9,"../common/e2fn":10,"../common/e3fn":11,"../common/imlfn":13,"../common/mlfn":15,"../common/msfnz":16}],48:[function(t,e,n){var i=Math.PI/4,r=t("../common/srat"),o=Math.PI/2;n.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+i)/(Math.pow(Math.tan(.5*this.lat0+i),this.C)*r(this.e*t,this.ratexp))},n.forward=function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+i),this.C)*r(this.e*Math.sin(n),this.ratexp))-o,t.x=this.C*e,t},n.inverse=function(t){for(var e=t.x/this.C,n=t.y,a=Math.pow(Math.tan(.5*n+i)/this.K,1/this.C),s=20;s>0&&(n=2*Math.atan(a*r(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(n-t.y)<1e-14));--s)t.y=n;return s?(t.x=e,t.y=n,t):null},n.names=["gauss"]},{"../common/srat":23}],49:[function(t,e,n){var i=t("../common/adjust_lon"),r=t("../common/asinz");n.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},n.forward=function(t){var e,n,r,o,a,s,l,c,u=t.x,h=t.y;return r=i(u-this.long0),e=Math.sin(h),n=Math.cos(h),o=Math.cos(r),s=this.sin_p14*e+this.cos_p14*n*o,a=1,s>0||Math.abs(s)<=1e-10?(l=this.x0+this.a*a*n*Math.sin(r)/s,c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*o)/s):(l=this.x0+this.infinity_dist*n*Math.sin(r),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*o)),t.x=l,t.y=c,t},n.inverse=function(t){var e,n,o,a,s,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),n=Math.sin(a),o=Math.cos(a),l=r(o*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*o-t.y*this.sin_p14*n),s=i(this.long0+s)):(l=this.phic0,s=0),t.x=s,t.y=l,t},n.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":7}],50:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},n.forward=function(t){var e,n,r,o,a,s,l,c=t.x,u=t.y,h=i(c-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-h*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(o)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=l*Math.cos(s)/1,t.x=l*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},n.inverse=function(t){var e,n,i,r,o,a,s,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),r=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,l=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(l=1),s=t.y,u+=1}while(0===l&&u<15);return u>=15?null:t},n.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],51:[function(t,e,n){var i=Math.PI/2,r=Math.PI/4,o=1e-10,a=t("../common/qsfnz"),s=t("../common/adjust_lon");n.S_POLE=1,n.N_POLE=2,n.EQUIT=3,n.OBLIQ=4,n.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-i)<o?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<o?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=a(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=a(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},n.forward=function(t){var e,n,l,c,u,h,f,p,d,y,g=t.x,v=t.y;if(g=s(g-this.long0),this.sphere){if(u=Math.sin(v),y=Math.cos(v),l=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+y*l:1+this.sinph0*u+this.cosph0*y*l)<=o)return null;n=Math.sqrt(2/n),e=n*y*Math.sin(g),n*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*y*l}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),Math.abs(v+this.phi0)<o)return null;n=r-.5*v,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(g),n*=l}}else{switch(f=0,p=0,d=0,l=Math.cos(g),c=Math.sin(g),u=Math.sin(v),h=a(this.e,u),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=h/this.qp,p=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:d=1+this.sinb1*f+this.cosb1*p*l;break;case this.EQUIT:d=1+p*l;break;case this.N_POLE:d=i+v,h=this.qp-h;break;case this.S_POLE:d=v-i,h=this.qp+h}if(Math.abs(d)<o)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),n=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*f-this.sinb1*p*l):(d=Math.sqrt(2/(1+p*l)))*f*this.ymf,e=this.xmf*d*p*c;break;case this.N_POLE:case this.S_POLE:h>=0?(e=(d=Math.sqrt(h))*c,n=l*(this.mode===this.S_POLE?d:-d)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,a,l,c,u,h=t.x/this.a,f=t.y/this.a;if(this.sphere){var p,d=0,y=0;if(p=Math.sqrt(h*h+f*f),(n=.5*p)>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(y=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(p)<=o?0:Math.asin(f*y/p),h*=y,f=d*p;break;case this.OBLIQ:n=Math.abs(p)<=o?this.phi0:Math.asin(d*this.sinph0+f*y*this.cosph0/p),h*=y*this.cosph0,f=(d-Math.sin(n)*this.sinph0)*p;break;case this.N_POLE:f=-f,n=i-n;break;case this.S_POLE:n-=i}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,f):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,f*=this.dd,(c=Math.sqrt(h*h+f*f))<o)return t.x=0,t.y=this.phi0,t;a=2*Math.asin(.5*c/this.rq),r=Math.cos(a),h*=a=Math.sin(a),this.mode===this.OBLIQ?(u=r*this.sinb1+f*a*this.cosb1/c,l=this.qp*u,f=c*this.cosb1*r-f*this.sinb1*a):(u=f*a/c,l=this.qp*u,f=c*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(l=h*h+f*f))return t.x=0,t.y=this.phi0,t;u=1-l/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(h,f),n=this.authlat(Math.asin(u),this.apa)}return t.x=s(this.long0+e),t.y=n,t},n.P00=.3333333333333333,n.P01=.17222222222222222,n.P02=.10257936507936508,n.P10=.06388888888888888,n.P11=.0664021164021164,n.P20=.016415012942191543,n.authset=function(t){var e,n=[];return n[0]=t*this.P00,e=t*t,n[0]+=e*this.P01,n[1]=e*this.P10,e*=t,n[0]+=e*this.P02,n[1]+=e*this.P11,n[2]=e*this.P20,n},n.authlat=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)},n.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":21}],52:[function(t,e,n){var i=1e-10,r=t("../common/msfnz"),o=t("../common/tsfnz"),a=Math.PI/2,s=t("../common/sign"),l=t("../common/adjust_lon"),c=t("../common/phi2z");n.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<i)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),a=r(this.e,e,n),s=o(this.e,this.lat1,e),l=Math.sin(this.lat2),c=Math.cos(this.lat2),u=r(this.e,l,c),h=o(this.e,this.lat2,l),f=o(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>i?this.ns=Math.log(a/u)/Math.log(s/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=a/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},n.forward=function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=i&&(n=s(n)*(a-2*i));var r,c,u=Math.abs(Math.abs(n)-a);if(u>i)r=o(this.e,n,Math.sin(n)),c=this.a*this.f0*Math.pow(r,this.ns);else{if((u=n*this.ns)<=0)return null;c=0}var h=this.ns*l(e-this.long0);return t.x=this.k0*(c*Math.sin(h))+this.x0,t.y=this.k0*(this.rh-c*Math.cos(h))+this.y0,t},n.inverse=function(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+u*u),n=1):(e=-Math.sqrt(s*s+u*u),n=-1);var h=0;if(0!==e&&(h=Math.atan2(n*s,n*u)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=c(this.e,i)))return null}else r=-a;return o=l(h/this.ns+this.long0),t.x=o,t.y=r,t},n.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":16,"../common/phi2z":17,"../common/sign":22,"../common/tsfnz":25}],53:[function(t,e,n){function i(t){return t}n.init=function(){},n.forward=i,n.inverse=i,n.names=["longlat","identity"]},{}],54:[function(t,e,n){var i=t("../common/msfnz"),r=Math.PI/2,o=57.29577951308232,a=t("../common/adjust_lon"),s=Math.PI/4,l=t("../common/tsfnz"),c=t("../common/phi2z");n.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=i(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},n.forward=function(t){var e=t.x,n=t.y;if(n*o>90&&n*o<-90&&e*o>180&&e*o<-180)return null;var i,c;if(Math.abs(Math.abs(n)-r)<=1e-10)return null;if(this.sphere)i=this.x0+this.a*this.k0*a(e-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(s+.5*n));else{var u=Math.sin(n),h=l(this.e,n,u);i=this.x0+this.a*this.k0*a(e-this.long0),c=this.y0-this.a*this.k0*Math.log(h)}return t.x=i,t.y=c,t},n.inverse=function(t){var e,n,i=t.x-this.x0,o=t.y-this.y0;if(this.sphere)n=r-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var s=Math.exp(-o/(this.a*this.k0));if(-9999===(n=c(this.e,s)))return null}return e=a(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},n.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":16,"../common/phi2z":17,"../common/tsfnz":25}],55:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){},n.forward=function(t){var e=t.x,n=t.y,r=i(e-this.long0),o=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=o,t.y=a,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=i(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},n.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],56:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){},n.forward=function(t){for(var e=t.x,n=t.y,r=i(e-this.long0),o=n,a=Math.PI*Math.sin(n),s=0;!0;s++){var l=-(o+Math.sin(o)-a)/(1+Math.cos(o));if(o+=l,Math.abs(l)<1e-10)break}o/=2,Math.PI/2-Math.abs(n)<1e-10&&(r=0);var c=.900316316158*this.a*r*Math.cos(o)+this.x0,u=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=c,t.y=u,t},n.inverse=function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=i(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return t.x=r,t.y=o,t},n.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],57:[function(t,e,n){var i=484813681109536e-20;n.iterations=1,n.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},n.forward=function(t){var e,n=t.x,r=t.y,o=r-this.lat0,a=n-this.long0,s=o/i*1e-5,l=a,c=1,u=0;for(e=1;e<=10;e++)c*=s,u+=this.A[e]*c;var h,f,p=u,d=l,y=1,g=0,v=0,m=0;for(e=1;e<=6;e++)h=y*p-g*d,f=g*p+y*d,y=h,g=f,v=v+this.B_re[e]*y-this.B_im[e]*g,m=m+this.B_im[e]*y+this.B_re[e]*g;return t.x=m*this.a+this.x0,t.y=v*this.a+this.y0,t},n.inverse=function(t){var e,n,r,o=t.x,a=t.y,s=o-this.x0,l=a-this.y0,c=l/this.a,u=s/this.a,h=1,f=0,p=0,d=0;for(e=1;e<=6;e++)n=h*c-f*u,r=f*c+h*u,h=n,f=r,p=p+this.C_re[e]*h-this.C_im[e]*f,d=d+this.C_im[e]*h+this.C_re[e]*f;for(var y=0;y<this.iterations;y++){var g,v,m=p,_=d,b=c,w=u;for(e=2;e<=6;e++)g=m*p-_*d,v=_*p+m*d,m=g,_=v,b+=(e-1)*(this.B_re[e]*m-this.B_im[e]*_),w+=(e-1)*(this.B_im[e]*m+this.B_re[e]*_);m=1,_=0;var M=this.B_re[1],x=this.B_im[1];for(e=2;e<=6;e++)g=m*p-_*d,v=_*p+m*d,m=g,_=v,M+=e*(this.B_re[e]*m-this.B_im[e]*_),x+=e*(this.B_im[e]*m+this.B_re[e]*_);var S=M*M+x*x;p=(b*M+w*x)/S,d=(w*M-b*x)/S}var P=p,O=d,C=1,k=0;for(e=1;e<=9;e++)C*=P,k+=this.D[e]*C;var E=this.lat0+k*i*1e5,j=this.long0+O;return t.x=j,t.y=E,t},n.names=["New_Zealand_Map_Grid","nzmg"]},{}],58:[function(t,e,n){var i=t("../common/tsfnz"),r=t("../common/adjust_lon"),o=t("../common/phi2z"),a=Math.PI/2,s=Math.PI/4,l=1e-10;n.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var o=i(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));a*a<1&&(a=1);var s,l;if(isNaN(this.longc)){var c=i(this.e,this.lat1,Math.sin(this.lat1)),u=i(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var h=Math.pow(c,this.bl),f=Math.pow(u,this.bl);s=this.el/h,l=.5*(s-1/s);var p=(this.el*this.el-f*h)/(this.el*this.el+f*h),d=(f-h)/(f+h),y=r(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*y)/d)/this.bl,this.long0=r(this.long0);var g=r(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/l),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else s=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=s*Math.pow(o,this.bl),l=.5*(s-1/s),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},n.forward=function(t){var e,n,o,c=t.x,u=t.y,h=r(c-this.long0);if(Math.abs(Math.abs(u)-a)<=l)o=u>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(s+o*this.gamma0*.5)),e=-1*o*a*this.al/this.bl;else{var f=i(this.e,u,Math.sin(u)),p=this.el/Math.pow(f,this.bl),d=.5*(p-1/p),y=.5*(p+1/p),g=Math.sin(this.bl*h),v=(d*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/y;n=Math.abs(Math.abs(v)-1)<=l?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*h))<=l?this.al*this.bl*h:this.al*Math.atan2(d*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*h))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},n.inverse=function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),s=.5*(i-1/i),c=.5*(i+1/i),u=Math.sin(this.bl*e/this.al),h=(u*Math.cos(this.gamma0)+s*Math.sin(this.gamma0))/c,f=Math.pow(this.el/Math.sqrt((1+h)/(1-h)),1/this.bl);return Math.abs(h-1)<l?(t.x=this.long0,t.y=a):Math.abs(h+1)<l?(t.x=this.long0,t.y=-1*a):(t.y=o(this.e,f),t.x=r(this.long0-Math.atan2(s*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},n.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":17,"../common/tsfnz":25}],59:[function(t,e,n){var i=t("../common/adjust_lon"),r=1e-10,o=t("../common/asinz"),a=Math.PI/2;n.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},n.forward=function(t){var e,n,o,a,s,l,c,u,h=t.x,f=t.y;return o=i(h-this.long0),e=Math.sin(f),n=Math.cos(f),a=Math.cos(o),l=this.sin_p14*e+this.cos_p14*n*a,s=1,(l>0||Math.abs(l)<=r)&&(c=this.a*s*n*Math.sin(o),u=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*a)),t.x=c,t.y=u,t},n.inverse=function(t){var e,n,s,l,c,u,h;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=o(e/this.a),s=Math.sin(n),l=Math.cos(n),u=this.long0,Math.abs(e)<=r?(h=this.lat0,t.x=u,t.y=h,t):(h=o(l*this.sin_p14+t.y*s*this.cos_p14/e),c=Math.abs(this.lat0)-a,Math.abs(c)<=r?(u=i(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=u,t.y=h,t):(u=i(this.long0+Math.atan2(t.x*s,e*this.cos_p14*l-t.y*this.sin_p14*s)),t.x=u,t.y=h,t))},n.names=["ortho"]},{"../common/adjust_lon":5,"../common/asinz":7}],60:[function(t,e,n){var i=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),a=t("../common/e3fn"),s=t("../common/adjust_lon"),l=t("../common/adjust_lat"),c=t("../common/mlfn"),u=1e-10,h=t("../common/gN");n.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*c(this.e0,this.e1,this.e2,this.e3,this.lat0)},n.forward=function(t){var e,n,i,r=t.x,o=t.y,a=s(r-this.long0);if(i=a*Math.sin(o),this.sphere)Math.abs(o)<=u?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(l(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=u)e=this.a*a,n=-1*this.ml0;else{var f=h(this.a,this.e,Math.sin(o))/Math.tan(o);e=f*Math.sin(i),n=this.a*c(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+f*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},n.inverse=function(t){var e,n,i,r,o,a,l,h,f;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=u)e=s(i/this.a+this.long0),n=0;else{a=this.lat0+r/this.a,l=i*i/this.a/this.a+a*a,h=a;var p;for(o=20;o;--o)if(p=Math.tan(h),f=-1*(a*(h*p+1)-h-.5*(h*h+l)*p)/((h-a)/p-1),h+=f,Math.abs(f)<=u){n=h;break}e=s(this.long0+Math.asin(i*Math.tan(h)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=u)n=0,e=s(this.long0+i/this.a);else{a=(this.ml0+r)/this.a,l=i*i/this.a/this.a+a*a,h=a;var d,y,g,v,m;for(o=20;o;--o)if(m=this.e*Math.sin(h),d=Math.sqrt(1-m*m)*Math.tan(h),y=this.a*c(this.e0,this.e1,this.e2,this.e3,h),g=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),v=y/this.a,f=(a*(d*v+1)-v-.5*d*(v*v+l))/(this.es*Math.sin(2*h)*(v*v+l-2*a*v)/(4*d)+(a-v)*(d*g-2/Math.sin(2*h))-g),h-=f,Math.abs(f)<=u){n=h;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=s(this.long0+Math.asin(i*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},n.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":8,"../common/e1fn":9,"../common/e2fn":10,"../common/e3fn":11,"../common/gN":12,"../common/mlfn":15}],61:[function(t,e,n){var i=t("../common/adjust_lon"),r=t("../common/adjust_lat"),o=t("../common/pj_enfn"),a=t("../common/pj_mlfn"),s=t("../common/pj_inv_mlfn"),l=Math.PI/2,c=t("../common/asinz");n.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},n.forward=function(t){var e,n,r=t.x,o=t.y;if(r=i(r-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(o),l=20;l;--l){var c=(this.m*o+Math.sin(o)-s)/(this.m+Math.cos(o));if(o-=c,Math.abs(c)<1e-10)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*r*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var u=Math.sin(o),h=Math.cos(o);n=this.a*a(o,u,h,this.en),e=this.a*r*h/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t},n.inverse=function(t){var e,n,o,a;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=c((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=c(Math.sin(e)/this.n)),o=i(o+this.long0),e=r(e)):(e=s(t.y/this.a,this.es,this.en),a=Math.abs(e),a<l?(a=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),o=i(n)):a-1e-10<l&&(o=this.long0)),t.x=o,t.y=e,t},n.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":7,"../common/pj_enfn":18,"../common/pj_inv_mlfn":19,"../common/pj_mlfn":20}],62:[function(t,e,n){n.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,o=2*r-Math.pow(r,2),a=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+a*e)/(1-a*e));this.K=s-this.alpha*l+this.alpha*a/2*c},n.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},n.inverse=function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,c=o,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=c,t},n.names=["somerc"]},{}],63:[function(t,e,n){var i=Math.PI/2,r=1e-10,o=t("../common/sign"),a=t("../common/msfnz"),s=t("../common/tsfnz"),l=t("../common/phi2z"),c=t("../common/adjust_lon");n.ssfn_=function(t,e,n){return e*=n,Math.tan(.5*(i+t))*Math.pow((1-e)/(1+e),.5*n)},n.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*(1+o(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=r&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*this.cons*a(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/s(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=a(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},n.forward=function(t){var e,n,o,a,l,u,h=t.x,f=t.y,p=Math.sin(f),d=Math.cos(f),y=c(h-this.long0);return Math.abs(Math.abs(h-this.long0)-Math.PI)<=r&&Math.abs(f+this.lat0)<=r?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*d*Math.cos(y)),t.x=this.a*e*d*Math.sin(y)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*d*Math.cos(y))+this.y0,t):(n=2*Math.atan(this.ssfn_(f,p,this.e))-i,a=Math.cos(n),o=Math.sin(n),Math.abs(this.coslat0)<=r?(l=s(this.e,f*this.con,this.con*p),u=2*this.a*this.k0*l/this.cons,t.x=this.x0+u*Math.sin(h-this.long0),t.y=this.y0-this.con*u*Math.cos(h-this.long0),t):(Math.abs(this.sinlat0)<r?(e=2*this.a*this.k0/(1+a*Math.cos(y)),t.y=e*o):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*a*Math.cos(y))),t.y=e*(this.cosX0*o-this.sinX0*a*Math.cos(y))+this.y0),t.x=e*a*Math.sin(y)+this.x0,t))},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,o,a,s,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var h=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,n=this.lat0,u<=r?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(h)*this.sinlat0+t.y*Math.sin(h)*this.coslat0/u),e=c(Math.abs(this.coslat0)<r?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(h),u*this.coslat0*Math.cos(h)-t.y*this.sinlat0*Math.sin(h))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=r){if(u<=r)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,o=u*this.cons/(2*this.a*this.k0),n=this.con*l(this.e,o),e=this.con*c(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=r?s=this.X0:(s=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/u),e=c(this.long0+Math.atan2(t.x*Math.sin(a),u*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),n=-1*l(this.e,Math.tan(.5*(i+s)));return t.x=e,t.y=n,t},n.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":16,"../common/phi2z":17,"../common/sign":22,"../common/tsfnz":25}],64:[function(t,e,n){var i=t("./gauss"),r=t("../common/adjust_lon");n.init=function(){i.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},n.forward=function(t){var e,n,o,a;return t.x=r(t.x-this.long0),i.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),o=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*o),t.x=a*n*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*n*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},n.inverse=function(t){var e,n,o,a,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(s,this.R2);e=Math.sin(l),n=Math.cos(l),a=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),o=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else a=this.phic0,o=0;return t.x=o,t.y=a,i.inverse.apply(this,[t]),t.x=r(t.x+this.long0),t},n.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":48}],65:[function(t,e,n){var i=t("../common/pj_enfn"),r=t("../common/pj_mlfn"),o=t("../common/pj_inv_mlfn"),a=t("../common/adjust_lon"),s=Math.PI/2,l=1e-10,c=t("../common/sign");n.init=function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=i(this.es),this.ml0=r(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},n.forward=function(t){var e,n,i,o=t.x,s=t.y,c=a(o-this.long0),u=Math.sin(s),h=Math.cos(s);if(this.es){var f=h*c,p=Math.pow(f,2),d=this.ep2*Math.pow(h,2),y=Math.pow(d,2),g=Math.abs(h)>l?Math.tan(s):0,v=Math.pow(g,2),m=Math.pow(v,2);e=1-this.es*Math.pow(u,2),f/=Math.sqrt(e);var _=r(s,u,h,this.en);n=this.a*(this.k0*f*(1+p/6*(1-v+d+p/20*(5-18*v+m+14*d-58*v*d+p/42*(61+179*m-m*v-479*v)))))+this.x0,i=this.a*(this.k0*(_-this.ml0+u*c*f/2*(1+p/12*(5-v+9*d+4*y+p/30*(61+m-58*v+270*d-330*v*d+p/56*(1385+543*m-m*v-3111*v))))))+this.y0}else{var b=h*Math.sin(c);if(Math.abs(Math.abs(b)-1)<l)return 93;if(n=.5*this.a*this.k0*Math.log((1+b)/(1-b))+this.x0,i=h*Math.cos(c)/Math.sqrt(1-Math.pow(b,2)),(b=Math.abs(i))>=1){if(b-1>l)return 93;i=0}else i=Math.acos(i);s<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},n.inverse=function(t){var e,n,i,r,u=(t.x-this.x0)*(1/this.a),h=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+h/this.k0,n=o(e,this.es,this.en),Math.abs(n)<s){var f=Math.sin(n),p=Math.cos(n),d=Math.abs(p)>l?Math.tan(n):0,y=this.ep2*Math.pow(p,2),g=Math.pow(y,2),v=Math.pow(d,2),m=Math.pow(v,2);e=1-this.es*Math.pow(f,2);var _=u*Math.sqrt(e)/this.k0,b=Math.pow(_,2);e*=d,i=n-e*b/(1-this.es)*.5*(1-b/12*(5+3*v-9*y*v+y-4*g-b/30*(61+90*v-252*y*v+45*m+46*y-b/56*(1385+3633*v+4095*m+1574*m*v)))),r=a(this.long0+_*(1-b/6*(1+2*v+y-b/20*(5+28*v+24*m+8*y*v+6*y-b/42*(61+662*v+1320*m+720*m*v))))/p)}else i=s*c(h),r=0;else{var w=Math.exp(u/this.k0),M=.5*(w-1/w),x=this.lat0+h/this.k0,S=Math.cos(x);e=Math.sqrt((1-Math.pow(S,2))/(1+Math.pow(M,2))),i=Math.asin(e),h<0&&(i=-i),r=0===M&&0===S?0:a(Math.atan2(M,S)+this.long0)}return t.x=r,t.y=i,t},n.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/pj_enfn":18,"../common/pj_inv_mlfn":19,"../common/pj_mlfn":20,"../common/sign":22}],66:[function(t,e,n){var i=t("../common/adjust_zone"),r=t("./tmerc");n.dependsOn="tmerc",n.init=function(){var t=i(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(t+.5)*Math.PI/30-Math.PI,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,r.init.apply(this),this.forward=r.forward,this.inverse=r.inverse},n.names=["Universal Transverse Mercator System","utm"]},{"../common/adjust_zone":6,"./tmerc":65}],67:[function(t,e,n){var i=t("../common/adjust_lon"),r=Math.PI/2,o=1e-10,a=t("../common/asinz");n.init=function(){this.R=this.a},n.forward=function(t){var e,n,s=t.x,l=t.y,c=i(s-this.long0);Math.abs(l)<=o&&(e=this.x0+this.R*c,n=this.y0);var u=a(2*Math.abs(l/Math.PI));(Math.abs(c)<=o||Math.abs(Math.abs(l)-r)<=o)&&(e=this.x0,n=l>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var h=.5*Math.abs(Math.PI/c-c/Math.PI),f=h*h,p=Math.sin(u),d=Math.cos(u),y=d/(p+d-1),g=y*y,v=y*(2/p-1),m=v*v,_=Math.PI*this.R*(h*(y-m)+Math.sqrt(f*(y-m)*(y-m)-(m+f)*(g-m)))/(m+f);c<0&&(_=-_),e=this.x0+_;var b=f+y;return _=Math.PI*this.R*(v*b-h*Math.sqrt((m+f)*(f+1)-b*b))/(m+f),n=l>=0?this.y0+_:this.y0-_,t.x=e,t.y=n,t},n.inverse=function(t){var e,n,r,a,s,l,c,u,h,f,p,d,y;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,r=t.x/p,a=t.y/p,s=r*r+a*a,l=-Math.abs(a)*(1+s),c=l-2*a*a+r*r,u=-2*l+1+2*a*a+s*s,y=a*a/u+(2*c*c*c/u/u/u-9*l*c/u/u)/27,h=(l-c*c/3/u)/u,f=2*Math.sqrt(-h/3),p=3*y/h/f,Math.abs(p)>1&&(p=p>=0?1:-1),d=Math.acos(p)/3,n=t.y>=0?(-f*Math.cos(d+Math.PI/3)-c/3/u)*Math.PI:-(-f*Math.cos(d+Math.PI/3)-c/3/u)*Math.PI,e=Math.abs(r)<o?this.long0:i(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-a*a)+s*s))/2/r),t.x=e,t.y=n,t},n.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":7}],68:[function(t,e,n){function i(t,e){return(t.datum.datum_type===a||t.datum.datum_type===s)&&"WGS84"!==e.datumCode||(e.datum.datum_type===a||e.datum.datum_type===s)&&"WGS84"!==t.datumCode}var r=.017453292519943295,o=57.29577951308232,a=1,s=2,l=t("./datum_transform"),c=t("./adjust_axis"),u=t("./Proj"),h=t("./common/toPoint");e.exports=function t(e,n,a){var s;return Array.isArray(a)&&(a=h(a)),e.datum&&n.datum&&i(e,n)&&(s=new u("WGS84"),a=t(e,s,a),e=s),"enu"!==e.axis&&(a=c(e,!1,a)),"longlat"===e.projName?a={x:a.x*r,y:a.y*r}:(e.to_meter&&(a={x:a.x*e.to_meter,y:a.y*e.to_meter}),a=e.inverse(a)),e.from_greenwich&&(a.x+=e.from_greenwich),a=l(e.datum,n.datum,a),n.from_greenwich&&(a={x:a.x-n.grom_greenwich,y:a.y}),"longlat"===n.projName?a={x:a.x*o,y:a.y*o}:(a=n.forward(a),n.to_meter&&(a={x:a.x/n.to_meter,y:a.y/n.to_meter})),"enu"!==n.axis?c(n,!0,a):a}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":24,"./datum_transform":33}],69:[function(t,e,n){function i(t,e,n){t[e]=n.map(function(t){var e={};return r(t,e),e}).reduce(function(t,e){return c(t,e)},{})}function r(t,e){var n;return Array.isArray(t)?(n=t.shift(),"PARAMETER"===n&&(n=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[n]={},r(t[0],e[n])):e[n]=t[0]:t.length?"TOWGS84"===n?e[n]=t:(e[n]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(n)>-1?(e[n]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[n].auth=t[2])):"SPHEROID"===n?(e[n]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[n].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(n)>-1?(t[0]=["name",t[0]],i(e,n,t)):t.every(function(t){return Array.isArray(t)})?i(e,n,t):r(t,e[n])):e[n]=!0)):void(e[t]=!0)}function o(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}function a(t){return t*l}function s(t){function e(e){var n=t.to_meter||1;return parseFloat(e,10)*n}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",a],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["alpha","azimuth",a],["srsCode","name"]].forEach(function(e){return o(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=a(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var l=.017453292519943295,c=t("./extend");e.exports=function(t,e){var n=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),i=n.shift(),o=n.shift();n.unshift(["name",o]),n.unshift(["type",i]),n.unshift("output");var a={};return r(n,a),s(a.output),c(e,a.output)}},{"./extend":36}],70:[function(t,e,n){function i(t){return t*(Math.PI/180)}function r(t){return t/Math.PI*180}function o(t){var e,n,r,o,a,l,c,u,h,f=t.lat,p=t.lon,d=6378137,y=.00669438,g=i(f),v=i(p);h=Math.floor((p+180)/6)+1,180===p&&(h=60),f>=56&&f<64&&p>=3&&p<12&&(h=32),f>=72&&f<84&&(p>=0&&p<9?h=31:p>=9&&p<21?h=33:p>=21&&p<33?h=35:p>=33&&p<42&&(h=37)),e=6*(h-1)-180+3,u=i(e),n=y/(1-y),r=d/Math.sqrt(1-y*Math.sin(g)*Math.sin(g)),o=Math.tan(g)*Math.tan(g),a=n*Math.cos(g)*Math.cos(g),l=Math.cos(g)*(v-u),c=d*(.9983242984503243*g-.002514607064228144*Math.sin(2*g)+2639046602129982e-21*Math.sin(4*g)-35*y*y*y/3072*Math.sin(6*g));var m=.9996*r*(l+(1-o+a)*l*l*l/6+(5-18*o+o*o+72*a-58*n)*l*l*l*l*l/120)+5e5,_=.9996*(c+r*Math.tan(g)*(l*l/2+(5-o+9*a+4*a*a)*l*l*l*l/24+(61-58*o+o*o+600*a-330*n)*l*l*l*l*l*l/720));return f<0&&(_+=1e7),{northing:Math.round(_),easting:Math.round(m),zoneNumber:h,zoneLetter:s(f)}}function a(t){var e=t.northing,n=t.easting,i=t.zoneLetter,o=t.zoneNumber;if(o<0||o>60)return null;var s,l,c,u,h,f,p,d,y,g,v=6378137,m=.00669438,_=(1-Math.sqrt(1-m))/(1+Math.sqrt(1-m)),b=n-5e5,w=e;i<"N"&&(w-=1e7),d=6*(o-1)-180+3,s=m/(1-m),p=w/.9996,y=p/6367449.145945056,g=y+(3*_/2-27*_*_*_/32)*Math.sin(2*y)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*y)+151*_*_*_/96*Math.sin(6*y),l=v/Math.sqrt(1-m*Math.sin(g)*Math.sin(g)),c=Math.tan(g)*Math.tan(g),u=s*Math.cos(g)*Math.cos(g),h=v*(1-m)/Math.pow(1-m*Math.sin(g)*Math.sin(g),1.5),f=b/(.9996*l);var M=g-l*Math.tan(g)/h*(f*f/2-(5+3*c+10*u-4*u*u-9*s)*f*f*f*f/24+(61+90*c+298*u+45*c*c-252*s-3*u*u)*f*f*f*f*f*f/720);M=r(M);var x=(f-(1+2*c+u)*f*f*f/6+(5-2*u+28*c-3*u*u+8*s+24*c*c)*f*f*f*f*f/120)/Math.cos(g);x=d+r(x);var S;if(t.accuracy){var P=a({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});S={top:P.lat,right:P.lon,bottom:M,left:x}}else S={lat:M,lon:x};return S}function s(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function l(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+c(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function c(t,e,n){var i=u(n);return h(Math.floor(t/1e5),Math.floor(e/1e5)%20,i)}function u(t){var e=t%g;return 0===e&&(e=g),e}function h(t,e,n){var i=n-1,r=v.charCodeAt(i),o=m.charCodeAt(i),a=r+t-1,s=o+e,l=!1;return a>x&&(a=a-x+_-1,l=!0),(a===b||r<b&&a>b||(a>b||r<b)&&l)&&a++,(a===w||r<w&&a>w||(a>w||r<w)&&l)&&++a===b&&a++,a>x&&(a=a-x+_-1),s>M?(s=s-M+_-1,l=!0):l=!1,(s===b||o<b&&s>b||(s>b||o<b)&&l)&&s++,(s===w||o<w&&s>w||(s>w||o<w)&&l)&&++s===b&&s++,s>M&&(s=s-M+_-1),String.fromCharCode(a)+String.fromCharCode(s)}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var a=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;i=t.substring(o,o+=2);for(var l=u(a),c=p(i.charAt(0),l),h=d(i.charAt(1),l);h<y(s);)h+=2e6;var f=n-o;if(f%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,v,m,_,b,w=f/2,M=0,x=0;return w>0&&(g=1e5/Math.pow(10,w),v=t.substring(o,o+w),M=parseFloat(v)*g,m=t.substring(o+w),x=parseFloat(m)*g),_=M+c,b=x+h,{easting:_,northing:b,zoneLetter:s,zoneNumber:a,accuracy:g}}function p(t,e){for(var n=v.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===w&&n++,n>x){if(r)throw"Bad character: "+t;n=_,r=!0}i+=1e5}return i}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=m.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===w&&n++,n>M){if(r)throw"Bad character: "+t;n=_,r=!0}i+=1e5}return i}function y(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var g=6,v="AJSAJS",m="AFAFAF",_=65,b=73,w=79,M=86,x=90;n.forward=function(t,e){return e=e||5,l(o({lat:t[1],lon:t[0]}),e)},n.inverse=function(t){var e=a(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},n.toPoint=function(t){var e=a(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}]},{},[38])(38)})},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,i){var o=e&&e.prototype instanceof r?e:r,a=Object.create(o.prototype),s=new p(i||[]);return a._invoke=c(t,n,s),a}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function n(e,r,o,a){var s=i(t[e],t,r);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&m.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(c).then(function(t){l.value=t,o(l)},a)}a(s.arg)}function r(t,e){function i(){return new Promise(function(i,r){n(t,e,i,r)})}return o=o?o.then(i,i):i()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=r}function c(t,e,n){var r=P;return function(o,a){if(r===C)throw new Error("Generator is already running");if(r===k){if("throw"===o)throw a;return y()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=u(s,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===P)throw r=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=C;var c=i(t,e,n);if("normal"===c.type){if(r=n.done?k:O,c.arg===E)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=k,n.method="throw",n.arg=c.arg)}}}function u(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,u(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,E;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,E):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(m.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return i.next=i}}return{next:y}}function y(){return{value:g,done:!0}}var g,v=Object.prototype,m=v.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",M=_.toStringTag||"@@toStringTag",x="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(x&&(t.exports=S));S=e.regeneratorRuntime=x?t.exports:{},S.wrap=n;var P="suspendedStart",O="suspendedYield",C="executing",k="completed",E={},j={};j[b]=function(){return this};var L=Object.getPrototypeOf,A=L&&L(L(d([])));A&&A!==v&&m.call(A,b)&&(j=A);var T=a.prototype=r.prototype=Object.create(j);o.prototype=T.constructor=a,a.constructor=o,a[M]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,M in t||(t[M]="GeneratorFunction")),t.prototype=Object.create(T),t},S.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[w]=function(){return this},S.AsyncIterator=l,S.async=function(t,e,i,r){var o=new l(n(t,e,i,r));return S.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(T),T[M]="Generator",T[b]=function(){return this},T.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},S.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=g),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=m.call(r,"catchLoc"),s=m.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),E}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;f(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),E}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(129))},function(t,e,n){n(130),t.exports=n(191)}])});