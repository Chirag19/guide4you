/*!
 * guide4you
 * Version: 1.2.9 (built Thu Jan 19 2017)
 * Klaus Benndorf, License: MIT (https://spdx.org/licenses/MIT.html)
 * Homepage: https://github.com/KlausBenndorf/guide4you
 *
 * This software contains (parts of) the following software packages:
 * csscolorparser v1.0.3, https://github.com/deanm/css-color-parser-js, Dean McNamee <dean@gmail.com>, License: MIT (https://spdx.org/licenses/MIT.html)
 * guide4you-proxy v1.0.0, http://www.benndorf.de, Klaus Benndorf, License: GPL-3.0+ (https://spdx.org/licenses/GPL-3.0+.html)
 * iscroll v5.2.0, http://iscrolljs.com, Matteo Spinelli <matteo@cubiq.org> (http://cubiq.org), License: MIT (https://spdx.org/licenses/MIT.html)
 * lodash v4.16.4, https://lodash.com/, John-David Dalton <john.david.dalton@gmail.com> (http://allyoucanleet.com/), License: MIT (https://spdx.org/licenses/MIT.html)
 * notifyjs-browser v0.4.2, http://notifyjs.com/, Jaime Pillora, License: MIT (https://spdx.org/licenses/MIT.html)
 * proj4 v2.3.15, https://github.com/proj4js/proj4js#readme, License: MIT (https://spdx.org/licenses/MIT.html)
 * strip-json-comments v2.0.1, https://github.com/sindresorhus/strip-json-comments#readme, Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com), License: MIT (https://spdx.org/licenses/MIT.html)
 * webpack v1.13.1, https://github.com/webpack/webpack, Tobias Koppers @sokra, License: MIT (https://spdx.org/licenses/MIT.html)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("ol"),require("jQuery")):"function"==typeof define&&define.amd?define("g4u",["ol","jQuery"],e):"object"==typeof exports?exports.g4u=e(require("ol"),require("jQuery")):t.g4u=e(t.ol,t.jQuery)}(this,function(t,e){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1},s=t[n];return"number"==typeof s?(i[s]||e(s),o.exports=i[s].exports):t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var i=e.slice(1),n=t[e[0]];return function(t,e,o){n.apply(this,[t,e,o].concat(i))}}(t[e])}return t}([function(t,e,i){t.exports=i(9)},,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.source=e.createMap=void 0,i(10);var n=i(11);i(438),i(439),i(440);var o=i(169);e.createMap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"node_modules/guide4you/dist/conf/client.commented.json",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"node_modules/guide4you/dist/conf/layers.commented.json";return(0,n.createG4UInternal)(t,e,i)},e.source={ServerVector:o.SourceServerVector}},function(t,e,i){t.exports=i.p+"g4u.d.ts"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i,n){return Array.isArray(n)&&(n={modules:n}),new a.default(function(o,s){(0,u.default)(document).ready(function(){if(u.default){var a=(0,u.default)().jquery.split(".");+a[0]<2&&+a[1]<9&&f.Debug.error("You are using an outdated version of jQuery. Please use version 1.9 or higher.")}else s("jQuery not available.");l.default||s("OpenLayers not available."),l.default.has.CANVAS||((0,u.default)(".g4u-browser-support-message").show(),s("Browser does not support Canvas.")),(0,u.default)(t).empty(),window.map=new h.G4UMap(t,e,i,n),o(window.map)})})}Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=n(s);e.createG4UInternal=o;var r=i(77),l=n(r),c=i(78),u=n(c);i(79),i(80);var h=i(81),f=i(151)},function(t,e,i){t.exports={"default":i(13),__esModule:!0}},function(t,e,i){i(14),i(15),i(59),i(63),t.exports=i(23).Promise},function(t,e){},function(t,e,i){"use strict";var n=i(16)(!0);i(19)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){var n=i(17),o=i(18);t.exports=function(t){return function(e,i){var s,a,r=String(o(e)),l=n(i),c=r.length;return l<0||l>=c?t?"":void 0:(s=r.charCodeAt(l),s<55296||s>56319||l+1===c||(a=r.charCodeAt(l+1))<56320||a>57343?t?r.charAt(l):s:t?r.slice(l,l+2):(s-55296<<10)+(a-56320)+65536)}}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){"use strict";var n=i(20),o=i(21),s=i(36),a=i(26),r=i(37),l=i(38),c=i(39),u=i(55),h=i(57),f=i(56)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",g="keys",m="values",y=function(){return this};t.exports=function(t,e,i,v,_,b,M){c(i,e,v);var w,x,C,S=function(t){if(!p&&t in A)return A[t];switch(t){case g:return function(){return new i(this,t)};case m:return function(){return new i(this,t)}}return function(){return new i(this,t)}},P=e+" Iterator",L=_==m,E=!1,A=t.prototype,k=A[f]||A[d]||_&&A[_],O=k||S(_),I=_?L?S("entries"):O:void 0,T="Array"==e?A.entries||k:k;if(T&&(C=h(T.call(new t)),C!==Object.prototype&&(u(C,P,!0),n||r(C,f)||a(C,f,y))),L&&k&&k.name!==m&&(E=!0,O=function(){return k.call(this)}),n&&!M||!p&&!E&&A[f]||a(A,f,O),l[e]=O,l[P]=y,_)if(w={values:L?O:S(m),keys:b?O:S(g),entries:I},M)for(x in w)x in A||s(A,x,w[x]);else o(o.P+o.F*(p||E),e,w);return w}},function(t,e){t.exports=!0},function(t,e,i){var n=i(22),o=i(23),s=i(24),a=i(26),r="prototype",l=function(t,e,i){var c,u,h,f=t&l.F,p=t&l.G,d=t&l.S,g=t&l.P,m=t&l.B,y=t&l.W,v=p?o:o[e]||(o[e]={}),_=v[r],b=p?n:d?n[e]:(n[e]||{})[r];p&&(i=e);for(c in i)u=!f&&b&&void 0!==b[c],u&&c in v||(h=u?b[c]:i[c],v[c]=p&&"function"!=typeof b[c]?i[c]:m&&u?s(h,n):y&&b[c]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e[r]=t[r],e}(h):g&&"function"==typeof h?s(Function.call,h):h,g&&((v.virtual||(v.virtual={}))[c]=h,t&l.R&&_&&!_[c]&&a(_,c,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(25);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(27),o=i(35);t.exports=i(31)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(28),o=i(30),s=i(34),a=Object.defineProperty;e.f=i(31)?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),o)try{return a(t,e,i)}catch(r){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(29);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(31)&&!i(32)(function(){return 7!=Object.defineProperty(i(33)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){t.exports=!i(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,i){var n=i(29),o=i(22).document,s=n(o)&&n(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,i){var n=i(29);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){t.exports=i(26)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){t.exports={}},function(t,e,i){"use strict";var n=i(40),o=i(35),s=i(55),a={};i(26)(a,i(56)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:o(1,i)}),s(t,e+" Iterator")}},function(t,e,i){var n=i(28),o=i(41),s=i(53),a=i(50)("IE_PROTO"),r=function(){},l="prototype",c=function(){var t,e=i(33)("iframe"),n=s.length,o="<",a=">";for(e.style.display="none",i(54).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;n--;)delete c[l][s[n]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(r[l]=n(t),i=new r,r[l]=null,i[a]=t):i=c(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(27),o=i(28),s=i(42);t.exports=i(31)?Object.defineProperties:function(t,e){o(t);for(var i,a=s(e),r=a.length,l=0;r>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){var n=i(43),o=i(53);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){var n=i(37),o=i(44),s=i(47)(!1),a=i(50)("IE_PROTO");t.exports=function(t,e){var i,r=o(t),l=0,c=[];for(i in r)i!=a&&n(r,i)&&c.push(i);for(;e.length>l;)n(r,i=e[l++])&&(~s(c,i)||c.push(i));return c}},function(t,e,i){var n=i(45),o=i(18);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(46);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(44),o=i(48),s=i(49);t.exports=function(t){return function(e,i,a){var r,l=n(e),c=o(l.length),u=s(a,c);if(t&&i!=i){for(;c>u;)if(r=l[u++],r!=r)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},function(t,e,i){var n=i(17),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n=i(17),o=Math.max,s=Math.min;t.exports=function(t,e){return t=n(t),t<0?o(t+e,0):s(t,e)}},function(t,e,i){var n=i(51)("keys"),o=i(52);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e,i){var n=i(22),o="__core-js_shared__",s=n[o]||(n[o]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){t.exports=i(22).document&&document.documentElement},function(t,e,i){var n=i(27).f,o=i(37),s=i(56)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){var n=i(51)("wks"),o=i(52),s=i(22).Symbol,a="function"==typeof s,r=t.exports=function(t){return n[t]||(n[t]=a&&s[t]||(a?s:o)("Symbol."+t))};r.store=n},function(t,e,i){var n=i(37),o=i(58),s=i(50)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n=i(18);t.exports=function(t){return Object(n(t))}},function(t,e,i){i(60);for(var n=i(22),o=i(26),s=i(38),a=i(56)("toStringTag"),r=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var c=r[l],u=n[c],h=u&&u.prototype;h&&!h[a]&&o(h,a,c),s[c]=s.Array}},function(t,e,i){"use strict";var n=i(61),o=i(62),s=i(38),a=i(44);t.exports=i(19)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,i):"values"==e?o(0,t[i]):o(0,[i,t[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n,o,s,a=i(20),r=i(22),l=i(24),c=i(64),u=i(21),h=i(29),f=i(25),p=i(65),d=i(66),g=i(70),m=i(71).set,y=i(73)(),v="Promise",_=r.TypeError,b=r.process,M=r[v],b=r.process,w="process"==c(b),x=function(){},C=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[i(56)("species")]=function(t){t(x,x)};return(w||"function"==typeof PromiseRejectionEvent)&&t.then(x)instanceof e}catch(n){}}(),S=function(t,e){return t===e||t===M&&e===s},P=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},L=function(t){return S(M,t)?new E(t):new o(t)},E=o=function(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw _("Bad Promise constructor");e=t,i=n}),this.resolve=f(e),this.reject=f(i)},A=function(t){try{t()}catch(e){return{error:e}}},k=function(t,e){if(!t._n){t._n=!0;var i=t._c;y(function(){for(var n=t._v,o=1==t._s,s=0,a=function(e){var i,s,a=o?e.ok:e.fail,r=e.resolve,l=e.reject,c=e.domain;try{a?(o||(2==t._h&&T(t),t._h=1),a===!0?i=n:(c&&c.enter(),i=a(n),c&&c.exit()),i===e.promise?l(_("Promise-chain cycle")):(s=P(i))?s.call(i,r,l):r(i)):l(n)}catch(u){l(u)}};i.length>s;)a(i[s++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){m.call(r,function(){var e,i,n,o=t._v;if(I(t)&&(e=A(function(){w?b.emit("unhandledRejection",o,t):(i=r.onunhandledrejection)?i({promise:t,reason:o}):(n=r.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=w||I(t)?2:1),t._a=void 0,e)throw e.error})},I=function(t){if(1==t._h)return!1;for(var e,i=t._a||t._c,n=0;i.length>n;)if(e=i[n++],e.fail||!I(e.promise))return!1;return!0},T=function(t){m.call(r,function(){var e;w?b.emit("rejectionHandled",t):(e=r.onrejectionhandled)&&e({promise:t,reason:t._v})})},j=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),k(e,!0))},N=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw _("Promise can't be resolved itself");(e=P(t))?y(function(){var n={_w:i,_d:!1};try{e.call(t,l(N,n,1),l(j,n,1))}catch(o){j.call(n,o)}}):(i._v=t,i._s=1,k(i,!1))}catch(n){j.call({_w:i,_d:!1},n)}}};C||(M=function(t){p(this,M,v,"_h"),f(t),n.call(this);try{t(l(N,this,1),l(j,this,1))}catch(e){j.call(this,e)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(74)(M.prototype,{then:function(t,e){var i=L(g(this,M));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=w?b.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&k(this,!1),i.promise},"catch":function(t){return this.then(void 0,t)}}),E=function(){var t=new n;this.promise=t,this.resolve=l(N,t,1),this.reject=l(j,t,1)}),u(u.G+u.W+u.F*!C,{Promise:M}),i(55)(M,v),i(75)(v),s=i(23)[v],u(u.S+u.F*!C,v,{reject:function(t){var e=L(this),i=e.reject;return i(t),e.promise}}),u(u.S+u.F*(a||!C),v,{resolve:function(t){if(t instanceof M&&S(t.constructor,this))return t;var e=L(this),i=e.resolve;return i(t),e.promise}}),u(u.S+u.F*!(C&&i(76)(function(t){M.all(t).catch(x)})),v,{all:function(t){var e=this,i=L(e),n=i.resolve,o=i.reject,s=A(function(){var i=[],s=0,a=1;d(t,!1,function(t){var r=s++,l=!1;i.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,i[r]=t,--a||n(i))},o)}),--a||n(i)});return s&&o(s.error),i.promise},race:function(t){var e=this,i=L(e),n=i.reject,o=A(function(){d(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return o&&n(o.error),i.promise}})},function(t,e,i){var n=i(46),o=i(56)("toStringTag"),s="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),o))?i:s?n(e):"Object"==(r=n(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(24),o=i(67),s=i(68),a=i(28),r=i(48),l=i(69),c={},u={},e=t.exports=function(t,e,i,h,f){var p,d,g,m,y=f?function(){return t}:l(t),v=n(i,h,e?2:1),_=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(s(y)){for(p=r(t.length);p>_;_++)if(m=e?v(a(d=t[_])[0],d[1]):v(t[_]),m===c||m===u)return m}else for(g=y.call(t);!(d=g.next()).done;)if(m=o(g,v,d.value,e),m===c||m===u)return m};e.BREAK=c,e.RETURN=u},function(t,e,i){var n=i(28);t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(s){var a=t.return;throw void 0!==a&&n(a.call(t)),s}}},function(t,e,i){var n=i(38),o=i(56)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||s[o]===t)}},function(t,e,i){var n=i(64),o=i(56)("iterator"),s=i(38);t.exports=i(23).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||s[n(t)]}},function(t,e,i){var n=i(28),o=i(25),s=i(56)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[s])?e:o(i)}},function(t,e,i){var n,o,s,a=i(24),r=i(72),l=i(54),c=i(33),u=i(22),h=u.process,f=u.setImmediate,p=u.clearImmediate,d=u.MessageChannel,g=0,m={},y="onreadystatechange",v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function(t){v.call(t.data)};f&&p||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return m[++g]=function(){r("function"==typeof t?t:Function(t),e)},n(g),g},p=function(t){delete m[t]},"process"==i(46)(h)?n=function(t){h.nextTick(a(v,t,1))}:d?(o=new d,s=o.port2,o.port1.onmessage=_,n=a(s.postMessage,s,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",_,!1)):n=y in c("script")?function(t){l.appendChild(c("script"))[y]=function(){l.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:f,clear:p}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(22),o=i(71).set,s=n.MutationObserver||n.WebKitMutationObserver,a=n.process,r=n.Promise,l="process"==i(46)(a);t.exports=function(){var t,e,i,c=function(){var n,o;for(l&&(n=a.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(s){throw t?i():e=void 0,s}}e=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(c)};else if(s){var u=!0,h=document.createTextNode("");new s(c).observe(h,{characterData:!0}),i=function(){h.data=u=!u}}else if(r&&r.resolve){var f=r.resolve();i=function(){f.then(c)}}else i=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,i()),e=o}}},function(t,e,i){var n=i(26);t.exports=function(t,e,i){for(var o in e)i&&t[o]?t[o]=e[o]:n(t,o,e[o]);return t}},function(t,e,i){"use strict";var n=i(22),o=i(23),s=i(27),a=i(31),r=i(56)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:n[t];a&&e&&!e[r]&&s.f(e,r,{configurable:!0,get:function(){return this}})}},function(t,e,i){var n=i(56)("iterator"),o=!1;try{var s=[7][n]();s.return=function(){o=!0},Array.from(s,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var s=[7],a=s[n]();a.next=function(){return{done:i=!0}},s[n]=function(){return a},t(s)}catch(r){}return i}},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e,i){t.exports=i.p+"images/g4u-logo.png"},14,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.G4UMap=void 0;var o=i(12),s=n(o),a=i(82),r=n(a),l=i(101),c=n(l),u=i(105),h=n(u),f=i(108),p=n(f),d=i(119),g=n(d),m=i(120),y=n(m),v=i(121),_=n(v),b=i(77),M=n(b),w=i(78),x=n(w),C=i(129),S=n(C),P=i(130);i(433);var L=i(434),E=i(137),A=i(183),k=i(435),O=i(151);i(436);e.G4UMap=function(t){function e(i,n,o){function a(t){return x.default.ajax({url:t,dataType:"text"}).then(function(e){try{return JSON.parse((0,S.default)(e))}catch(i){O.Debug.error("The config file "+t+" couldn't be parsed."),O.Debug.error(i)}}).fail(function(e){O.Debug.error("The config file "+t+" couldn't be loaded."),O.Debug.error(e)})}var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,g.default)(this,e);var u={},f={},d=(0,y.default)(this,t.call(this,{controls:[],interactions:[],view:null}));if(d.set("guide4youVersion","v1.2.9"),d.defaultInteractions_=new p.default,d.supersedingInteractions_=new p.default,d.modules_=[],d.set("ready",!1),d.on(["change:ready","change:ready:ui","change:ready:layers"],function(t){d.get(t.key)&&d.dispatchEvent(t.key)}),l.modules&&d.addModules(l.modules),l.mutators&&d.on("change:featurePopup",function(){var t=d.get("featurePopup"),e=!0,i=!1,n=void 0;try{for(var o,s=(0,h.default)((0,c.default)(l.mutators));!(e=(o=s.next()).done);e=!0){var a=o.value;t.registerMutator(a,l.mutators[a])}}catch(r){i=!0,n=r}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}}),"string"==typeof i&&"#"!==i[0]?d.setTarget((0,x.default)("#"+i).get(0)):d.setTarget((0,x.default)(i).get(0)),(0,x.default)(d.getTarget()).on("contextmenu",function(t){(0,x.default)(t.target).is("input[type=text]")||(0,x.default)(t.target).is("textarea")||t.preventDefault()}),(0,x.default)(d.getTarget()).children().addClass(A.cssClasses.desktop),"object"===("undefined"==typeof n?"undefined":(0,r.default)(n)))u=n;else{if("string"!=typeof n)throw new Error("Unrecognised type for parameter configOrFileName!");d.set("configFileName",n),d.set("defaultLayerConfigFileName",o)}if("object"===("undefined"==typeof o?"undefined":(0,r.default)(o)))f=o;else{if("string"!=typeof o)throw new Error("Unrecognised type for parameter layerConfigOrFileName!");d.set("layerConfigFileName",o)}d.dispatchEvent("beforeConfigLoad"),d.set("mapConfigReady",!1),d.set("layerConfigReady",!1);var m=[],v=d.get("configFileName");v&&m.push(a(v).then(function(t){u=t}));var _=d.get("layerConfigFileName");return _&&m.push(a(_).then(function(t){f=t})),s.default.all(m).then(function(){d.set("mapConfigReady",!0),d.set("layerConfigReady",!0),u=(0,E.mergeWithDefaults)(u,k.defaults.config),d.set("mapConfig",u),d.set("layerConfig",f);var t=0;d.on("change:configFileName",function(e){d.set("ready",!1),t++,d.oldMapConfigs_=d.oldMapConfigs_||{},d.oldMapConfigs_[e.oldValue]=d.get("mapConfig"),d.oldMapConfigs_.hasOwnProperty(d.get("configFileName"))?d.set("mapConfig",d.oldMapConfigs_[d.get("configFileName")]):(d.set("mapConfigReady",!1),a(d.get("configFileName")).then(function(t){d.set("mapConfigReady",!0),d.set("mapConfig",t)}).always(function(){t--,0===t&&d.set("ready",!0)}))}),d.on("change:layerConfigFileName",function(e){d.set("ready",!1),t++,d.oldLayerConfigs_=d.oldLayerConfigs_||{},d.oldLayerConfigs_[e.oldValue]=d.get("layerConfig"),d.oldLayerConfigs_.hasOwnProperty(d.get("layerConfigFileName"))?d.set("layerConfig",d.oldLayerConfigs_[d.get("layerConfigFileName")]):(d.set("layerConfigReady",!1),a(d.get("layerConfigFileName")).then(function(t){d.set("layerConfigReady",!0),d.set("layerConfig",t)}).always(function(){t--,0===t&&d.set("ready",!0)}))});var e=void 0;if(l.localiser)d.set("localiser",l.localiser);else{var i={};if(u.hasOwnProperty("languageSettings")){var n=u.languageSettings;i.currentLanguage=n.currentLanguage,n.hasOwnProperty("defaultLanguage")&&(i.defaultLanguage=n.defaultLanguage),n.hasOwnProperty("languageFile")&&(i.languageFile=n.languageFile),n.hasOwnProperty("availableLanguages")&&(i.availableLanguages=n.availableLanguages)}var o=new L.L10N(i);d.set("localiser",o),e=o.ajaxGetLanguageFile()}return d.dispatchEvent("afterConfigLoad"),e}).then(function(){d.set("configurator",new P.MapConfigurator(d)),d.dispatchEvent("afterConfiguring"),d.get("ready:ui")&&d.get("ready:layers")&&d.set("ready",!0),d.on(["change:ready:ui","change:ready:layers"],function(t){d.get(t.key)||d.set("ready",!1),d.get("ready:ui")&&d.get("ready:layers")&&d.set("ready",!0)})}).catch(O.Debug.defaultErrorHandler),d}return(0,_.default)(e,t),e.prototype.getControlsByName=function(t){return this.controlsByName[t]||[]},e.prototype.addModule=function(t){t.setMap(this),this.modules_.push(t)},e.prototype.addModules=function(t){var e=!0,i=!1,n=void 0;try{for(var o,s=(0,h.default)(t);!(e=(o=s.next()).done);e=!0){var a=o.value;this.addModule(a)}}catch(r){i=!0,n=r}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}},e.prototype.getModules=function(){return this.modules_},e.prototype.removeInteraction=function(e){var i=void 0;this.defaultInteractions_.forEach(function(t){i=t.indexOf(e),i>-1&&t.splice(i,1)}),this.supersedingInteractions_.forEach(function(t){i=t.indexOf(e),i>-1&&t.splice(i,1)}),t.prototype.removeInteraction.call(this,e)},e.prototype.removeInteractions=function(){for(;this.getInteractions()&&this.getInteractions().getLength();){var t=!0,e=!1,i=void 0;try{for(var n,o=(0,h.default)(this.getInteractions().getArray());!(t=(n=o.next()).done);t=!0){var s=n.value;this.removeInteraction(s)}}catch(a){e=!0,i=a}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}}},e.prototype.addInteraction=function(){throw new Error("Use addDefaultInteraction or addSupersedingInteraction")},e.prototype.addDefaultInteraction=function(e,i){var n=!0,o=!1,s=void 0;try{for(var a,r=(0,h.default)(e.split(" "));!(n=(a=r.next()).done);n=!0){var l=a.value;this.defaultInteractions_.has(l)?this.defaultInteractions_.get(l).push(i):this.defaultInteractions_.set(l,[i])}}catch(c){o=!0,s=c}finally{try{!n&&r.return&&r.return()}finally{if(o)throw s}}t.prototype.addInteraction.call(this,i)},e.prototype.deactivateInteractions=function(t){var e=!0,i=!1,n=void 0;try{for(var o,s=(0,h.default)(this.defaultInteractions_.get(t));!(e=(o=s.next()).done);e=!0){var a=o.value;a.setActive(!1)}}catch(r){i=!0,n=r}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}var l=!0,c=!1,u=void 0;try{for(var f,p=(0,h.default)(this.supersedingInteractions_.get(t));!(l=(f=p.next()).done);l=!0){var d=f.value;d.setActive(!1)}}catch(r){c=!0,u=r}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}},e.prototype.activateInteractions=function(t){var e=!0,i=!1,n=void 0;try{for(var o,s=(0,h.default)(this.getDefaultInteractions(t));!(e=(o=s.next()).done);e=!0){var a=o.value;a.setActive(!0)}}catch(r){i=!0,n=r}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}},e.prototype.getDefaultInteractions=function(t){return this.defaultInteractions_.get(t)},e.prototype.addSupersedingInteraction=function(e,i){var n=this,o=e.split(" "),s=function(){var t=!0,e=!1,s=void 0;try{for(var a,r=(0,h.default)(o);!(t=(a=r.next()).done);t=!0){var l=a.value,c=!0,u=!1,f=void 0;try{for(var p,d=(0,h.default)(n.supersedingInteractions_.get(l));!(c=(p=d.next()).done);c=!0){var g=p.value;i!==g&&g.setActive(!1)}}catch(m){u=!0,f=m}finally{try{!c&&d.return&&d.return()}finally{if(u)throw f}}if(n.defaultInteractions_.get(l)){var y=!0,v=!1,_=void 0;try{for(var b,M=(0,h.default)(n.defaultInteractions_.get(l));!(y=(b=M.next()).done);y=!0){var w=b.value;w.setActive(!1)}}catch(m){v=!0,_=m}finally{try{!y&&M.return&&M.return()}finally{if(v)throw _}}}}}catch(m){e=!0,s=m}finally{try{!t&&r.return&&r.return()}finally{if(e)throw s}}},a=function(){var t=!0,e=!1,i=void 0;try{for(var s,a=(0,h.default)(o);!(t=(s=a.next()).done);t=!0){var r=s.value;if(n.defaultInteractions_.get(r)){var l=!0,c=!1,u=void 0;try{for(var f,p=(0,h.default)(n.defaultInteractions_.get(r));!(l=(f=p.next()).done);l=!0){var d=f.value;d.setActive(!0)}}catch(g){c=!0,u=g}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}}}}catch(g){e=!0,i=g}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}},r=!0,l=!1,c=void 0;try{for(var u,f=(0,h.default)(o);!(r=(u=f.next()).done);r=!0){var p=u.value;this.supersedingInteractions_.has(p)?this.supersedingInteractions_.get(p).push(i):this.supersedingInteractions_.set(p,[i])}}catch(d){l=!0,c=d}finally{try{!r&&f.return&&f.return()}finally{if(l)throw c}}i.getActive()&&s(),i.on("change:active",function(t){t.oldValue!==i.getActive()&&(i.getActive()?(n.activating_=!0,s(),n.activating_=!1):(n.interactionDecativationTimeout_&&clearTimeout(n.interactionDecativationTimeout_),n.activating_||(n.interactionDecativationTimeout_=setTimeout(a,500))))}),t.prototype.addInteraction.call(this,i)},e.prototype.setLayerGroup=function(e){e.provideMap(this),t.prototype.setLayerGroup.call(this,e)},e.prototype.removeControls=function(){var t=this,e=this.getControls();if(e)for(;e.getLength()>0;)e.forEach(function(e){return t.removeControl(e)}),e=this.getControls()},e}(M.default.Map)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(83),s=n(o),a=i(86),r=n(a),l="function"==typeof r.default&&"symbol"==typeof s.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default?"symbol":typeof t};e.default="function"==typeof r.default&&"symbol"===l(s.default)?function(t){return"undefined"==typeof t?"undefined":l(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default?"symbol":"undefined"==typeof t?"undefined":l(t)}},function(t,e,i){t.exports={"default":i(84),__esModule:!0}},function(t,e,i){i(15),i(59),t.exports=i(85).f("iterator")},function(t,e,i){e.f=i(56)},function(t,e,i){t.exports={"default":i(87),__esModule:!0}},function(t,e,i){i(88),i(14),i(99),i(100),t.exports=i(23).Symbol},function(t,e,i){"use strict";var n=i(22),o=i(37),s=i(31),a=i(21),r=i(36),l=i(89).KEY,c=i(32),u=i(51),h=i(55),f=i(52),p=i(56),d=i(85),g=i(90),m=i(91),y=i(92),v=i(95),_=i(28),b=i(44),M=i(34),w=i(35),x=i(40),C=i(96),S=i(98),P=i(27),L=i(42),E=S.f,A=P.f,k=C.f,O=n.Symbol,I=n.JSON,T=I&&I.stringify,j="prototype",N=p("_hidden"),F=p("toPrimitive"),B={}.propertyIsEnumerable,z=u("symbol-registry"),D=u("symbols"),$=u("op-symbols"),V=Object[j],R="function"==typeof O,G=n.QObject,U=!G||!G[j]||!G[j].findChild,W=s&&c(function(){return 7!=x(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=E(V,e);n&&delete V[e],A(t,e,i),n&&t!==V&&A(V,e,n)}:A,q=function(t){var e=D[t]=x(O[j]);return e._k=t,e},Y=R&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},X=function(t,e,i){return t===V&&X($,e,i),_(t),e=M(e,!0),_(i),o(D,e)?(i.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),i=x(i,{enumerable:w(0,!1)})):(o(t,N)||A(t,N,w(1,{})),t[N][e]=!0),W(t,e,i)):A(t,e,i)},H=function(t,e){_(t);for(var i,n=y(e=b(e)),o=0,s=n.length;s>o;)X(t,i=n[o++],e[i]);return t},Q=function(t,e){return void 0===e?x(t):H(x(t),e)},Z=function(t){var e=B.call(this,t=M(t,!0));return!(this===V&&o(D,t)&&!o($,t))&&(!(e||!o(this,t)||!o(D,t)||o(this,N)&&this[N][t])||e)},K=function(t,e){if(t=b(t),e=M(e,!0),t!==V||!o(D,e)||o($,e)){var i=E(t,e);return!i||!o(D,e)||o(t,N)&&t[N][e]||(i.enumerable=!0),i}},J=function(t){for(var e,i=k(b(t)),n=[],s=0;i.length>s;)o(D,e=i[s++])||e==N||e==l||n.push(e);return n},tt=function(t){for(var e,i=t===V,n=k(i?$:b(t)),s=[],a=0;n.length>a;)!o(D,e=n[a++])||i&&!o(V,e)||s.push(D[e]);return s};R||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===V&&e.call($,i),o(this,N)&&o(this[N],t)&&(this[N][t]=!1),W(this,t,w(1,i))};return s&&U&&W(V,t,{configurable:!0,set:e}),q(t)},r(O[j],"toString",function(){return this._k}),S.f=K,P.f=X,i(97).f=C.f=J,i(94).f=Z,i(93).f=tt,s&&!i(20)&&r(V,"propertyIsEnumerable",Z,!0),d.f=function(t){return q(p(t))}),a(a.G+a.W+a.F*!R,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;et.length>it;)p(et[it++]);for(var et=L(p.store),it=0;et.length>it;)g(et[it++]);a(a.S+a.F*!R,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=O(t)},keyFor:function(t){if(Y(t))return m(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!R,"Object",{create:Q,defineProperty:X,defineProperties:H,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:tt}),I&&a(a.S+a.F*(!R||c(function(){var t=O();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Y(t)){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);return e=n[1],"function"==typeof e&&(i=e),!i&&v(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!Y(e))return e}),n[1]=e,T.apply(I,n)}}}),O[j][F]||i(26)(O[j],F,O[j].valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,i){var n=i(52)("meta"),o=i(29),s=i(37),a=i(27).f,r=0,l=Object.isExtensible||function(){return!0},c=!i(32)(function(){return l(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++r,w:{}}})},h=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[n].i},f=function(t,e){if(!s(t,n)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[n].w},p=function(t){return c&&d.NEED&&l(t)&&!s(t,n)&&u(t),t},d=t.exports={KEY:n,NEED:!1,fastKey:h,getWeak:f,onFreeze:p}},function(t,e,i){var n=i(22),o=i(23),s=i(20),a=i(85),r=i(27).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=s?{}:n.Symbol||{});
"_"==t.charAt(0)||t in e||r(e,t,{value:a.f(t)})}},function(t,e,i){var n=i(42),o=i(44);t.exports=function(t,e){for(var i,s=o(t),a=n(s),r=a.length,l=0;r>l;)if(s[i=a[l++]]===e)return i}},function(t,e,i){var n=i(42),o=i(93),s=i(94);t.exports=function(t){var e=n(t),i=o.f;if(i)for(var a,r=i(t),l=s.f,c=0;r.length>c;)l.call(t,a=r[c++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(46);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(44),o=i(97).f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?r(t):o(n(t))}},function(t,e,i){var n=i(43),o=i(53).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(94),o=i(35),s=i(44),a=i(34),r=i(37),l=i(30),c=Object.getOwnPropertyDescriptor;e.f=i(31)?c:function(t,e){if(t=s(t),e=a(e,!0),l)try{return c(t,e)}catch(i){}if(r(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,i){i(90)("asyncIterator")},function(t,e,i){i(90)("observable")},function(t,e,i){t.exports={"default":i(102),__esModule:!0}},function(t,e,i){i(103),t.exports=i(23).Object.keys},function(t,e,i){var n=i(58),o=i(42);i(104)("keys",function(){return function(t){return o(n(t))}})},function(t,e,i){var n=i(21),o=i(23),s=i(32);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*s(function(){i(1)}),"Object",a)}},function(t,e,i){t.exports={"default":i(106),__esModule:!0}},function(t,e,i){i(59),i(15),t.exports=i(107)},function(t,e,i){var n=i(28),o=i(69);t.exports=i(23).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){t.exports={"default":i(109),__esModule:!0}},function(t,e,i){i(14),i(15),i(59),i(110),i(116),t.exports=i(23).Map},function(t,e,i){"use strict";var n=i(111);t.exports=i(112)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(this,t);return e&&e.v},set:function(t,e){return n.def(this,0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(27).f,o=i(40),s=i(74),a=i(24),r=i(65),l=i(18),c=i(66),u=i(19),h=i(62),f=i(75),p=i(31),d=i(89).fastKey,g=p?"_s":"size",m=function(t,e){var i,n=d(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,u){var h=t(function(t,n){r(t,h,e,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&c(n,i,t[u],t)});return s(h.prototype,{clear:function(){for(var t=this,e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[g]=0},"delete":function(t){var e=this,i=m(e,t);if(i){var n=i.n,o=i.p;delete e._i[i.i],i.r=!0,o&&(o.n=n),n&&(n.p=o),e._f==i&&(e._f=n),e._l==i&&(e._l=o),e[g]--}return!!i},forEach:function(t){r(this,h,"forEach");for(var e,i=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!m(this,t)}}),p&&n(h.prototype,"size",{get:function(){return l(this[g])}}),h},def:function(t,e,i){var n,o,s=m(t,e);return s?s.v=i:(t._l=s={i:o=d(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=s),n&&(n.n=s),t[g]++,"F"!==o&&(t._i[o]=s)),t},getEntry:m,setStrong:function(t,e,i){u(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?h(0,i.k):"values"==e?h(0,i.v):h(0,[i.k,i.v]):(t._t=void 0,h(1))},i?"entries":"values",!i,!0),f(e)}}},function(t,e,i){"use strict";var n=i(22),o=i(21),s=i(89),a=i(32),r=i(26),l=i(74),c=i(66),u=i(65),h=i(29),f=i(55),p=i(27).f,d=i(113)(0),g=i(31);t.exports=function(t,e,i,m,y,v){var _=n[t],b=_,M=y?"set":"add",w=b&&b.prototype,x={};return g&&"function"==typeof b&&(v||w.forEach&&!a(function(){(new b).entries().next()}))?(b=e(function(e,i){u(e,b,t,"_c"),e._c=new _,void 0!=i&&c(i,y,e[M],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!v||"clear"!=t)&&r(b.prototype,t,function(i,n){if(u(this,b,t),!e&&v&&!h(i))return"get"==t&&void 0;var o=this._c[t](0===i?0:i,n);return e?this:o})}),"size"in w&&p(b.prototype,"size",{get:function(){return this._c.size}})):(b=m.getConstructor(e,t,y,M),l(b.prototype,i),s.NEED=!0),f(b,t),x[t]=b,o(o.G+o.W+o.F,x),v||m.setStrong(b,t,y),b}},function(t,e,i){var n=i(24),o=i(45),s=i(58),a=i(48),r=i(114);t.exports=function(t,e){var i=1==t,l=2==t,c=3==t,u=4==t,h=6==t,f=5==t||h,p=e||r;return function(e,r,d){for(var g,m,y=s(e),v=o(y),_=n(r,d,3),b=a(v.length),M=0,w=i?p(e,b):l?p(e,0):void 0;b>M;M++)if((f||M in v)&&(g=v[M],m=_(g,M,y),t))if(i)w[M]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return M;case 2:w.push(g)}else if(u)return!1;return h?-1:c||u?u:w}}},function(t,e,i){var n=i(115);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(29),o=i(95),s=i(56)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,i){var n=i(21);n(n.P+n.R,"Map",{toJSON:i(117)("Map")})},function(t,e,i){var n=i(64),o=i(118);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,i){var n=i(66);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(82),s=n(o);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,s.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(122),s=n(o),a=i(126),r=n(a),l=i(82),c=n(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,c.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.default?(0,s.default)(t,e):t.__proto__=e)}},function(t,e,i){t.exports={"default":i(123),__esModule:!0}},function(t,e,i){i(124),t.exports=i(23).Object.setPrototypeOf},function(t,e,i){var n=i(21);n(n.S,"Object",{setPrototypeOf:i(125).set})},function(t,e,i){var n=i(29),o=i(28),s=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(24)(Function.call,i(98).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:s}},function(t,e,i){t.exports={"default":i(127),__esModule:!0}},function(t,e,i){i(128);var n=i(23).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(21);n(n.S,"Object",{create:i(40)})},function(t,e){"use strict";function i(){return""}function n(t,e,i){return t.slice(e,i).replace(/\S/g," ")}var o=1,s=2;t.exports=function(t,e){e=e||{};for(var a,r,l=!1,c=!1,u=0,h="",f=e.whitespace===!1?i:n,p=0;p<t.length;p++){if(a=t[p],r=t[p+1],!c&&'"'===a){var d="\\"===t[p-1]&&"\\"!==t[p-2];d||(l=!l)}if(!l)if(c||a+r!=="//"){if(c===o&&a+r==="\r\n"){p++,c=!1,h+=f(t,u,p),u=p;continue}if(c===o&&"\n"===a)c=!1,h+=f(t,u,p),u=p;else{if(!c&&a+r==="/*"){h+=t.slice(u,p),u=p,c=s,p++;continue}if(c===s&&a+r==="*/"){p++,c=!1,h+=f(t,u,p+1),u=p+1;continue}}}else h+=t.slice(u,p),u=p,c=o,p++}return h+(c?f(t.substr(u)):t.substr(u))}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MapConfigurator=void 0;var o=i(105),s=n(o),a=i(119),r=n(a),l=i(77),c=n(l),u=i(78),h=n(u),f=i(131),p=n(f),d=i(132),g=i(153),m=i(175),y=i(137),v=i(138),_=i(432),b=i(151);c.default.proj.setProj4(p.default);e.MapConfigurator=function(){function t(e){(0,r.default)(this,t),this.map_=e,this.layerConfigurator_=new g.LayerConfigurator(e),this.UIConfigurator_=new m.UIConfigurator(e),e.set("layerConfigurator",this.layerConfigurator_),e.set("UIConfigurator",this.UIConfigurator_),this.configureMap(),this.firstRun_=!1}return t.prototype.configureLayers=function(){this.layerConfigurator_.configureLayers()},t.prototype.configureUI=function(){this.UIConfigurator_.configureUI()},t.prototype.configureMap=function(){var t=this;if(this.firstRun_)throw b.Debug.error("configureMap is supposed to be called only once"),b.Debug.warn('If you would like to change that, please think about something because of the asynchronous nature of "ready", "ready:ui" and "ready:layers"'),new Error;var e=(0,y.copyDeep)(this.map_.get("mapConfig"));this.map_.set("userActionTracking",e.userActionTracking);var i=e.hasOwnProperty("interfaceProjection")?e.interfaceProjection:"EPSG:4326";this.map_.set("interfaceProjection",i),this.map_.set("proxy",!!e.hasOwnProperty("proxy")&&e.proxy),e.hasOwnProperty("styleMap")?this.map_.set("styling",new d.Styling({styleConfigMap:e.styleMap})):this.map_.set("styling",new d.Styling),this.map_.set("scaleIcons",e.hasOwnProperty("scaleIcons")?e.scaleIcons:1),this.map_.get("styling").setGlobalIconScale(this.map_.get("scaleIcons"));for(var n=e.hasOwnProperty("additionalProjections")?e.additionalProjections:[],o=0,a=n.length;o<a;o++)p.default.defs(n[o].code,n[o].definition);if((0,v.checkFor)(e,"measurementProjection"))try{this.map_.set("measurementProjection",c.default.proj.get(e.measurementProjection))}catch(r){throw new Error("measurementProjection is not available, check for spelling or try to add it to additionalProjections with a proj4 definition.")}this.configureLayers();var l=this.map_.get("mapProjection"),u=e.view||{};u.projection=l,(0,v.checkFor)(e.view,"center")&&(u.center=c.default.proj.transform(e.view.center,i,l)),(0,v.checkFor)(e.view,"extent")&&(u.extent=c.default.extent.applyTransform(e.view.extent,c.default.proj.getTransform(i,l)));var f=this.map_.getView();f&&(u.center=f.getCenter()||e.view.center,u.resolution=f.getResolution()||e.view.resolution,u.rotation=f.getRotation()||e.view.rotation);var g=new c.default.View(u);!f&&(0,v.checkFor)(e.view,"fit")&&g.fit(c.default.proj.transformExtent(e.view.fit,i,l),this.map_.getSize()),this.map_.setView(g),(0,h.default)(window).on("resize",function(){t.map_.dispatchEvent("resize")});var m=(0,h.default)(this.map_.getViewport()),M="mousedown";m.on("mousedown",function(){m.addClass(M)}),m.on("mouseup",function(){m.removeClass(M)}),m.focus(),m.on("click",function(){m.focus()}),b.Debug.tryOrThrow(function(){t.configureUI()}),this.map_.set("api",new _.API(this.map_,e.api));var w=!0,x=!1,C=void 0;try{for(var S,P=(0,s.default)(this.map_.getModules());!(w=(S=P.next()).done);w=!0){var L=S.value;L.configureMap(e)}}catch(E){x=!0,C=E}finally{try{!w&&P.return&&P.return()}finally{if(x)throw C}}},t}()},function(t,e){!function(i){if("object"==typeof e&&"undefined"!=typeof t)t.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.proj4=i()}}(function(){return function t(e,i,n){function o(a,r){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return o(i?i:t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({"./includedProjections":[function(t,e,i){var n=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd"),t("./lib/projections/ortho")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/ortho":57,"./lib/projections/poly":58,"./lib/projections/sinu":59,"./lib/projections/somerc":60,"./lib/projections/stere":61,"./lib/projections/sterea":62,"./lib/projections/tmerc":63,"./lib/projections/utm":64,"./lib/projections/vandg":65}],1:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var o=t("mgrs");n.fromMGRS=function(t){return new n(o.toPoint(t))},n.prototype.toMGRS=function(t){return o.forward([this.x,this.y],t)},e.exports=n},{mgrs:68}],2:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=o(t);if("object"!=typeof i)return void e(t);var a=r(i),l=n.projections.get(a.projName);l?(s(this,a),s(this,l),this.init(),e(null,this)):e(t)}var o=t("./parseCode"),s=t("./extend"),a=t("./projections"),r=t("./deriveConstants");n.projections=a,n.projections.start(),e.exports=n},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(t,e,i){e.exports=function(t,e,i){var n,o,s,a=i.x,r=i.y,l=i.z||0;for(s=0;3>s;s++)if(!e||2!==s||void 0!==i.z)switch(0===s?(n=a,o="x"):1===s?(n=r,o="y"):(n=l,o="z"),t.axis[s]){case"e":i[o]=n;break;case"w":i[o]=-n;break;case"n":i[o]=n;break;case"s":i[o]=-n;break;case"u":void 0!==i[o]&&(i.z=n);break;case"d":void 0!==i[o]&&(i.z=-n);break;default:return null}return i}},{}],4:[function(t,e,i){var n=Math.PI/2,o=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-o(t)*Math.PI}},{"./sign":21}],5:[function(t,e,i){var n=2*Math.PI,o=3.14159265359,s=t("./sign");e.exports=function(t){return Math.abs(t)<=o?t:t-s(t)*n}},{"./sign":21}],6:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],12:[function(t,e,i){e.exports=function(t,e,i,n,o){var s,a;s=t/e;for(var r=0;15>r;r++)if(a=(t-(e*s-i*Math.sin(2*s)+n*Math.sin(4*s)-o*Math.sin(6*s)))/(e-2*i*Math.cos(2*s)+4*n*Math.cos(4*s)-6*o*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}},{}],13:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var o,s,a,r,l=Math.asin(.5*e),c=0;30>c;c++)if(s=Math.sin(l),a=Math.cos(l),r=t*s,o=Math.pow(1-r*r,2)/(2*a)*(e/(1-t*t)-s/(1-r*r)+.5/t*Math.log((1-r)/(1+r))),l+=o,Math.abs(o)<=1e-10)return l;return NaN}},{}],14:[function(t,e,i){e.exports=function(t,e,i,n,o){return t*o-e*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)}},{}],15:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],16:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,o,s=.5*t,a=n-2*Math.atan(e),r=0;15>=r;r++)if(i=t*Math.sin(a),o=n-2*Math.atan(e*Math.pow((1-i)/(1+i),s))-a,a+=o,Math.abs(o)<=1e-10)return a;return-9999}},{}],17:[function(t,e,i){var n=1,o=.25,s=.046875,a=.01953125,r=.01068115234375,l=.75,c=.46875,u=.013020833333333334,h=.007120768229166667,f=.3645833333333333,p=.005696614583333333,d=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(o+t*(s+t*(a+t*r))),e[1]=t*(l-t*(s+t*(a+t*r)));var i=t*t;return e[2]=i*(c-t*(u+t*h)),i*=t,e[3]=i*(f-t*p),e[4]=i*t*d,e}},{}],18:[function(t,e,i){var n=t("./pj_mlfn"),o=1e-10,s=20;e.exports=function(t,e,i){for(var a=1/(1-e),r=t,l=s;l;--l){var c=Math.sin(r),u=1-e*c*c;if(u=(n(r,c,Math.cos(r),i)-t)*(u*Math.sqrt(u))*a,r-=u,Math.abs(u)<o)return r}return r}},{"./pj_mlfn":19}],19:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],20:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],21:[function(t,e,i){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],24:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var o=t*i,s=.5*t;return o=Math.pow((1-o)/(1+o),s),Math.tan(.5*(n-e))/o}},{}],25:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],28:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],29:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=r(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):r(t,e,i)}function o(t){return t instanceof a?t:t.oProj?t.oProj:a(t)}function s(t,e,i){t=o(t);var s,a=!1;return"undefined"==typeof e?(e=t,t=l,a=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(i=e,e=t,t=l,a=!0),e=o(e),i?n(t,e,i):(s={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},a&&(s.oProj=e),s)}var a=t("./Proj"),r=t("./transform"),l=a("WGS84");e.exports=s},{"./Proj":2,"./transform":66}],30:[function(t,e,i){var n=Math.PI/2,o=1,s=2,a=3,r=4,l=5,c=484813681109536e-20,u=1.0026,h=.3826834323650898,f=function(t){return this instanceof f?(this.datum_type=r,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=l),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=o),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=s,this.datum_params[3]*=c,this.datum_params[4]*=c,this.datum_params[5]*=c,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?a:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===a&&(this.grids=t.grids)))):new f(t)};f.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(this.datum_type===o?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===s?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type!==a&&t.datum_type!==a||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,i,o,s,a,r,l,c=t.x,u=t.y,h=t.z?t.z:0,f=0;if(-n>u&&u>-1.001*n)u=-n;else if(u>n&&1.001*n>u)u=n;else if(-n>u||u>n)return null;return c>Math.PI&&(c-=2*Math.PI),a=Math.sin(u),l=Math.cos(u),r=a*a,s=this.a/Math.sqrt(1-this.es*r),e=(s+h)*l*Math.cos(c),i=(s+h)*l*Math.sin(c),o=(s*(1-this.es)+h)*a,t.x=e,t.y=i,t.z=o,f},geocentric_to_geodetic:function(t){var e,i,o,s,a,r,l,c,u,h,f,p,d,g,m,y,v,_=1e-12,b=_*_,M=30,w=t.x,x=t.y,C=t.z?t.z:0;if(d=!1,e=Math.sqrt(w*w+x*x),i=Math.sqrt(w*w+x*x+C*C),e/this.a<_){if(d=!0,m=0,i/this.a<_)return y=n,void(v=-this.b)}else m=Math.atan2(x,w);o=C/i,s=e/i,a=1/Math.sqrt(1-this.es*(2-this.es)*s*s),c=s*(1-this.es)*a,u=o*a,g=0;do g++,l=this.a/Math.sqrt(1-this.es*u*u),v=e*c+C*u-l*(1-this.es*u*u),r=this.es*l/(l+v),a=1/Math.sqrt(1-r*(2-r)*s*s),h=s*(1-r)*a,f=o*a,p=f*c-h*u,c=h,u=f;while(p*p>b&&M>g);return y=Math.atan(f/Math.abs(h)),t.x=m,t.y=y,t.z=v,t},geocentric_to_geodetic_noniter:function(t){var e,i,o,s,a,r,l,c,f,p,d,g,m,y,v,_,b,M=t.x,w=t.y,x=t.z?t.z:0;if(M=parseFloat(M),w=parseFloat(w),x=parseFloat(x),b=!1,0!==M)e=Math.atan2(w,M);else if(w>0)e=n;else if(0>w)e=-n;else if(b=!0,e=0,x>0)i=n;else{if(!(0>x))return i=n,void(o=-this.b);i=-n}return a=M*M+w*w,s=Math.sqrt(a),r=x*u,c=Math.sqrt(r*r+a),p=r/c,g=s/c,d=p*p*p,l=x+this.b*this.ep2*d,_=s-this.a*this.es*g*g*g,f=Math.sqrt(l*l+_*_),m=l/f,y=_/f,v=this.a/Math.sqrt(1-this.es*m*m),o=y>=h?s/y-v:-h>=y?s/-y-v:x/m+v*(this.es-1),b===!1&&(i=Math.atan(m/y)),t.x=e,t.y=i,t.z=o,t},geocentric_to_wgs84:function(t){if(this.datum_type===o)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===s){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],a=this.datum_params[3],r=this.datum_params[4],l=this.datum_params[5],c=this.datum_params[6],u=c*(t.x-l*t.y+r*t.z)+e,h=c*(l*t.x+t.y-a*t.z)+i,f=c*(-r*t.x+a*t.y+t.z)+n;t.x=u,t.y=h,t.z=f}},geocentric_from_wgs84:function(t){if(this.datum_type===o)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===s){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],a=this.datum_params[3],r=this.datum_params[4],l=this.datum_params[5],c=this.datum_params[6],u=(t.x-e)/c,h=(t.y-i)/c,f=(t.z-n)/c;t.x=u+l*h-r*f,t.y=-l*u+h+a*f,t.z=r*u-a*h+f}}},e.exports=f},{}],31:[function(t,e,i){var n=1,o=2,s=3,a=5,r=6378137,l=.006694379990141316;e.exports=function(t,e,i){function c(t){return t===n||t===o}var u,h,f;if(t.compare_datums(e))return i;if(t.datum_type===a||e.datum_type===a)return i;var p=t.a,d=t.es,g=e.a,m=e.es,y=t.datum_type;if(y===s)if(0===this.apply_gridshift(t,0,i))t.a=r,t.es=l;else{if(!t.datum_params)return t.a=p,t.es=t.es,i;for(u=1,h=0,f=t.datum_params.length;f>h;h++)u*=t.datum_params[h];if(0===u)return t.a=p,t.es=t.es,i;y=t.datum_params.length>3?o:n}return e.datum_type===s&&(e.a=r,e.es=l),(t.es!==e.es||t.a!==e.a||c(y)||c(e.datum_type))&&(t.geodetic_to_geocentric(i),c(t.datum_type)&&t.geocentric_to_wgs84(i),c(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),e.datum_type===s&&this.apply_gridshift(e,1,i),t.a=p,t.es=d,e.a=g,e.es=m,i}},{}],32:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=s(arguments[1]):n[t]=a(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var o=t("./global"),s=t("./projString"),a=t("./wkt");o(n),e.exports=n},{"./global":35,"./projString":38,"./wkt":67}],33:[function(t,e,i){var n=t("./constants/Datum"),o=t("./constants/Ellipsoid"),s=t("./extend"),a=t("./datum"),r=1e-10,l=.16666666666666666,c=.04722222222222222,u=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=o[t.ellps]?o[t.ellps]:o.WGS84;s(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<r)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(l+t.es*(c+t.es*u)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=a(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}},{}],35:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],36:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":69,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"./includedProjections","./transform":66,mgrs:68}],37:[function(t,e,i){function n(t){return"string"==typeof t}function o(t){return t in l}function s(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,i){return e+1+t.indexOf(i)},0)}function a(t){return"+"===t[0]}function r(t){return n(t)?o(t)?l[t]:s(t)?c(t):a(t)?u(t):void 0:t}var l=t("./defs"),c=t("./wkt"),u=t("./projString");e.exports=r},{"./defs":32,"./projString":38,"./wkt":67}],38:[function(t,e,i){var n=.017453292519943295,o=t("./constants/PrimeMeridian"),s=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var a,r,l,c={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){
e.to_meter=parseFloat(t)},units:function(t){e.units=t,s[t]&&(e.to_meter=s[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(o[t]?o[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var i="ewnsud";3===t.length&&-1!==i.indexOf(t.substr(0,1))&&-1!==i.indexOf(t.substr(1,1))&&-1!==i.indexOf(t.substr(2,1))&&(e.axis=t)}};for(a in i)r=i[a],a in c?(l=c[a],"function"==typeof l?l(r):e[l]=r):e[a]=r;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(t,e,i){function n(t,e){var i=a.length;return t.names?(a[i]=t,t.names.forEach(function(t){s[t.toLowerCase()]=i}),this):(console.log(e),!0)}var o=[t("./projections/merc"),t("./projections/longlat")],s={},a=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof s[e]&&a[s[e]]?a[s[e]]:void 0},i.start=function(){o.forEach(n)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(t,e,i){var n=1e-10,o=t("../common/msfnz"),s=t("../common/qsfnz"),a=t("../common/adjust_lon"),r=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<n||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=o(this.e3,this.sin_po,this.cos_po),this.qs1=s(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=o(this.e3,this.sin_po,this.cos_po),this.qs2=s(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=s(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>n?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=s(this.e3,this.sin_phi,this.cos_phi),o=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,r=this.ns0*a(e-this.long0),l=o*Math.sin(r)+this.x0,c=this.rh-o*Math.cos(r)+this.y0;return t.x=l,t.y=c,t},i.inverse=function(t){var e,i,n,o,s,r;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),o=0,0!==e&&(o=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?r=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,r=this.phi1z(this.e3,i)),s=a(o/this.ns0+this.long0),t.x=s,t.y=r,t},i.phi1z=function(t,e){var i,o,s,a,l,c=r(.5*e);if(n>t)return c;for(var u=t*t,h=1;25>=h;h++)if(i=Math.sin(c),o=Math.cos(c),s=t*i,a=1-s*s,l=.5*a*a/o*(e/(1-u)-i/a+.5/t*Math.log((1-s)/(1+s))),c+=l,Math.abs(l)<=1e-7)return c;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(t,e,i){var n=t("../common/adjust_lon"),o=Math.PI/2,s=1e-10,a=t("../common/mlfn"),r=t("../common/e0fn"),l=t("../common/e1fn"),c=t("../common/e2fn"),u=t("../common/e3fn"),h=t("../common/gN"),f=t("../common/asinz"),p=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,f,p,d,g,m,y,v,_,b,M,w,x,C,S,P,L,E,A,k,O,I,T=t.x,j=t.y,N=Math.sin(t.y),F=Math.cos(t.y),B=n(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=s?(t.x=this.x0+this.a*(o-j)*Math.sin(B),t.y=this.y0-this.a*(o-j)*Math.cos(B),t):Math.abs(this.sin_p12+1)<=s?(t.x=this.x0+this.a*(o+j)*Math.sin(B),t.y=this.y0+this.a*(o+j)*Math.cos(B),t):(L=this.sin_p12*N+this.cos_p12*F*Math.cos(B),S=Math.acos(L),P=S/Math.sin(S),t.x=this.x0+this.a*P*F*Math.sin(B),t.y=this.y0+this.a*P*(this.cos_p12*N-this.sin_p12*F*Math.cos(B)),t):(e=r(this.es),i=l(this.es),f=c(this.es),p=u(this.es),Math.abs(this.sin_p12-1)<=s?(d=this.a*a(e,i,f,p,o),g=this.a*a(e,i,f,p,j),t.x=this.x0+(d-g)*Math.sin(B),t.y=this.y0-(d-g)*Math.cos(B),t):Math.abs(this.sin_p12+1)<=s?(d=this.a*a(e,i,f,p,o),g=this.a*a(e,i,f,p,j),t.x=this.x0+(d+g)*Math.sin(B),t.y=this.y0+(d+g)*Math.cos(B),t):(m=N/F,y=h(this.a,this.e,this.sin_p12),v=h(this.a,this.e,N),_=Math.atan((1-this.es)*m+this.es*y*this.sin_p12/(v*F)),b=Math.atan2(Math.sin(B),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(B)),E=0===b?Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(b)-Math.PI)<=s?-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.asin(Math.sin(B)*Math.cos(_)/Math.sin(b)),M=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),x=M*w,C=w*w,A=E*E,k=A*E,O=k*E,I=O*E,S=y*E*(1-A*C*(1-C)/6+k/8*x*(1-2*C)+O/120*(C*(4-7*C)-3*M*M*(1-7*C))-I/48*x),t.x=this.x0+S*Math.sin(b),t.y=this.y0+S*Math.cos(b),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,d,g,m,y,v,_,b,M,w,x,C,S,P,L,E,A,k,O,I,T,j;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*o*this.a)return;return i=e/this.a,d=Math.sin(i),g=Math.cos(i),m=this.long0,Math.abs(e)<=s?y=this.lat0:(y=f(g*this.sin_p12+t.y*d*this.cos_p12/e),v=Math.abs(this.lat0)-o,m=n(Math.abs(v)<=s?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*d,e*this.cos_p12*g-t.y*this.sin_p12*d))),t.x=m,t.y=y,t}return _=r(this.es),b=l(this.es),M=c(this.es),w=u(this.es),Math.abs(this.sin_p12-1)<=s?(x=this.a*a(_,b,M,w,o),e=Math.sqrt(t.x*t.x+t.y*t.y),C=x-e,y=p(C/this.a,_,b,M,w),m=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=m,t.y=y,t):Math.abs(this.sin_p12+1)<=s?(x=this.a*a(_,b,M,w,o),e=Math.sqrt(t.x*t.x+t.y*t.y),C=e-x,y=p(C/this.a,_,b,M,w),m=n(this.long0+Math.atan2(t.x,t.y)),t.x=m,t.y=y,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),L=Math.atan2(t.x,t.y),S=h(this.a,this.e,this.sin_p12),E=Math.cos(L),A=this.e*this.cos_p12*E,k=-A*A/(1-this.es),O=3*this.es*(1-k)*this.sin_p12*this.cos_p12*E/(1-this.es),I=e/S,T=I-k*(1+k)*Math.pow(I,3)/6-O*(1+3*k)*Math.pow(I,4)/24,j=1-k*T*T/2-I*T*T*T/6,P=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*E),m=n(this.long0+Math.asin(Math.sin(L)*Math.sin(T)/Math.cos(P))),y=Math.atan((1-this.es*j*this.sin_p12/Math.sin(P))*Math.tan(P)/(1-this.es)),t.x=m,t.y=y,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,i){var n=t("../common/mlfn"),o=t("../common/e0fn"),s=t("../common/e1fn"),a=t("../common/e2fn"),r=t("../common/e3fn"),l=t("../common/gN"),c=t("../common/adjust_lon"),u=t("../common/adjust_lat"),h=t("../common/imlfn"),f=Math.PI/2,p=1e-10;i.init=function(){this.sphere||(this.e0=o(this.es),this.e1=s(this.es),this.e2=a(this.es),this.e3=r(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,o=t.x,s=t.y;if(o=c(o-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(s)*Math.sin(o)),i=this.a*(Math.atan2(Math.tan(s),Math.cos(o))-this.lat0);else{var a=Math.sin(s),r=Math.cos(s),u=l(this.a,this.e,a),h=Math.tan(s)*Math.tan(s),f=o*Math.cos(s),p=f*f,d=this.es*r*r/(1-this.es),g=this.a*n(this.e0,this.e1,this.e2,this.e3,s);e=u*f*(1-p*h*(1/6-(8-h+8*d)*p/120)),i=g-this.ml0+u*a/r*p*(.5+(5-h+6*d)*p/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,o=t.y/this.a;if(this.sphere){var s=o+this.lat0;e=Math.asin(Math.sin(s)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(s))}else{var a=this.ml0/this.a+o,r=h(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(r)-f)<=p)return t.x=this.long0,t.y=f,0>o&&(t.y*=-1),t;var d=l(this.a,this.e,Math.sin(r)),g=d*d*d/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(r),2),y=n*this.a/d,v=y*y;e=r-d*Math.tan(r)/g*y*y*(.5-(1+3*m)*y*y/24),i=y*(1-v*(m/3+(1+3*m)*m*v/15))/Math.cos(r)}return t.x=c(i+this.long0),t.y=u(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/qsfnz"),s=t("../common/msfnz"),a=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=s(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,s=t.x,a=t.y,r=n(s-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var l=o(this.e,Math.sin(a));e=this.x0+this.a*this.k0*r,i=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=a(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,s=n(e-this.long0),a=o(i-this.lat0);return t.x=this.x0+this.a*s*this.rc,t.y=this.y0+this.a*a,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=o(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),s=t("../common/e2fn"),a=t("../common/e3fn"),r=t("../common/msfnz"),l=t("../common/mlfn"),c=t("../common/adjust_lon"),u=t("../common/adjust_lat"),h=t("../common/imlfn"),f=1e-10;i.init=function(){Math.abs(this.lat1+this.lat2)<f||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=r(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<f?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=r(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var o=l(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-o)}var s=this.ns*c(i-this.long0),a=this.x0+e*Math.sin(s),r=this.y0+this.rh-e*Math.cos(s);return t.x=a,t.y=r,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,o;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(0!==i&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return o=c(this.long0+s/this.ns),n=u(this.g-i/this.a),t.x=o,t.y=n,t;var a=this.g-i/this.a;return n=h(a,this.e0,this.e1,this.e2,this.e3),o=c(this.long0+s/this.ns),t.x=o,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(t,e,i){var n=Math.PI/4,o=t("../common/srat"),s=Math.PI/2,a=20;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*o(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*o(this.e*Math.sin(i),this.ratexp))-s,t.x=this.C*e,t},i.inverse=function(t){for(var e=1e-14,i=t.x/this.C,r=t.y,l=Math.pow(Math.tan(.5*r+n)/this.K,1/this.C),c=a;c>0&&(r=2*Math.atan(l*o(this.e*Math.sin(t.y),-.5*this.e))-s,!(Math.abs(r-t.y)<e));--c)t.y=r;return c?(t.x=i,t.y=r,t):null},i.names=["gauss"]},{"../common/srat":22}],47:[function(t,e,i){var n=t("../common/adjust_lon"),o=1e-10,s=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,s,a,r,l,c,u,h=t.x,f=t.y;return s=n(h-this.long0),e=Math.sin(f),i=Math.cos(f),a=Math.cos(s),l=this.sin_p14*e+this.cos_p14*i*a,r=1,l>0||Math.abs(l)<=o?(c=this.x0+this.a*r*i*Math.sin(s)/l,u=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*i*a)/l):(c=this.x0+this.infinity_dist*i*Math.sin(s),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*a)),t.x=c,t.y=u,t},i.inverse=function(t){var e,i,o,a,r,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),i=Math.sin(a),o=Math.cos(a),l=s(o*this.sin_p14+t.y*i*this.cos_p14/e),r=Math.atan2(t.x*i,e*this.cos_p14*o-t.y*this.sin_p14*i),r=n(this.long0+r)):(l=this.phic0,r=0),t.x=r,t.y=l,t},i.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,o,s,a,r,l,c=t.x,u=t.y,h=n(c-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),o=-h*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),a=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(s)),r=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),t.y=l*Math.cos(r)/1,t.x=l*Math.sin(r)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,o,s,a,r,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),o=s/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),i=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(e)),t.x=this.long0-i/this.alfa,r=e,l=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),Math.abs(r-t.y)<1e-10&&(l=1),r=t.y,u+=1;while(0===l&&15>u);return u>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(t,e,i){var n=Math.PI/2,o=Math.PI/4,s=1e-10,a=t("../common/qsfnz"),r=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<s?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<s?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=a(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=a(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,l,c,u,h,f,p,d,g,m=t.x,y=t.y;if(m=r(m-this.long0),this.sphere){if(u=Math.sin(y),g=Math.cos(y),l=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+g*l:1+this.sinph0*u+this.cosph0*g*l,s>=i)return null;i=Math.sqrt(2/i),e=i*g*Math.sin(m),i*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*g*l}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),Math.abs(y+this.phi0)<s)return null;i=o-.5*y,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(m),i*=l}}else{switch(f=0,p=0,d=0,l=Math.cos(m),c=Math.sin(m),u=Math.sin(y),h=a(this.e,u),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=h/this.qp,p=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:d=1+this.sinb1*f+this.cosb1*p*l;break;case this.EQUIT:d=1+p*l;break;case this.N_POLE:d=n+y,h=this.qp-h;break;case this.S_POLE:d=y-n,h=this.qp+h}if(Math.abs(d)<s)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),i=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*f-this.sinb1*p*l):(d=Math.sqrt(2/(1+p*l)))*f*this.ymf,e=this.xmf*d*p*c;break;case this.N_POLE:case this.S_POLE:h>=0?(e=(d=Math.sqrt(h))*c,i=l*(this.mode===this.S_POLE?d:-d)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,a,l,c,u,h=t.x/this.a,f=t.y/this.a;if(this.sphere){var p,d=0,g=0;if(p=Math.sqrt(h*h+f*f),i=.5*p,i>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(i),d=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=s?0:Math.asin(f*g/p),h*=g,f=d*p;break;case this.OBLIQ:i=Math.abs(p)<=s?this.phi0:Math.asin(d*this.sinph0+f*g*this.cosph0/p),h*=g*this.cosph0,f=(d-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:f=-f,i=n-i;break;case this.S_POLE:i-=n}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,f):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,f*=this.dd,c=Math.sqrt(h*h+f*f),s>c)return t.x=0,t.y=this.phi0,t;a=2*Math.asin(.5*c/this.rq),o=Math.cos(a),h*=a=Math.sin(a),this.mode===this.OBLIQ?(u=o*this.sinb1+f*a*this.cosb1/c,l=this.qp*u,f=c*this.cosb1*o-f*this.sinb1*a):(u=f*a/c,l=this.qp*u,f=c*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),l=h*h+f*f,!l)return t.x=0,t.y=this.phi0,t;u=1-l/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(h,f),i=this.authlat(Math.asin(u),this.apa)}return t.x=r(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(t,e,i){var n=1e-10,o=t("../common/msfnz"),s=t("../common/tsfnz"),a=Math.PI/2,r=t("../common/sign"),l=t("../common/adjust_lon"),c=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<n)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),a=o(this.e,e,i),r=s(this.e,this.lat1,e),l=Math.sin(this.lat2),c=Math.cos(this.lat2),u=o(this.e,l,c),h=s(this.e,this.lat2,l),f=s(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>n?this.ns=Math.log(a/u)/Math.log(r/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=a/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=n&&(i=r(i)*(a-2*n));var o,c,u=Math.abs(Math.abs(i)-a);if(u>n)o=s(this.e,i,Math.sin(i)),c=this.a*this.f0*Math.pow(o,this.ns);else{if(u=i*this.ns,0>=u)return null;c=0}var h=this.ns*l(e-this.long0);return t.x=this.k0*(c*Math.sin(h))+this.x0,t.y=this.k0*(this.rh-c*Math.cos(h))+this.y0,t},i.inverse=function(t){var e,i,n,o,s,r=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(r*r+u*u),i=1):(e=-Math.sqrt(r*r+u*u),i=-1);var h=0;if(0!==e&&(h=Math.atan2(i*r,i*u)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),o=c(this.e,n),-9999===o)return null}else o=-a;return s=l(h/this.ns+this.long0),t.x=s,t.y=o,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],52:[function(t,e,i){var n=t("../common/msfnz"),o=Math.PI/2,s=1e-10,a=57.29577951308232,r=t("../common/adjust_lon"),l=Math.PI/4,c=t("../common/tsfnz"),u=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*a>90&&-90>i*a&&e*a>180&&-180>e*a)return null;var n,u;if(Math.abs(Math.abs(i)-o)<=s)return null;if(this.sphere)n=this.x0+this.a*this.k0*r(e-this.long0),u=this.y0+this.a*this.k0*Math.log(Math.tan(l+.5*i));else{var h=Math.sin(i),f=c(this.e,i,h);n=this.x0+this.a*this.k0*r(e-this.long0),u=this.y0-this.a*this.k0*Math.log(f)}return t.x=n,t.y=u,t},i.inverse=function(t){var e,i,n=t.x-this.x0,s=t.y-this.y0;if(this.sphere)i=o-2*Math.atan(Math.exp(-s/(this.a*this.k0)));else{var a=Math.exp(-s/(this.a*this.k0));if(i=u(this.e,a),-9999===i)return null}return e=r(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,o=n(e-this.long0),s=this.x0+this.a*o,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=s,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(t,e,i){var n=t("../common/adjust_lon"),o=1e-10;i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,s=n(e-this.long0),a=i,r=Math.PI*Math.sin(i),l=0;!0;l++){var c=-(a+Math.sin(a)-r)/(1+Math.cos(a));if(a+=c,Math.abs(c)<o)break}a/=2,Math.PI/2-Math.abs(i)<o&&(s=0);var u=.900316316158*this.a*s*Math.cos(a)+this.x0,h=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=u,t.y=h,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var o=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var s=Math.asin(i);return t.x=o,t.y=s,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(t,e,i){var n=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,o=t.y,s=o-this.lat0,a=i-this.long0,r=s/n*1e-5,l=a,c=1,u=0;for(e=1;10>=e;e++)c*=r,u+=this.A[e]*c;var h,f,p=u,d=l,g=1,m=0,y=0,v=0;for(e=1;6>=e;e++)h=g*p-m*d,f=m*p+g*d,g=h,m=f,y=y+this.B_re[e]*g-this.B_im[e]*m,v=v+this.B_im[e]*g+this.B_re[e]*m;return t.x=v*this.a+this.x0,t.y=y*this.a+this.y0,t},i.inverse=function(t){var e,i,o,s=t.x,a=t.y,r=s-this.x0,l=a-this.y0,c=l/this.a,u=r/this.a,h=1,f=0,p=0,d=0;for(e=1;6>=e;e++)i=h*c-f*u,o=f*c+h*u,h=i,f=o,p=p+this.C_re[e]*h-this.C_im[e]*f,d=d+this.C_im[e]*h+this.C_re[e]*f;for(var g=0;g<this.iterations;g++){var m,y,v=p,_=d,b=c,M=u;for(e=2;6>=e;e++)m=v*p-_*d,y=_*p+v*d,v=m,_=y,b+=(e-1)*(this.B_re[e]*v-this.B_im[e]*_),M+=(e-1)*(this.B_im[e]*v+this.B_re[e]*_);v=1,_=0;var w=this.B_re[1],x=this.B_im[1];for(e=2;6>=e;e++)m=v*p-_*d,y=_*p+v*d,v=m,_=y,w+=e*(this.B_re[e]*v-this.B_im[e]*_),x+=e*(this.B_im[e]*v+this.B_re[e]*_);var C=w*w+x*x;p=(b*w+M*x)/C,d=(M*w-b*x)/C}var S=p,P=d,L=1,E=0;for(e=1;9>=e;e++)L*=S,E+=this.D[e]*L;var A=this.lat0+E*n*1e5,k=this.long0+P;return t.x=k,t.y=A,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(t,e,i){var n=t("../common/tsfnz"),o=t("../common/adjust_lon"),s=t("../common/phi2z"),a=Math.PI/2,r=Math.PI/4,l=1e-10;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var s=n(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));1>a*a&&(a=1);var r,l;if(isNaN(this.longc)){var c=n(this.e,this.lat1,Math.sin(this.lat1)),u=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(s,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(s,this.bl);var h=Math.pow(c,this.bl),f=Math.pow(u,this.bl);r=this.el/h,l=.5*(r-1/r);var p=(this.el*this.el-f*h)/(this.el*this.el+f*h),d=(f-h)/(f+h),g=o(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*g)/d)/this.bl,this.long0=o(this.long0);var m=o(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*m)/l),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else r=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=r*Math.pow(s,this.bl),l=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,s,c=t.x,u=t.y,h=o(c-this.long0);if(Math.abs(Math.abs(u)-a)<=l)s=u>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(r+s*this.gamma0*.5)),e=-1*s*a*this.al/this.bl;else{var f=n(this.e,u,Math.sin(u)),p=this.el/Math.pow(f,this.bl),d=.5*(p-1/p),g=.5*(p+1/p),m=Math.sin(this.bl*h),y=(d*Math.sin(this.gamma0)-m*Math.cos(this.gamma0))/g;i=Math.abs(Math.abs(y)-1)<=l?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-y)/(1+y))/this.bl,e=Math.abs(Math.cos(this.bl*h))<=l?this.al*this.bl*h:this.al*Math.atan2(d*Math.cos(this.gamma0)+m*Math.sin(this.gamma0),Math.cos(this.bl*h))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),c=.5*(n+1/n),u=Math.sin(this.bl*e/this.al),h=(u*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/c,f=Math.pow(this.el/Math.sqrt((1+h)/(1-h)),1/this.bl);return Math.abs(h-1)<l?(t.x=this.long0,t.y=a):Math.abs(h+1)<l?(t.x=this.long0,t.y=-1*a):(t.y=s(this.e,f),t.x=o(this.long0-Math.atan2(r*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(t,e,i){var n=t("../common/adjust_lon"),o=1e-10,s=t("../common/asinz"),a=Math.PI/2;i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},i.forward=function(t){var e,i,s,a,r,l,c,u,h=t.x,f=t.y;return s=n(h-this.long0),e=Math.sin(f),i=Math.cos(f),a=Math.cos(s),l=this.sin_p14*e+this.cos_p14*i*a,r=1,(l>0||Math.abs(l)<=o)&&(c=this.a*r*i*Math.sin(s),u=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*i*a)),t.x=c,t.y=u,t},i.inverse=function(t){var e,i,r,l,c,u,h;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=s(e/this.a),r=Math.sin(i),l=Math.cos(i),u=this.long0,Math.abs(e)<=o?(h=this.lat0,t.x=u,t.y=h,t):(h=s(l*this.sin_p14+t.y*r*this.cos_p14/e),c=Math.abs(this.lat0)-a,Math.abs(c)<=o?(u=n(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=u,t.y=h,t):(u=n(this.long0+Math.atan2(t.x*r,e*this.cos_p14*l-t.y*this.sin_p14*r)),t.x=u,t.y=h,t))},i.names=["ortho"]},{"../common/adjust_lon":5,"../common/asinz":6}],58:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),s=t("../common/e2fn"),a=t("../common/e3fn"),r=t("../common/adjust_lon"),l=t("../common/adjust_lat"),c=t("../common/mlfn"),u=1e-10,h=t("../common/gN"),f=20;i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*c(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,o=t.x,s=t.y,a=r(o-this.long0);if(n=a*Math.sin(s),this.sphere)Math.abs(s)<=u?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(s),i=this.a*(l(s-this.lat0)+(1-Math.cos(n))/Math.tan(s)));else if(Math.abs(s)<=u)e=this.a*a,i=-1*this.ml0;else{var f=h(this.a,this.e,Math.sin(s))/Math.tan(s);e=f*Math.sin(n),i=this.a*c(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+f*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,o,s,a,l,h,p;if(n=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=u)e=r(n/this.a+this.long0),i=0;else{a=this.lat0+o/this.a,l=n*n/this.a/this.a+a*a,h=a;var d;for(s=f;s;--s)if(d=Math.tan(h),p=-1*(a*(h*d+1)-h-.5*(h*h+l)*d)/((h-a)/d-1),h+=p,Math.abs(p)<=u){i=h;break}e=r(this.long0+Math.asin(n*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(o+this.ml0)<=u)i=0,e=r(this.long0+n/this.a);else{a=(this.ml0+o)/this.a,l=n*n/this.a/this.a+a*a,h=a;var g,m,y,v,_;for(s=f;s;--s)if(_=this.e*Math.sin(h),
g=Math.sqrt(1-_*_)*Math.tan(h),m=this.a*c(this.e0,this.e1,this.e2,this.e3,h),y=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),v=m/this.a,p=(a*(g*v+1)-v-.5*g*(v*v+l))/(this.es*Math.sin(2*h)*(v*v+l-2*a*v)/(4*g)+(a-v)*(g*y-2/Math.sin(2*h))-y),h-=p,Math.abs(p)<=u){i=h;break}g=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=r(this.long0+Math.asin(n*g/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],59:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/adjust_lat"),s=t("../common/pj_enfn"),a=20,r=t("../common/pj_mlfn"),l=t("../common/pj_inv_mlfn"),c=Math.PI/2,u=1e-10,h=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=s(this.es)},i.forward=function(t){var e,i,o=t.x,s=t.y;if(o=n(o-this.long0),this.sphere){if(this.m)for(var l=this.n*Math.sin(s),c=a;c;--c){var h=(this.m*s+Math.sin(s)-l)/(this.m+Math.cos(s));if(s-=h,Math.abs(h)<u)break}else s=1!==this.n?Math.asin(this.n*Math.sin(s)):s;e=this.a*this.C_x*o*(this.m+Math.cos(s)),i=this.a*this.C_y*s}else{var f=Math.sin(s),p=Math.cos(s);i=this.a*r(s,f,p,this.en),e=this.a*o*p/Math.sqrt(1-this.es*f*f)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,s,a;return t.x-=this.x0,s=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,s/=this.C_x*(this.m+Math.cos(e)),this.m?e=h((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=h(Math.sin(e)/this.n)),s=n(s+this.long0),e=o(e)):(e=l(t.y/this.a,this.es,this.en),a=Math.abs(e),c>a?(a=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),s=n(i)):c>a-u&&(s=this.long0)),t.x=s,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],60:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,o=1/n,s=2*o-Math.pow(o,2),a=this.e=Math.sqrt(s);this.R=this.k0*i*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+a*e)/(1-a*e));this.K=r-this.alpha*l+this.alpha*a/2*c},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,o=2*(Math.atan(Math.exp(n))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(s))),r=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,t.x=this.R*a+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,o=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(o))),r=this.lambda0+a/this.alpha,l=0,c=s,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=r,t.y=c,t},i.names=["somerc"]},{}],61:[function(t,e,i){var n=Math.PI/2,o=1e-10,s=t("../common/sign"),a=t("../common/msfnz"),r=t("../common/tsfnz"),l=t("../common/phi2z"),c=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*(1+s(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=o&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*this.cons*a(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/r(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=a(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,s,a,l,u,h=t.x,f=t.y,p=Math.sin(f),d=Math.cos(f),g=c(h-this.long0);return Math.abs(Math.abs(h-this.long0)-Math.PI)<=o&&Math.abs(f+this.lat0)<=o?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*d*Math.cos(g)),t.x=this.a*e*d*Math.sin(g)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*d*Math.cos(g))+this.y0,t):(i=2*Math.atan(this.ssfn_(f,p,this.e))-n,a=Math.cos(i),s=Math.sin(i),Math.abs(this.coslat0)<=o?(l=r(this.e,f*this.con,this.con*p),u=2*this.a*this.k0*l/this.cons,t.x=this.x0+u*Math.sin(h-this.long0),t.y=this.y0-this.con*u*Math.cos(h-this.long0),t):(Math.abs(this.sinlat0)<o?(e=2*this.a*this.k0/(1+a*Math.cos(g)),t.y=e*s):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*a*Math.cos(g))),t.y=e*(this.cosX0*s-this.sinX0*a*Math.cos(g))+this.y0),t.x=e*a*Math.sin(g)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s,a,r,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var h=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,o>=u?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(h)*this.sinlat0+t.y*Math.sin(h)*this.coslat0/u),e=c(Math.abs(this.coslat0)<o?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(h),u*this.coslat0*Math.cos(h)-t.y*this.sinlat0*Math.sin(h))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=o){if(o>=u)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,s=u*this.cons/(2*this.a*this.k0),i=this.con*l(this.e,s),e=this.con*c(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o>=u?r=this.X0:(r=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/u),e=c(this.long0+Math.atan2(t.x*Math.sin(a),u*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),i=-1*l(this.e,Math.tan(.5*(n+r)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],62:[function(t,e,i){var n=t("./gauss"),o=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,s,a;return t.x=o(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),s=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*s),t.x=a*i*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*i*s),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,s,a,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(r,this.R2);e=Math.sin(l),i=Math.cos(l),a=Math.asin(i*this.sinc0+t.y*e*this.cosc0/r),s=Math.atan2(t.x*e,r*this.cosc0*i-t.y*this.sinc0*e)}else a=this.phic0,s=0;return t.x=s,t.y=a,n.inverse.apply(this,[t]),t.x=o(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],63:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),s=t("../common/e2fn"),a=t("../common/e3fn"),r=t("../common/mlfn"),l=t("../common/adjust_lon"),c=Math.PI/2,u=1e-10,h=t("../common/sign"),f=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*r(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,o=t.x,s=t.y,a=l(o-this.long0),c=Math.sin(s),u=Math.cos(s);if(this.sphere){var h=u*Math.sin(a);if(Math.abs(Math.abs(h)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+h)/(1-h)),e=Math.acos(u*Math.cos(a)/Math.sqrt(1-h*h)),0>s&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=u*a,p=Math.pow(f,2),d=this.ep2*Math.pow(u,2),g=Math.tan(s),m=Math.pow(g,2);e=1-this.es*Math.pow(c,2);var y=this.a/Math.sqrt(e),v=this.a*r(this.e0,this.e1,this.e2,this.e3,s);i=this.k0*y*f*(1+p/6*(1-m+d+p/20*(5-18*m+Math.pow(m,2)+72*d-58*this.ep2)))+this.x0,n=this.k0*(v-this.ml0+y*g*(p*(.5+p/24*(5-m+9*d+4*Math.pow(d,2)+p/30*(61-58*m+Math.pow(m,2)+600*d-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,o,s,a,r=6;if(this.sphere){var p=Math.exp(t.x/(this.a*this.k0)),d=.5*(p-1/p),g=this.lat0+t.y/(this.a*this.k0),m=Math.cos(g);e=Math.sqrt((1-m*m)/(1+d*d)),s=f(e),0>g&&(s=-s),a=0===d&&0===m?this.long0:l(Math.atan2(d,m)+this.long0)}else{var y=t.x-this.x0,v=t.y-this.y0;for(e=(this.ml0+v/this.k0)/this.a,i=e,o=0;n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=u);o++)if(o>=r)return 95;if(Math.abs(i)<c){var _=Math.sin(i),b=Math.cos(i),M=Math.tan(i),w=this.ep2*Math.pow(b,2),x=Math.pow(w,2),C=Math.pow(M,2),S=Math.pow(C,2);e=1-this.es*Math.pow(_,2);var P=this.a/Math.sqrt(e),L=P*(1-this.es)/e,E=y/(P*this.k0),A=Math.pow(E,2);s=i-P*M*A/L*(.5-A/24*(5+3*C+10*w-4*x-9*this.ep2-A/30*(61+90*C+298*w+45*S-252*this.ep2-3*x))),a=l(this.long0+E*(1-A/6*(1+2*C+w-A/20*(5-2*w+28*C-3*x+8*this.ep2+24*S)))/b)}else s=c*h(v),a=this.long0}return t.x=a,t.y=s,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],64:[function(t,e,i){var n=.017453292519943295,o=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,o.init.apply(this),this.forward=o.forward,this.inverse=o.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":63}],65:[function(t,e,i){var n=t("../common/adjust_lon"),o=Math.PI/2,s=1e-10,a=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,r=t.x,l=t.y,c=n(r-this.long0);Math.abs(l)<=s&&(e=this.x0+this.R*c,i=this.y0);var u=a(2*Math.abs(l/Math.PI));(Math.abs(c)<=s||Math.abs(Math.abs(l)-o)<=s)&&(e=this.x0,i=l>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var h=.5*Math.abs(Math.PI/c-c/Math.PI),f=h*h,p=Math.sin(u),d=Math.cos(u),g=d/(p+d-1),m=g*g,y=g*(2/p-1),v=y*y,_=Math.PI*this.R*(h*(g-v)+Math.sqrt(f*(g-v)*(g-v)-(v+f)*(m-v)))/(v+f);0>c&&(_=-_),e=this.x0+_;var b=f+g;return _=Math.PI*this.R*(y*b-h*Math.sqrt((v+f)*(f+1)-b*b))/(v+f),i=l>=0?this.y0+_:this.y0-_,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,o,a,r,l,c,u,h,f,p,d,g;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,o=t.x/p,a=t.y/p,r=o*o+a*a,l=-Math.abs(a)*(1+r),c=l-2*a*a+o*o,u=-2*l+1+2*a*a+r*r,g=a*a/u+(2*c*c*c/u/u/u-9*l*c/u/u)/27,h=(l-c*c/3/u)/u,f=2*Math.sqrt(-h/3),p=3*g/h/f,Math.abs(p)>1&&(p=p>=0?1:-1),d=Math.acos(p)/3,i=t.y>=0?(-f*Math.cos(d+Math.PI/3)-c/3/u)*Math.PI:-(-f*Math.cos(d+Math.PI/3)-c/3/u)*Math.PI,e=Math.abs(o)<s?this.long0:n(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(o*o-a*a)+r*r))/2/o),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],66:[function(t,e,i){var n=.017453292519943295,o=57.29577951308232,s=1,a=2,r=t("./datum_transform"),l=t("./adjust_axis"),c=t("./Proj"),u=t("./common/toPoint");e.exports=function t(e,i,h){function f(t,e){return(t.datum.datum_type===s||t.datum.datum_type===a)&&"WGS84"!==e.datumCode}var p;return Array.isArray(h)&&(h=u(h)),e.datum&&i.datum&&(f(e,i)||f(i,e))&&(p=new c("WGS84"),t(e,p,h),e=p),"enu"!==e.axis&&l(e,!1,h),"longlat"===e.projName?(h.x*=n,h.y*=n):(e.to_meter&&(h.x*=e.to_meter,h.y*=e.to_meter),e.inverse(h)),e.from_greenwich&&(h.x+=e.from_greenwich),h=r(e.datum,i.datum,h),i.from_greenwich&&(h.x-=i.from_greenwich),"longlat"===i.projName?(h.x*=o,h.y*=o):(i.forward(h),i.to_meter&&(h.x/=i.to_meter,h.y/=i.to_meter)),"enu"!==i.axis&&l(i,!0,h),h}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],67:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return o(t,e),e}).reduce(function(t,e){return c(t,e)},{})}function o(t,e){var i;return Array.isArray(t)?(i=t.shift(),"PARAMETER"===i&&(i=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[i]={},o(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):o(t,e[i])):e[i]=!0)):void(e[t]=!0)}function s(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function a(t){return t*l}function r(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var i=function(e){return s(t,e)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",a],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["alpha","azimuth",a],["srsCode","name"]];n.forEach(i),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=a(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var l=.017453292519943295,c=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),s=i.shift();i.unshift(["name",s]),i.unshift(["type",n]),i.unshift("output");var a={};return o(i,a),r(a.output),c(e,a.output)}},{"./extend":34}],68:[function(t,e,i){function n(t){return t*(Math.PI/180)}function o(t){return 180*(t/Math.PI)}function s(t){var e,i,o,s,a,l,c,u,h,f=t.lat,p=t.lon,d=6378137,g=.00669438,m=.9996,y=n(f),v=n(p);h=Math.floor((p+180)/6)+1,180===p&&(h=60),f>=56&&64>f&&p>=3&&12>p&&(h=32),f>=72&&84>f&&(p>=0&&9>p?h=31:p>=9&&21>p?h=33:p>=21&&33>p?h=35:p>=33&&42>p&&(h=37)),e=6*(h-1)-180+3,u=n(e),i=g/(1-g),o=d/Math.sqrt(1-g*Math.sin(y)*Math.sin(y)),s=Math.tan(y)*Math.tan(y),a=i*Math.cos(y)*Math.cos(y),l=Math.cos(y)*(v-u),c=d*((1-g/4-3*g*g/64-5*g*g*g/256)*y-(3*g/8+3*g*g/32+45*g*g*g/1024)*Math.sin(2*y)+(15*g*g/256+45*g*g*g/1024)*Math.sin(4*y)-35*g*g*g/3072*Math.sin(6*y));var _=m*o*(l+(1-s+a)*l*l*l/6+(5-18*s+s*s+72*a-58*i)*l*l*l*l*l/120)+5e5,b=m*(c+o*Math.tan(y)*(l*l/2+(5-s+9*a+4*a*a)*l*l*l*l/24+(61-58*s+s*s+600*a-330*i)*l*l*l*l*l*l/720));return 0>f&&(b+=1e7),{northing:Math.round(b),easting:Math.round(_),zoneNumber:h,zoneLetter:r(f)}}function a(t){var e=t.northing,i=t.easting,n=t.zoneLetter,s=t.zoneNumber;if(0>s||s>60)return null;var r,l,c,u,h,f,p,d,g,m,y=.9996,v=6378137,_=.00669438,b=(1-Math.sqrt(1-_))/(1+Math.sqrt(1-_)),M=i-5e5,w=e;"N">n&&(w-=1e7),d=6*(s-1)-180+3,r=_/(1-_),p=w/y,g=p/(v*(1-_/4-3*_*_/64-5*_*_*_/256)),m=g+(3*b/2-27*b*b*b/32)*Math.sin(2*g)+(21*b*b/16-55*b*b*b*b/32)*Math.sin(4*g)+151*b*b*b/96*Math.sin(6*g),l=v/Math.sqrt(1-_*Math.sin(m)*Math.sin(m)),c=Math.tan(m)*Math.tan(m),u=r*Math.cos(m)*Math.cos(m),h=v*(1-_)/Math.pow(1-_*Math.sin(m)*Math.sin(m),1.5),f=M/(l*y);var x=m-l*Math.tan(m)/h*(f*f/2-(5+3*c+10*u-4*u*u-9*r)*f*f*f*f/24+(61+90*c+298*u+45*c*c-252*r-3*u*u)*f*f*f*f*f*f/720);x=o(x);var C=(f-(1+2*c+u)*f*f*f/6+(5-2*u+28*c-3*u*u+8*r+24*c*c)*f*f*f*f*f/120)/Math.cos(m);C=d+o(C);var S;if(t.accuracy){var P=a({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});S={top:P.lat,right:P.lon,bottom:x,left:C}}else S={lat:x,lon:C};return S}function r(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function l(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+c(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function c(t,e,i){var n=u(i),o=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return h(o,s,n)}function u(t){var e=t%m;return 0===e&&(e=m),e}function h(t,e,i){var n=i-1,o=y.charCodeAt(n),s=v.charCodeAt(n),a=o+t-1,r=s+e,l=!1;a>x&&(a=a-x+_-1,l=!0),(a===b||b>o&&a>b||(a>b||b>o)&&l)&&a++,(a===M||M>o&&a>M||(a>M||M>o)&&l)&&(a++,a===b&&a++),a>x&&(a=a-x+_-1),r>w?(r=r-w+_-1,l=!0):l=!1,(r===b||b>s&&r>b||(r>b||b>s)&&l)&&r++,(r===M||M>s&&r>M||(r>M||M>s)&&l)&&(r++,r===b&&r++),r>w&&(r=r-w+_-1);var c=String.fromCharCode(a)+String.fromCharCode(r);return c}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,o="",s=0;!/[A-Z]/.test(e=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;o+=e,s++}var a=parseInt(o,10);if(0===s||s+3>i)throw"MGRSPoint bad conversion from: "+t;var r=t.charAt(s++);if("A">=r||"B"===r||"Y"===r||r>="Z"||"I"===r||"O"===r)throw"MGRSPoint zone letter "+r+" not handled: "+t;n=t.substring(s,s+=2);for(var l=u(a),c=p(n.charAt(0),l),h=d(n.charAt(1),l);h<g(r);)h+=2e6;var f=i-s;if(f%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var m,y,v,_,b,M=f/2,w=0,x=0;return M>0&&(m=1e5/Math.pow(10,M),y=t.substring(s,s+M),w=parseFloat(y)*m,v=t.substring(s+M),x=parseFloat(v)*m),_=w+c,b=x+h,{easting:_,northing:b,zoneLetter:r,zoneNumber:a,accuracy:m}}function p(t,e){for(var i=y.charCodeAt(e-1),n=1e5,o=!1;i!==t.charCodeAt(0);){if(i++,i===b&&i++,i===M&&i++,i>x){if(o)throw"Bad character: "+t;i=_,o=!0}n+=1e5}return n}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=v.charCodeAt(e-1),n=0,o=!1;i!==t.charCodeAt(0);){if(i++,i===b&&i++,i===M&&i++,i>w){if(o)throw"Bad character: "+t;i=_,o=!0}n+=1e5}return n}function g(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var m=6,y="AJSAJS",v="AFAFAF",_=65,b=73,M=79,w=86,x=90;i.forward=function(t,e){return e=e||5,l(s({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=a(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=a(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],69:[function(t,e,i){e.exports={name:"proj4",version:"2.3.15",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~12.0.1","grunt-browserify":"~4.0.1","grunt-contrib-uglify":"~0.11.1",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"}}},{}]},{},[36])(36)})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var i=(0,M.copyDeep)(t);if(e){var n=!0,s=!1,a=void 0;try{for(var r,l=(0,m.default)((0,d.default)(e));!(n=(r=l.next()).done);n=!0){var c=r.value,u=e[c];if(t.hasOwnProperty(c)){var h=t[c];if("object"===("undefined"==typeof h?"undefined":(0,f.default)(h))&&!(h instanceof Array)){var p=t[c];p.hasOwnProperty("type")?u.hasOwnProperty("type")&&t[c].type===u.type&&(i[c]=o(p,u)):i[c]=o(p,u)}}else"object"!==("undefined"==typeof u?"undefined":(0,f.default)(u))||u instanceof Array?i[c]=u:i[c]=(0,M.copyDeep)(u)}}catch(g){s=!0,a=g}finally{try{!n&&l.return&&l.return()}finally{if(s)throw a}}}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.Styling=void 0;var s=i(133),a=n(s),r=i(108),l=n(r),c=i(119),u=n(c),h=i(82),f=n(h),p=i(101),d=n(p),g=i(105),m=n(g),y=i(77),v=n(y),_=i(78),b=n(_),M=i(137),w=i(138),x=i(151),C=i(152);e.Styling=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,u.default)(this,t),this.styleConfigMap_=new l.default,this.styleConfigMap_.has("#defaultStyle")||this.styleConfigMap_.set("#defaultStyle",{stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"},image:{type:"circle",stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"}}}),e.styleConfigMap){var i=!0,n=!1,o=void 0;try{for(var s,r=(0,m.default)((0,d.default)(e.styleConfigMap));!(i=(s=r.next()).done);i=!0){var c=s.value;this.styleConfigMap_.set(c,e.styleConfigMap[c])}}catch(h){n=!0,o=h}finally{try{!i&&r.return&&r.return()}finally{if(n)throw o}}}this.styleMap_=new l.default,this.allStyles_=new a.default,e.globalIconScale&&this.setGlobalIconScale(e.globalIconScale)}return t.prototype.saveStyle=function(t){this.allStyles_.add(t),t.saved=!0},t.prototype.forEachStyle=function(t){this.allStyles_.forEach(t)},t.prototype.setGlobalIconScale=function(t){this.globalIconScale_=t},t.prototype.getGlobalIconScale=function(){return this.globalIconScale_||1},t.prototype.getStyleFromConfig=function(t){function e(t){t=t||{};var e=(0,M.copy)(t);return(0,w.checkFor)(t,"fill")?e.fill=new v.default.style.Fill(o(t.fill,i.fill)):e.fill=new v.default.style.Fill(i.fill),(0,w.checkFor)(t,"stroke")?e.stroke=new v.default.style.Stroke(o(t.stroke,i.stroke)):e.stroke=new v.default.style.Stroke(i.stroke),e}var i=o(t,this.styleConfigMap_.get("#default")),n=e(i);n.text=new v.default.style.Text(e(i.text));var s=!1;i.hasOwnProperty("image")&&("icon"===i.image.type&&i.image.hasOwnProperty("src")&&i.image.src?(n.image=new v.default.style.Icon(i.image),s=!0):"circle"===i.image.type?(n.image=new v.default.style.Circle(e(i.image)),s=!0):"regularShape"===i.image.type&&(n.image=new v.default.style.RegularShape(e(i.image)),s=!0),s&&n.image.setScale((n.image.getScale()||1)*this.getGlobalIconScale()));var a=new v.default.style.Style(n);return this.saveStyle(a),a},t.prototype.getConfigFromStyle=function(t){throw new Error("Not implemented yet")},t.prototype.getStyleById=function(t){if(!this.styleMap_.has(t)){if(!this.styleConfigMap_.has(t))return x.Debug.error("No style found for id "+t+". Using default style."),this.styleMap_.get("#defaultStyle");this.styleMap_.set(t,this.getStyleFromConfig(this.getConfigById(t)))}return this.styleMap_.get(t)},t.prototype.getConfigById=function(t){return this.styleConfigMap_.has(t)?this.styleConfigMap_.get(t):(x.Debug.error("No style config found for id "+t+". Using default style."),this.styleConfigMap_.get("#defaultStyle"))},t.prototype.getStyle=function(t){return void 0===t?this.getStyleById("#defaultStyle"):t instanceof v.default.style.Style||b.default.isFunction(t)?t:"object"===("undefined"==typeof t?"undefined":(0,f.default)(t))?this.getStyleFromConfig(t):this.getStyleById(t)},t.prototype.adjustColorOpacity=function(t,e){var i=function(t,e){var i=t.getColor();if(null!==i){if(!(i instanceof Array)){if("string"!=typeof i)throw new Error("Type not supported");i=(0,C.parseCSSColor)(i)}i[3]=i[3]*e}t.setColor(i)};return t.getImage()&&t.getImage().setOpacity(e),t.getFill()&&i(t.getFill(),e),t.getStroke()&&i(t.getStroke(),e),t.getText()&&(t.getText().getFill()&&i(t.getText().getFill(),e),t.getText().getStroke()&&i(t.getText().getStroke(),e)),t},t.prototype.styleFeature=function(t,e){var i=void 0;i=e?this.getStyle(e):this.getStyle("#defaultStyle");var n=t.getStyleFunction(),o=this,s=function(t){var e=void 0;if(e=b.default.isFunction(i)?i.call(this,t)[0]:i,n){var s=n.call(this,t);s&&s.length>0&&(s.forEach(function(t){t.getImage()&&t.getImage().setScale(e.getImage().getScale()),t.saved||o.saveStyle(t)}),e=s[0])}return[e]};n!==s&&t.setStyle(s)},t.prototype.convertStyleFunction=function(t){return function(e){return t(this,e)}},t.prototype.styleLayer=function(t,e){var i=this,n=void 0;n=e?this.getStyle(e):this.getStyle("#defaultStyle"),b.default.isFunction(n)&&(n=this.convertStyleFunction(n)),t.getSource().getFeatures().forEach(function(t){i.styleFeature(t,n)}),t.getSource().on("addfeature",function(t){i.styleFeature(t.feature,n)}),t.setStyle(function(t,e){return void 0!==t.getStyleFunction()?t.getStyleFunction().call(t,e):t.getStyle()})},t.prototype.styleCollection=function(t,e){var i=this,n=void 0;n=e?this.getStyle(e):this.getStyle("#defaultStyle"),b.default.isFunction(n)&&(n=this.convertStyleFunction(n)),t.forEach(function(t){i.styleFeature(t,n)}),t.on("add",function(t){i.styleFeature(t.element,n)})},t.prototype.cloneFill=function(t){if(t)return new v.default.style.Fill({color:t.getColor()})},t.prototype.cloneStroke=function(t){if(t)return new v.default.style.Stroke({color:t.getColor(),lineCap:t.getLineCap(),lineJoin:t.getLineJoin(),lineDash:t.getLineDash(),miterLimit:t.getMiterLimit(),width:t.getWidth()})},t.prototype.cloneStyle=function(t){var e=void 0;if(t.getImage())if(t.getImage()instanceof v.default.style.Icon)e=new v.default.style.Icon({anchor:t.getImage().getAnchor(),anchorOrigin:t.getImage().getOrigin(),anchorXUnits:"pixels",anchorYUnits:"pixels",img:t.getImage().getImage(),imgSize:[t.getImage().getImage().width,t.getImage().getImage().height],size:t.getImage().getSize(),opacity:t.getImage().getOpacity(),scale:t.getImage().getScale(),snapToPixel:t.getImage().getSnapToPixel(),rotation:t.getImage().getRotation(),rotateWithView:t.getImage().getRotateWithView()}),e.setRotation(t.getImage().getRotation());else if(t.getImage()instanceof v.default.style.Circle)e=new v.default.style.Circle({fill:this.cloneFill(t.getImage().getFill()),radius:t.getImage().getRadius(),snapToPixel:t.getImage().getSnapToPixel(),stroke:this.cloneStroke(t.getImage().getStroke())}),e.setOpacity(t.getImage().getOpacity()),e.setRotation(t.getImage().getRotation()),e.setScale(t.getImage().getScale());else if(t.getImage()instanceof v.default.style.RegularShape){var i=void 0,n=void 0,o=void 0;t.getImage().getRadius2()?(n=t.getImage().getRadius(),o=t.getImage().getRadius2()):i=t.getImage().getRadius(),e=new v.default.style.RegularShape({fill:this.cloneFill(t.getImage().getFill()),points:t.getImage().getPoints(),radius:i,radius1:n,radius2:o,angle:t.getImage().getAngle(),snapToPixel:t.getImage().getSnapToPixel(),stroke:this.cloneStroke(t.getImage().getStroke()),rotation:t.getImage().getRotation(),rotateWithView:t.getImage().getRotateWithView()}),e.setOpacity(t.getImage().getOpacity()),e.setRotation(t.getImage().getRotation()),e.setScale(t.getImage().getScale())}var s=void 0;return t.getText()&&(s=new v.default.style.Text({font:t.getText().getFont(),offsetX:t.getText().getOffsetX(),offsetY:t.getText().getOffsetY(),scale:t.getText().getScale(),rotation:t.getText().getRotation(),text:t.getText().getText(),textAlign:t.getText().getTextAlign(),textBaseline:t.getText().getTextBaseline(),fill:this.cloneFill(t.getText().getFill()),stroke:this.cloneStroke(t.getText().getStroke())})),new v.default.style.Style({geometry:t.getGeometry(),fill:this.cloneFill(t.getFill()),image:e,stroke:this.cloneStroke(t.getStroke()),text:s,zIndex:t.getZIndex()})},t}()},function(t,e,i){t.exports={"default":i(134),__esModule:!0}},function(t,e,i){i(14),i(15),i(59),i(135),i(136),t.exports=i(23).Set},function(t,e,i){"use strict";var n=i(111);t.exports=i(112)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(this,t=0===t?0:t,t)}},n)},function(t,e,i){var n=i(21);n(n.P+n.R,"Set",{toJSON:i(117)("Set")})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){return y.default.isArray(t)?y.default.extend([],t):y.default.isPlainObject(t)?y.default.extend({},t):t}function s(t){return y.default.isArray(t)?y.default.extend(!0,[],t):y.default.isPlainObject(t)?y.default.extend(!0,{},t):t}function a(t,e){return y.default.extend(t,e)}function r(t,e){return y.default.extend(!0,t,e)}function l(t,e){if("object"===("undefined"==typeof e?"undefined":(0,g.default)(e))&&"object"===("undefined"==typeof t?"undefined":(0,g.default)(t))){var i=!0,n=!1,o=void 0;try{for(var s,a=(0,p.default)((0,h.default)(e));!(i=(s=a.next()).done);i=!0){var r=s.value;if(!(r in t)&&r.search("Element")<0)t[r]=e[r];else if(t[r]instanceof Array){if(t[r].length===e[r].length)for(var c=0;c<t[r].length;c+=1)l(t[r][c],e[r][c]);else if(r+"Element"in e)for(var u=0;u<t[r].length;u+=1)l(t[r][u],e[r+"Element"])}else"object"===(0,g.default)(t[r])?l(t[r],e[r]):"object"!==(0,g.default)(t[r])&&"object"===(0,g.default)(e[r])&&t[r]&&(t[r]={},l(t[r],e[r]))}}catch(f){n=!0,o=f}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}}else t||(t=e);return t}function c(t,e){if(t.hasOwnProperty(e)){var i=t[e];return delete t[e],
i}}Object.defineProperty(e,"__esModule",{value:!0});var u=i(101),h=n(u),f=i(105),p=n(f),d=i(82),g=n(d);e.copy=o,e.copyDeep=s,e.merge=a,e.mergeDeep=r,e.mergeWithDefaults=l,e.take=c;var m=i(78),y=n(m)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(U.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2===0)return!0}return!1}function s(t){if(U.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2===1)return!0}return!1}function a(t,e){return e in t&&t[e]}function r(t){return"object"===("undefined"==typeof t?"undefined":(0,R.default)(t))?t:{}}function l(t,e){if(e in t&&t[e])return"object"!==(0,R.default)(t[e])?{}:t[e]}function c(t){var e=t.split("}"),i="",n=void 0;for(n=0;n<e.length-1;n+=1){var o=e[n].split("{");i+=encodeURIComponent(o[0])+"{"+o[1]+"}"}return i+=encodeURIComponent(e[n])}function u(t,e,i){var n=new RegExp("{"+e+"([^}]*)}"),o=t.match(n);if(!o)throw new Error("parameter "+e+" (enclosed in {}) not found in string "+t);if("string"===U.default.type(i))return t.replace(n,i);if("array"===U.default.type(i)){var s=o[1]||",";return t.replace(n,i.join(s))}if("number"===U.default.type(i)){for(var a=new RegExp("(?::|,)([^,])","g"),r=a.exec(o[1]),l=0;l<i;l++)r=a.exec(o[1]);return t.replace(n,r[1])}}function h(t,e){return e?u(e,"url",c(t)):t}function f(t,e){return t+=t.search(/\?/)===-1?"?":"&",t+=e}function p(t){var e=[],i=g(t,"img");return i.each(function(){var t=this;t.complete||e.push(new $.default(function(e){(0,U.default)(t).on("load",e)}))}),$.default.all(e)}function d(t,e){var i=t.offset(),n=e.offset();return{top:i.top-n.top,left:i.left-n.left}}function g(t,e){return t.filter(e).add(t.find(e))}function m(t){W.Debug.info("superseding interactions:");var e=void 0,i=void 0,n=void 0,o=void 0;for(e in t.supersedingInteractions_){for(n=t.supersedingInteractions_[e].length,o=0,i=0;i<n;i++)t.supersedingInteractions_[e][i].getActive()&&(o+=1);W.Debug.info("  "+e+": total: "+n+" active: "+o)}W.Debug.info("default interactions:");for(e in t.defaultInteractions_){for(n=t.defaultInteractions_[e].length,o=0,i=0;i<n;i++)t.defaultInteractions_[e][i].getActive()&&(o+=1);W.Debug.info("  "+e+": total: "+n+" active: "+o)}}function y(t){return t.replace(/\/([^\/]*)(\?.*)?$/,"/")}function v(t){return t.match(/^\.\//)?v(t.replace(/^\.\//,"")):t}function _(t,e){for(var i=y(v(t)),n=v(e),o=/[^\/]+\/$/,s=/^\.\.\//;i.match(o)&&n.match(s);)i=i.replace(o,""),n=n.replace(s,"");return i+n}function b(t,e){for(var i=y(v(t)),n=v(e),o="",s=/^\/?((\/\/)|[^\/])+\//,a=void 0,r=void 0;i.match(s)&&n.match(s)&&(a=i.match(s)[0],r=n.match(s)[0],a.toUpperCase()===r.toUpperCase());)i=i.replace(s,""),n=n.replace(s,"");for(;i.match(s);)a=i.match(s)[0],i=i.replace(s,""),o+="../";return o+n}function M(t){return!!t.match(/^\/|.*:\/\//)}function w(t){var e={};do(0,z.default)(t).forEach(function(i){e.hasOwnProperty(i)||(e[i]=(0,F.default)(t,i))}),t=(0,j.default)(t);while(t!==Object.prototype);return e}function x(t,e){var i=e.prototype.initialize,n=function(t){function e(n){(0,E.default)(this,e);var o=(0,k.default)(this,t.call(this,n));return i&&i.call(o,n),o}return(0,I.default)(e,t),e}(t),o=w(e.prototype);for(var s in o)if("constructor"!==s&&"initialize"!==s){if(s in n.prototype)throw new Error("mixins should not overwrite methods");(0,P.default)(n.prototype,s,o[s])}return n}function C(t){return q.html(t).text()}Object.defineProperty(e,"__esModule",{value:!0});var S=i(139),P=n(S),L=i(119),E=n(L),A=i(120),k=n(A),O=i(121),I=n(O),T=i(142),j=n(T),N=i(145),F=n(N),B=i(148),z=n(B),D=i(12),$=n(D),V=i(82),R=n(V);e.even=o,e.odd=s,e.checkFor=a,e.asObject=r,e.getConfig=l,e.encodeTemplate=c,e.expandTemplate=u,e.addProxy=h,e.addParamToURL=f,e.finishAllImages=p,e.offset=d,e.recursiveSelect=g,e.showInteractionActivity=m,e.urlDirname=y,e.urlNormalize=v,e.urlJoin=_,e.urlRelative=b,e.urlIsAbsolute=M,e.mixin=x,e.html2Text=C;var G=i(78),U=n(G);i(80),i(80),i(146),i(80);var W=i(151),q=(0,U.default)("<p>")},function(t,e,i){t.exports={"default":i(140),__esModule:!0}},function(t,e,i){i(141);var n=i(23).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(21);n(n.S+n.F*!i(31),"Object",{defineProperty:i(27).f})},function(t,e,i){t.exports={"default":i(143),__esModule:!0}},function(t,e,i){i(144),t.exports=i(23).Object.getPrototypeOf},function(t,e,i){var n=i(58),o=i(57);i(104)("getPrototypeOf",function(){return function(t){return o(n(t))}})},function(t,e,i){t.exports={"default":i(146),__esModule:!0}},function(t,e,i){i(147);var n=i(23).Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},function(t,e,i){var n=i(44),o=i(98).f;i(104)("getOwnPropertyDescriptor",function(){return function(t,e){return o(n(t),e)}})},function(t,e,i){t.exports={"default":i(149),__esModule:!0}},function(t,e,i){i(150);var n=i(23).Object;t.exports=function(t){return n.getOwnPropertyNames(t)}},function(t,e,i){i(104)("getOwnPropertyNames",function(){return i(96).f})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Debug=void 0;var o=i(119),s=n(o);e.Debug=function(){function t(){(0,s.default)(this,t)}return t.tryOrThrow=function(t){try{t()}catch(e){this.error(e)}},t.info=function(t){},t.warn=function(t){console.warn(t)},t.error=function(t){console.error(t)},t.defaultErrorHandler=function(e){t.error(e),e.stack&&t.error(e.stack)},t}()},function(t,e){function i(t){return t=Math.round(t),t<0?0:t>255?255:t}function n(t){return t<0?0:t>1?1:t}function o(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function s(t){return n("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function r(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var r=e.indexOf("("),c=e.indexOf(")");if(r!==-1&&c+1===e.length){var u=e.substr(0,r),h=e.substr(r+1,c-(r+1)).split(","),f=1;switch(u){case"rgba":if(4!==h.length)return null;f=s(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),f];case"hsla":if(4!==h.length)return null;f=s(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,d=s(h[1]),g=s(h[2]),m=g<=.5?g*(d+1):g+d-g*d,y=2*g-m;return[i(255*a(y,m,p+1/3)),i(255*a(y,m,p)),i(255*a(y,m,p-1/3)),f];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{e.parseCSSColor=r}catch(c){}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerConfigurator=void 0;var o=i(119),s=n(o),a=i(77),r=n(a),l=i(154),c=i(137),u=i(138),h=i(151),f=i(161);e.LayerConfigurator=function(){function t(e){(0,s.default)(this,t),this.map_=e,this.map_.on("change:layerConfig",this.configureLayers.bind(this)),this.layerFactory_=new f.LayerFactory(e)}return t.prototype.configureLayers=function(){var t=this;this.map_.set("ready:layers",!1),this.map_.getLayerGroup()instanceof l.GroupLayer||this.map_.setLayerGroup(new l.GroupLayer);var e=this.map_.getLayerGroup();e.getLayers().clear();var i=(0,c.copyDeep)(this.map_.get("layerConfig")),n=this.map_.get("mapConfig");this.map_.set("layerIds",[]),this.layerFactory_.setMapConfigProjection(n.hasOwnProperty("mapProjection")?r.default.proj.get(n.mapProjection):null),this.map_.set("loadingStrategy",n.hasOwnProperty("loadingStrategy")?n.loadingStrategy:"ALL"),this.map_.set("ignoreLayerAvailability",!!n.hasOwnProperty("ignoreLayerAvailability")&&n.ignoreLayerAvailability),this.baseLayerGroup_=this.map_.get("baseLayers")||new l.GroupLayer,this.baseLayerGroup_.getLayers().clear(),i.hasOwnProperty("baseLayers")&&i.baseLayers instanceof Array?!function(){if(h.Debug.tryOrThrow(function(){t.layerFactory_.addLayers(t.baseLayerGroup_,i.baseLayers,"baseLayer")}),0===t.baseLayerGroup_.getLayers().getLength())if(0!==i.baseLayers.length){var n=(0,c.copyDeep)(i.baseLayers[0]);n.alwaysVisible=!0,t.layerFactory_.addLayers(t.baseLayerGroup_,n,"baseLayer",!0)}else h.Debug.warn("There is no baselayer available!");var o=void 0;t.baseLayerGroup_.recursiveForEach(function(t){t instanceof l.GroupLayer||(o=o||t.getVisible())}),!o&&t.baseLayerGroup_.getLayers().getLength()&&!function(){var e=function t(e){e instanceof l.GroupLayer?t(e.getLayersArray()[0]):e.setVisible(!0)};e(t.baseLayerGroup_)}(),t.map_.get("baseLayers")||t.baseLayerGroup_.getLayers().on("remove",function(e){t.baseLayerGroup_.getLayers().getLength()>0&&e.element.getVisible()&&t.baseLayerGroup_.getLayers().item(0).setVisible(!0)}),t.map_.set("baseLayers",t.baseLayerGroup_),e.getLayers().push(t.baseLayerGroup_)}():h.Debug.warn("The mapConfig option 'baseLayers' is not set or not an Array!"),this.map_.set("mapProjection",this.layerFactory_.getMapProjection()||r.default.proj.get("EPSG:3857"));var o=this.map_.get("featureLayers")||new l.GroupLayer;o.getLayers().clear(),this.layerFactory_.addLayers(o,i.featureLayers||[],"featureLayer"),this.map_.set("featureLayers",o),e.getLayers().push(o);var s=this.map_.get("fixedFeatureLayers")||new l.GroupLayer;s.getLayers().clear(),(0,u.checkFor)(i,"fixedFeatureLayers")&&(this.layerFactory_.addLayers(s,i.fixedFeatureLayers,"featureLayer"),this.map_.set("fixedFeatureLayers",s),e.getLayers().push(s));var a=this.map_.get("queryLayers")||new l.GroupLayer;a.getLayers().clear(),i.hasOwnProperty("queryLayers")&&i.queryLayers instanceof Array&&(this.layerFactory_.addLayers(a,i.queryLayers,"queryLayer",!0),this.map_.set("queryLayers",a),e.getLayers().push(a)),this.map_.set("ready:layers",!0)},t.prototype.getBaseLayerGroup=function(){return this.baseLayerGroup_},t.prototype.getFactory=function(){return this.layerFactory_},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.GroupLayer=void 0;var o=i(155),s=n(o),a=i(119),r=n(a),l=i(120),c=n(l),u=i(121),h=n(u),f=i(77),p=n(f),d=i(160),g=i(138);e.GroupLayer=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e);var n=(0,c.default)(this,t.call(this,i)),o=new s.default;return n.getLayers().on("add",function(t){var e=t.element;e.provideMap&&e.provideMap(n.getProvidedMap()),o.set(e,e.on("change:visible",function(){n.dispatchEvent({type:"change:childVisible",child:e})}))}),n.getLayers().on("remove",function(t){var e=t.element;e.provideMap&&e.provideMap(null),p.default.Observable.unByKey(o.get(e)),o.delete(e)}),n}return(0,h.default)(e,t),e.prototype.provideMap=function(e){t.prototype.provideMap.call(this,e),this.getLayers().forEach(function(t){t.provideMap&&t.provideMap(e)})},e.prototype.recursiveForEach=function(t){var e=this;this.getLayers().forEach(function(i){t(i,e),i.recursiveForEach&&i.recursiveForEach(t)})},e.prototype.forEachOn=function(t,i){var n=this;this.recursiveForEach(function(o){o.on(t,i),o instanceof e&&(n.getLayers().on("add",function(e){e.element.on(t,i)}),n.getLayers().on("remove",function(e){e.element.un(t,i)}))})},e.prototype.countChildrenVisible=function(){for(var t=this.getLayersArray(),i=0,n=0,o=t.length;n<o;n++)t[n]instanceof e?i+=t[n].countChildrenVisible():t[n].getVisible()&&(i+=1);return i},e.prototype.countChildren=function(){for(var t=this.getLayersArray(),i=0,n=0,o=t.length;n<o;n++)i+=t[n]instanceof e?t[n].countChildren():1;return i},e.prototype.getLayersArray=function(){return this.getLayers().getArray()},e.prototype.getLength=function(){return this.getLayers().getLength()},e.prototype.isParentOf=function(t){var e=!1;return this.recursiveForEach(function(i){t===i&&(e=!0)}),e},e.prototype.getIds=function(){for(var t=[this.get("id")],e=this.getLayersArray(),i=0,n=e.length;i<n;i++)e[i].getIds?t=t.concat(e[i].getIds()):t.push(e[i].get("id"));return t},e.prototype.getAttributions=function(){var t=[];return this.recursiveForEach(function(e){if(e.getVisible()&&e.getSource){var i=e.getSource().getAttributions();i&&(t=t.concat(i))}}),t},e.prototype.removeLayerById=function(t){for(var e=this.getLayers(),i=0;i<e.getLength();i++){if(e.item(i).get("id")===t)return e.removeAt(i);if(e.item(i).removeLayerById){var n=e.item(i).removeLayerById(t);if(n)return n}}},e.prototype.getLayerById=function(t){for(var e=this.getLayers(),i=0;i<e.getLength();i++){if(e.item(i).get("id")===t)return e.item(i);if(e.item(i).getLayerById){var n=e.item(i).getLayerById(t);if(n)return n}}},e.prototype.removeLayer=function(t){var e=this.getLayers().remove(t);return e||this.getLayers().forEach(function(i){!e&&i.removeLayer&&(e=i.removeLayer(t))}),e},e.prototype.getIdsVisibilities=function(){var t={};return this.recursiveForEach(function(e){e.get("id")&&(t[e.get("id")]=e.getVisible())}),t},e.prototype.setIdsVisibilities=function(t){this.recursiveForEach(function(e){e.get("id")&&e.setVisible(t[e.get("id")])})},e}((0,g.mixin)(p.default.layer.Group,d.ProvideMapMixin))},function(t,e,i){t.exports={"default":i(156),__esModule:!0}},function(t,e,i){i(14),i(59),i(157),t.exports=i(23).WeakMap},function(t,e,i){"use strict";var n,o=i(113)(0),s=i(36),a=i(89),r=i(158),l=i(159),c=i(29),u=a.getWeak,h=Object.isExtensible,f=l.ufstore,p={},d=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(c(t)){var e=u(t);return e===!0?f(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(this,t,e)}},m=t.exports=i(112)("WeakMap",d,g,l,!0,!0);7!=(new m).set((Object.freeze||Object)(p),7).get(p)&&(n=l.getConstructor(d),r(n.prototype,g),a.NEED=!0,o(["delete","has","get","set"],function(t){var e=m.prototype,i=e[t];s(e,t,function(e,o){if(c(e)&&!h(e)){this._f||(this._f=new n);var s=this._f[t](e,o);return"set"==t?this:s}return i.call(this,e,o)})}))},function(t,e,i){"use strict";var n=i(42),o=i(93),s=i(94),a=i(58),r=i(45),l=Object.assign;t.exports=!l||i(32)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=a(t),l=arguments.length,c=1,u=o.f,h=s.f;l>c;)for(var f,p=r(arguments[c++]),d=u?n(p).concat(u(p)):n(p),g=d.length,m=0;g>m;)h.call(p,f=d[m++])&&(i[f]=p[f]);return i}:l},function(t,e,i){"use strict";var n=i(74),o=i(89).getWeak,s=i(28),a=i(29),r=i(65),l=i(66),c=i(113),u=i(37),h=c(5),f=c(6),p=0,d=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return h(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var i=m(this,t);i?i[1]=e:this.a.push([t,e])},"delete":function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,s){var c=t(function(t,n){r(t,c,e,"_i"),t._i=p++,t._l=void 0,void 0!=n&&l(n,i,t[s],t)});return n(c.prototype,{"delete":function(t){if(!a(t))return!1;var e=o(t);return e===!0?d(this).delete(t):e&&u(e,this._i)&&delete e[this._i]},has:function(t){if(!a(t))return!1;var e=o(t);return e===!0?d(this).has(t):e&&u(e,this._i)}}),c},def:function(t,e,i){var n=o(s(e),!0);return n===!0?d(t).set(e,i):n[t._i]=i,t},ufstore:d}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ProvideMapMixin=void 0;var o=i(119),s=n(o);e.ProvideMapMixin=function(){function t(){(0,s.default)(this,t)}return t.prototype.provideMap=function(t){this.providedMap_=t},t.prototype.getProvidedMap=function(){return this.providedMap_},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerFactory=e.LayerType=e.SuperType=void 0;var o=i(82),s=n(o),a=i(119),r=n(a),l=i(77),c=n(l),u=i(162),h=i(165),f=i(166),p=i(167),d=i(154),g=i(168),m=i(169),y=i(170),v=i(137),_=i(138),b=i(151),M=i(171),w=e.SuperType={BASELAYER:"baseLayer",FEATURELAYER:"featureLayer",QUERYLAYER:"queryLayer"},x=e.LayerType={CATEGORY:"Category",GEOJSON:"GeoJSON",KML:"KML",WMS:"WMS",TILEWMS:"TileWMS",OSM:"OSM",INTERN:"Intern",EMPTY:"Empty"};e.LayerFactory=function(){function t(e){(0,r.default)(this,t),this.map_=e}return t.prototype.setMapConfigProjection=function(t){this.mapProjection=t},t.prototype.getMapProjection=function(){return this.mapProjection},t.prototype.addLayers=function(t,e,i,n){var o=this;return e.map(function(e){return o.addLayer(t,e,i,n)})},t.prototype.addLayer=function(t,e,i,n){var o=void 0,s=(0,v.copyDeep)(e);if(n||this.configureLayerIsIdOk_(s.id)){if(!s.type)throw new Error("Layer needs a type. Layer id: "+s.id+". Layer title: "+s.title+".");this.configureLayerAvailability_(s),this.configureLayerTitle_(s),i===w.BASELAYER&&(s.groupLayer=this.map_.get("layerConfigurator").getBaseLayerGroup()),s.source&&(this.configureLayerSourceAttribution_(s.source),s.type!==x.INTERN&&this.configureLayerSourceURL_(s.source)),this.configureLayerVisibility_(s);var a=(0,v.take)(s,"style");o=this.createLayer(s.type,s,i,n);var r=function(e){t.getLayers().push(e)};o instanceof c.default.Collection?o.forEach(r):(a&&this.map_.get("styling").styleLayer(o,a),r(o))}return o},t.prototype.superTypeNotSupported=function(t,e){throw new Error(t+" is not configured for superType '"+e+"'")},t.prototype.createLayer=function(t,e,i,n){var o=this;i===w.QUERYLAYER&&(e.hasOwnProperty("apiKey")||b.Debug.error("Each query layer needs to have an apiKey."),e.source.projection=this.mapProjection),e.source&&(e.source.localiser=this.map_.get("localiser"));var a=void 0,r=function(){switch(t){case x.CATEGORY:var s=(0,v.take)(e,"layers");a=new d.GroupLayer(e),o.addLayers(a,s,i,n);var r=!1;a.getLayers().forEach(function(t){r=r||t.get("available")});var l=a.getLayers().getLength();if(r!==!1){if(a.get("available")!==!1&&l>0)return r===!0&&a.set("available",!0),a.setVisible(!0),i===w.BASELAYER&&a.set("activateChildren",!1),{v:a};if(r===!0)return{v:a.getLayers()}}break;case x.EMPTY:i===w.BASELAYER?a=new h.EmptyBaseLayer(e):o.superTypeNotSupported(t,i);break;case x.OSM:e.source=new c.default.source.OSM(e.source),a=i===w.BASELAYER?new f.BaseLayerTile(e):new p.LayerTile(e);break;case x.WMS:e.categoryButtons&&(e.source.params.LAYERS=[]),e.source=new M.ImageWMSSource(e.source),i===w.BASELAYER?a=new u.BaseLayerImage(e):i===w.QUERYLAYER?o.superTypeNotSupported(t,i):a=new u.ImageLayer(e),a.getSource().hasFeatureInfo()&&o.map_.asSoonAs("ready:ui",!0,function(){o.map_.get("showWMSFeatureInfo")&&o.map_.get("showWMSFeatureInfo").addLayer(a)});break;case x.TILEWMS:e.source.tileSize&&(e.source.tileGrid=c.default.tilegrid.createXYZ({tileSize:e.source.tileSize}),delete e.source.tileSize),e.source=new M.TileWMSSource(e.source),i===w.BASELAYER?a=new f.BaseLayerTile(e):i===w.QUERYLAYER?o.superTypeNotSupported(t,i):a=new p.LayerTile(e),a.getSource().hasFeatureInfo()&&o.map_.asSoonAs("ready:ui",!0,function(){o.map_.get("showWMSFeatureInfo")&&o.map_.get("showWMSFeatureInfo").addLayer(a)});break;case x.GEOJSON:o.configureLayerSourceLoadingStrategy_(e.source),e.source.defaultStyle=o.map_.get("styling").getStyle(e.style||"#defaultStyle"),e.source.type="GeoJSON",e.source.bboxProjection=e.source.bboxProjection||o.map_.get("interfaceProjection"),i===w.QUERYLAYER?e.source=new y.QuerySource(e.source):e.source=new m.SourceServerVector(e.source),a=new g.VectorLayer(e);break;case x.KML:o.configureLayerSourceLoadingStrategy_(e.source),e.source.defaultStyle=o.map_.get("styling").getStyle(e.style||"#defaultStyle"),e.source.type="KML",e.source.bboxProjection=e.source.bboxProjection||o.map_.get("interfaceProjection"),i===w.QUERYLAYER?e.source=new y.QuerySource(e.source):e.source=new m.SourceServerVector(e.source),a=new g.VectorLayer(e);break;case x.INTERN:if(e.source.hasOwnProperty("features"))for(var _=0;_<e.source.features.length;_++)e.source.features[_]=o.createFeature(e.source.features[_]);if(e.source=new c.default.source.Vector(e.source),i!==w.QUERYLAYER)return{v:new g.VectorLayer(e)};o.superTypeNotSupported(t,i)}}();if("object"===("undefined"==typeof r?"undefined":(0,s.default)(r)))return r.v;for(var l=this.map_.getModules(),_=0,C=l.length;_<C&&void 0===a;_++)a=l[_].createLayer(e.type,e,i,n);if(!a)throw new Error("layer with type '"+e.type+"' could not be created.");if(i===w.BASELAYER&&e.source){if(a.getSource().getProjection())if(this.mapProjection){if(this.mapProjection&&this.mapProjection!==a.getSource().getProjection())throw new Error("The baseLayers are not in mapProjection or a baseLayers has a different projection than another! This is not supported.")}else this.mapProjection=a.getSource().getProjection()}else i===w.QUERYLAYER&&this.map_.get("urlApi").addApiLayer(a,e.apiKey);return a},t.prototype.configureLayerIsIdOk_=function(t){var e=this.map_.get("layerIds");if(0===t||t&&("string"==typeof t||!isNaN(t))){for(var i=0,n=e.length;i<n;i++)if(t===e[i])return b.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1;return e.push(t),this.map_.set("layerIds",e),!0}return b.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1},t.prototype.configureLayerAvailability_=function(t){return t.available=t.available!==!1,t.alwaysVisible||(t.available=t.hasOwnProperty("availableMobile")?t.availableMobile:t.available,this.map_.get("ignoreLayerAvailability")&&(t.available=!0)),t},t.prototype.configureLayerSourceAttribution_=function(t){return(0,_.checkFor)(t,"attribution")&&(t.attributions=[new c.default.Attribution({html:this.map_.get("localiser").selectL10N(t.attribution)})]),t},t.prototype.configureLayerSourceLoadingStrategy_=function(t){return t.loadingStrategy=t.hasOwnProperty("loadingStrategy")?t.loadingStrategy:this.map_.get("loadingStrategy"),t},t.prototype.configureLayerTitle_=function(t){return t.hasOwnProperty("title")?t.title=this.map_.get("localiser").selectL10N(t.title):t.title="No title given",t},t.prototype.configureLayerSourceURL_=function(t){t.url=this.map_.get("localiser").selectL10N(t.url),t.originalUrl=t.url,t.crossOrigin=null;var e=t.useProxy===!0||void 0===t.useProxy&&!!t.proxy;if(e){if(t.proxy=t.proxy||this.map_.get("proxy"),!t.proxy)throw new Error("No proxy configured. Either configure a local or global proxy if you want to use the option useProxy.");t.url=(0,_.addProxy)(t.url,t.proxy)}return t},t.prototype.configureLayerVisibility_=function(t){return t.alwaysVisible===!0?t.visible=!0:t.visible=t.visible===!0,t},t.prototype.createFeature=function(t){var e=(0,v.copyDeep)(t),i=(0,v.take)(e,"id"),n=(0,v.take)(e,"style"),o=new c.default.format.WKT,s=(0,v.take)(e,"geometryWKT")||(0,v.take)(e,"geographyWKT");e.geometry=o.readGeometry(s).transform(this.map_.get("interfaceProjection"),this.map_.get("mapProjection"));var a=new c.default.Feature(e);return n&&this.map_.get("styling").styleFeature(a,n),i&&a.setId(e.id),a},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerImage=e.ImageLayer=void 0;var o=i(77),s=n(o),a=i(163),r=i(164),l=i(138),c=i(160),u=e.ImageLayer=(0,l.mixin)((0,l.mixin)(s.default.layer.Image,c.ProvideMapMixin),a.LayerLoadProcessCountMixin);e.BaseLayerImage=(0,l.mixin)(u,r.BaseLayerMixin)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerLoadProcessCountMixin=void 0;var o=i(119),s=n(o);e.LayerLoadProcessCountMixin=function(){function t(){(0,s.default)(this,t)}return t.prototype.initialize=function(){var t=this;this.loadProcessCount_=0,this.getSource().on(["vectorloadstart","tileloadstart","imageloadstart"],function(){t.loadProcessCount_+=1}),this.getSource().on(["vectorloadend","vectorloaderror","tileloadend","tileloaderror","imageloadend","imageloaderror"],function(){t.loadProcessCount_-=1})},t.prototype.getLoadProcessCount=function(){return this.loadProcessCount_},t.prototype.resetLoadProcessCount=function(){this.loadProcessCount_=0},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerMixin=void 0;var o=i(119),s=n(o),a=i(154);e.BaseLayerMixin=function(){function t(){(0,s.default)(this,t)}return t.prototype.initialize=function(t){this.groupLayer_=t.groupLayer,this.on("change:available",this.onChangeAvailable.bind(this)),this.on("change:visible",this.onChangeVisible.bind(this)),this.isBaseLayer=!0},t.prototype.onChangeAvailable=function(){!this.get("available")&&this.getVisible()&&this.groupLayer_.recursiveForEach(function(t){t instanceof a.GroupLayer||!t.get("available")||t.setVisible(!0)})},t.prototype.onChangeVisible=function(){var t=this;if(this.getVisible())this.groupLayer_.recursiveForEach(function(e){e instanceof a.GroupLayer||e===t||e.setVisible(!1)});else{var e=!1;this.groupLayer_.recursiveForEach(function(t){t instanceof a.GroupLayer||!t.getVisible()||(e=!0)}),e||this.setVisible(!0)}},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyBaseLayer=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(162);e.EmptyBaseLayer=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.default)(this,e),i.source=new h.default.source.ImageCanvas({state:"ready",canvasFunction:function(){}}),(0,r.default)(this,t.call(this,i))}return(0,c.default)(e,t),e}(f.BaseLayerImage)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerTile=void 0;var n=i(167),o=i(164),s=i(138);e.BaseLayerTile=(0,s.mixin)(n.LayerTile,o.BaseLayerMixin)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerTile=void 0;var o=i(77),s=n(o),a=i(163),r=i(138),l=i(160);e.LayerTile=(0,r.mixin)((0,r.mixin)(s.default.layer.Tile,l.ProvideMapMixin),a.LayerLoadProcessCountMixin)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.VectorLayer=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(163),p=i(138),d=i(160);e.VectorLayer=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,r.default)(this,t.call(this,i));return n.on("change:visible",function(){n.getSource().setRefreshing&&n.getSource().setRefreshing(n.getVisible())}),n.set("mutators",i.mutators||[]),n}return(0,c.default)(e,t),e}((0,p.mixin)((0,p.mixin)(h.default.layer.Vector,d.ProvideMapMixin),f.LayerLoadProcessCountMixin))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SourceServerVector=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(78),p=n(f),d=i(138),g=i(137),m=i(151);e.SourceServerVector=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,g.copy)(i),o=i.url;if(!o)throw new Error("No url specified for the SourceServerVector Object!");delete n.url;var a=i.type||"";delete n.type,n.loader=function(){return c.loader.apply(c,arguments)};var l=i.loadingStrategy||"ALL";"BBOX"===l?!function(){var t=i.bboxRatio||1;if(t<1)throw new Error("The bboxRatio should not be smaller than 1");var e=[0,0,0,0];n.strategy=function(i){if(h.default.extent.containsExtent(e,i))return[i];var n=(i[2]-i[0])/2*(t-1),o=(i[3]-i[1])/2*(t-1);return e=[i[0]-n,i[1]-o,i[2]+n,i[3]+o],[e]}}():n.strategy=h.default.loadingstrategy.all;var c=(0,r.default)(this,t.call(this,n));c.localiser_=i.localiser,c.useProxy_=c.useProxy_=i.useProxy||!i.hasOwnProperty("useProxy")&&i.proxy,c.proxy_=i.proxy,c.loadingStrategy_=l,c.urlTemplate_=o,c.type_=a;var u={};switch(i.hasOwnProperty("defaultStyle")&&(u.defaultStyle=i.defaultStyle),i.hasOwnProperty("extractStyles")&&(u.extractStyles=i.extractStyles),c.cache_=i.cache,c.type_){case"KML":u.showPointNames=!1,c.format_=new h.default.format.KML(u),
c.dataType_="text xml";break;case"GeoJSON":c.format_=new h.default.format.GeoJSON(u),c.dataType_="text json";break;default:throw new Error(c.type_+" is not supported by SourceServerVector!")}return c.refresh_=0,i.hasOwnProperty("refresh")&&c.setRefresh(i.refresh),c.refreshTimeoutId_=null,c.doClear_=!1,c.bboxProjection_=i.bboxProjection,c}return(0,c.default)(e,t),e.prototype.loader=function(t,e,i){var n=this,o=this.urlTemplate_;if("BBOX"===this.loadingStrategy_){var s=h.default.proj.transformExtent(t,i,this.bboxProjection_);o=o.replace(/\{bboxleft}/,s[0].toString()),o=o.replace(/\{bboxbottom}/,s[1].toString()),o=o.replace(/\{bboxright}/,s[2].toString()),o=o.replace(/\{bboxtop}/,s[3].toString()),o=o.replace(/\{resolution}/,e.toString())}this.refresh_&&(this.refreshTimeoutId_&&clearTimeout(this.refreshTimeoutId_),this.refreshTimeoutId_=setTimeout(function(){n.doClear_=!0,n.loader(t,e,i)},this.refresh_)),p.default.ajax({url:o,dataType:this.dataType_,beforeSend:function(){return n.dispatchEvent("vectorloadstart")},success:function(t){n.useProxy_&&/xml$/.test(n.dataType_)&&(t=n.addProxyToHrefTags(t)),n.doClear_&&(n.clear(),n.doClear_=!1);var e=n.format_.readFeatures(t,{featureProjection:i});n.addFeatures(e),n.dispatchEvent("vectorloadend")},error:function(){m.Debug.error("Getting Feature resource failed with url "+o),n.dispatchEvent("vectorloaderror")},cache:this.cache_,headers:this.localiser_?{"Accept-Language":this.localiser_.getCurrentLang()}:{}})},e.prototype.setRefresh=function(t){this.refresh_=t>0?t:0},e.prototype.addProxyToHrefTags=function(t){var e=t.getElementsByTagName("href"),i=void 0,n=void 0;for(i=0,n=e.length;i<n;i++)if(e[i].textContent)e[i].textContent=(0,d.addProxy)(e[i].textContent,this.proxy_);else{if(!e[i].innerHTML)throw new Error("Can't prepend proxy inside KML (textContent and innerHTML missing)");e[i].innerHTML=(0,d.addProxy)(e[i].innerHTML,this.proxy_)}return t},e.prototype.getUrlTemplate=function(){return this.urlTemplate_},e.prototype.setUrlTemplate=function(t){this.urlTemplate_=t},e}(h.default.source.Vector)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySource=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(169),h=i(138);e.QuerySource=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,r.default)(this,t.call(this,i));return n.origUrlTemplate_=n.getUrlTemplate(),n.changedQueryValuesCount_=0,n.setQueryValues(i.queryValues||[]),n}return(0,c.default)(e,t),e.prototype.setQueryValues=function(t){this.queryValues_=t,this.setUrlTemplate((0,h.expandTemplate)(this.origUrlTemplate_,"apiValue",this.queryValues_)),this.changedQueryValuesCount_++,this.changed()},e.prototype.addFeatures=function(e){this.changedQueryValuesCount_>0&&(this.changedQueryValuesCount_--,this.clear()),t.prototype.addFeatures.call(this,e)},e.prototype.getQueryValues=function(){return this.queryValues_},e}(u.SourceServerVector)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TileWMSSource=e.ImageWMSSource=e.WMSFeatureInfoMixin=void 0;var o=i(12),s=n(o),a=i(172),r=n(a),l=i(119),c=n(l),u=i(77),h=n(u),f=i(78),p=n(f),d=i(138),g=e.WMSFeatureInfoMixin=function(){function t(){(0,c.default)(this,t)}return t.prototype.initialize=function(t){this.featureInfo_=void 0!==t.featureInfo,this.featureInfo_&&(this.featureInfoParams_=t.featureInfo.params,this.featureInfoCheckable_=t.featureInfo.checkable,this.featureInfoMutators_=t.featureInfo.mutators,this.featureInfoProxy_=t.featureInfo.proxy),this.originalUrl_=t.originalUrl},t.prototype.getFeatureInfoMutators=function(){return this.featureInfoMutators_||[]},t.prototype.hasFeatureInfo=function(){return this.featureInfo_},t.prototype.isFeatureInfoCheckable=function(){return this.featureInfoCheckable_},t.prototype.updateFeatureInfoParams=function(t){(0,r.default)(this.featureInfoParams_,t)},t.prototype.getFeatureInfo=function(t,e,i){var n=this;return new s.default(function(o,s){var a=n.featureInfoParams_;if(a.QUERY_LAYERS&&0!==a.QUERY_LAYERS.length){var r=void 0!==n.featureInfoProxy_,l=void 0;r&&(l=n.getUrls(),n.setUrl((0,d.addProxy)(n.originalUrl_,n.featureInfoProxy_))),p.default.ajax({url:n.getGetFeatureInfoUrl(t,e,i,a),success:o,error:s,dataType:"text"}),r&&n.setUrls(l)}else o("")})},t}();e.ImageWMSSource=(0,d.mixin)(h.default.source.ImageWMS,g),e.TileWMSSource=(0,d.mixin)(h.default.source.TileWMS,g)},function(t,e,i){t.exports={"default":i(173),__esModule:!0}},function(t,e,i){i(174),t.exports=i(23).Object.assign},function(t,e,i){var n=i(21);n(n.S+n.F,"Object",{assign:i(158)})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.UIConfigurator=void 0;var o=i(105),s=n(o),a=i(82),r=n(a),l=i(12),c=n(l),u=i(119),h=n(u),f=i(77),p=n(f),d=i(78),g=n(d),m=i(176),y=i(184),v=i(185),_=i(207),b=i(210),M=i(213),w=i(151),x=i(137),C=i(138),S=i(259),P=i(285),L=i(183),E=i(308),A=i(152),k=i(429),O=i(430);e.UIConfigurator=function(){function t(e){(0,h.default)(this,t),this.map_=e,this.map_.on("change:mapConfig",this.configureUI.bind(this)),this.initialized_=!1,this.pending_=0}return t.templateCSS=function(t,e){var i=function(t){for(var e=0,i=-1,n=0;n<3;n++)0!==t[n]&&(e++,i=n);return e>1?-1:i},n=/(rgba?\([^)]*\))|(#[0-9a-f]{6})/g;return e=e.map(A.parseCSSColor),t.replace(n,function(t){var n=(0,A.parseCSSColor)(t),o=i(n);if(o>-1){var s=n[3],a=n[o]/120,r=[e[o][0]*a,e[o][1]*a,e[o][2]*a,e[o][3]*s];return"rgba("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}return t})},t.fixUrls=function(t,e){var i=(0,C.urlDirname)(e);return t.replace(/url\("([^"]*)"\)/g,function(t,e){return'url("'+(0,C.urlJoin)(i,e)+'")'})},t.prototype.loadCSS=function(e){var i=this;return new c.default(function(n){e.hasOwnProperty("cssFile")?!function(){var o="g4u-css",s=(0,g.default)("#"+o);0===s.length&&(s=(0,g.default)("<style>",{id:o}),(0,g.default)("head").append(s));var a=i.cssFile_===e.cssFile;a?(e.hasOwnProperty("cssTemplate")&&s.html(t.templateCSS(i.map_.get("cssTemplateFile"),e.cssTemplate)),n()):(g.default.ajax(e.cssFile).done(function(o){s.empty(),o=t.fixUrls(o,e.cssFile),e.hasOwnProperty("cssTemplate")?(i.map_.set("cssTemplateFile",o),s.html(t.templateCSS(o,e.cssTemplate))):s.html(o),n()}).fail(function(){w.Debug.error("Failed to load css file."),n()}),i.cssFile_=e.cssFile)}():n()})},t.prototype.initialize_=function(t){var e=this,i=t.positioning||{};i.viewport=this.map_.getViewport(),this.map_.set("controlPositioning",new m.Positioning(i));var n=new k.FunctionCallBuffer(function(){return e.map_.get("controlPositioning").positionElements()});this.map_.on("ready",function(){return n.call()}),this.map_.asSoonAs("ready",!0,function(){e.map_.on("resize",function(){return n.call()}),e.map_.on("ready:ui",function(){e.map_.get("ready:ui")&&n.call()}),e.map_.on("change:mobile",function(){return n.call()}),e.map_.on("ready:layers",function(){n.call(),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(function(){return n.call()},200)})}),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(function(){return n.call()},200)})}),this.map_.set("mobile",!1),(0,g.default)(this.map_.getTarget()).children().addClass(L.cssClasses.desktop);var o=void 0,s=void 0,a=void 0,r=function(){var t=e.map_.get("mobileLayout"),i=e.map_.get("featurePopup"),n=e.map_.get("showWMSFeatureInfo");t&&t.mediaQueries&&window.matchMedia&&!function(){var r=!1;t.mediaQueries.forEach(function(t){r=r||window.matchMedia(t).matches}),r!==o&&(r?!function(){(0,g.default)(e.map_.getTarget()).children().addClass(L.cssClasses.mobile),(0,g.default)(e.map_.getTarget()).children().removeClass(L.cssClasses.desktop),e.map_.set("mobile",!0),t.hasOwnProperty("animations")&&(a=e.map_.get("move").getAnimations(),e.map_.get("move").setAnimations(t.animations)),t.hasOwnProperty("scaleIcons")&&(s=e.map_.get("scaleIcons"),e.map_.set("scaleIcons",t.scaleIcons));var o=n&&n.getPointVisible();i&&i.getVisible()&&(i.setVisible(!1),setTimeout(function(){i.setVisible(!0),o&&n.setPointVisible(!0)},0))}():!function(){(0,g.default)(e.map_.getTarget()).children().addClass(L.cssClasses.desktop),(0,g.default)(e.map_.getTarget()).children().removeClass(L.cssClasses.mobile),e.map_.set("mobile",!1),a&&e.map_.get("move").setAnimations(a),s&&e.map_.set("scaleIcons",s);var t=n&&n.getPointVisible();i&&i.getVisible()&&(i.setVisible(!1),setTimeout(function(){i.setVisible(!0),t&&n.setPointVisible(!0)},0))}()),o=r}()},l=void 0,c=function(){e.map_.get("responsive")!==l&&(e.map_.get("responsive")?(r(),e.map_.on("resize",r)):e.map_.un("resize",r),l=e.map_.get("responsive"))};this.map_.once("ready",c),this.map_.on("change:responsive",c),this.map_.on("ready:ui",c),this.map_.on("change:scaleIcons",function(t){e.map_.get("styling").forEachStyle(function(i){var n=i.getImage();n&&n.setScale((n.getScale()||1)/t.oldValue*e.map_.get("scaleIcons"))}),e.map_.getLayerGroup().recursiveForEach(function(t){t.changed()})}),this.initialized_=!0},t.prototype.configureUI=function(){var t=this;this.map_.set("ready:ui",!1),this.pending_++;var e=(0,x.copyDeep)(this.map_.get("mapConfig"));this.initialized_||this.initialize_(e);var i=void 0;this.loadCSS(e).then(function(){t.pending_--,0===t.pending_&&!function(){t.map_.removeControls(),t.map_.controlsByName={},t.map_.removeInteractions(),t.map_.get("controlPositioning").init();var n=(0,x.copyDeep)((0,C.getConfig)(e,"move"));n.map=t.map_,t.map_.set("move",new y.Move(n)),t.map_.get("shield")||t.map_.set("shield",new b.Shield({map:t.map_})),t.map_.set("mobileLayout",e.mobileLayout),t.map_.set("responsive",t.map_.get("responsive")||!!t.map_.get("mobileLayout"));var o=!0,a=!1,l=void 0;try{for(var c,u=(0,s.default)(t.map_.getModules());!(o=(c=u.next()).done);o=!0){var h=c.value;h.configureUI(e)}}catch(f){a=!0,l=f}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}t.controlFactory?t.controlFactory.setLocaliser(t.map_.get("localiser")):t.controlFactory=new M.ControlFactory({map:t.map_,localiser:t.map_.get("localiser")}),t.controlFactory.addControls();var d=function t(e){e.setActive&&e.setActive(!1),e.getControls&&e.getControls().forEach(t)};if(t.map_.on("change:mobile",function(){return t.map_.getControls().forEach(d)}),(0,C.checkFor)(e,"interactions")){if((0,C.checkFor)(e.interactions,"doubleClickZoom")&&t.map_.addDefaultInteraction("dblclick",new p.default.interaction.DoubleClickZoom),(0,C.checkFor)(e.interactions,"dragPan"))if(e.kinetic!==!1){var m=-.002,w=.02,L=100;"object"===(0,r.default)(e.kinetic)&&(m=e.kinetic.decay||m,w=e.kinetic.minVelocity||w,L=e.kinetic.delay||L),t.map_.addDefaultInteraction("drag",new p.default.interaction.DragPan({kinetic:new p.default.Kinetic(m,w,L)}))}else t.map_.addDefaultInteraction("drag",new p.default.interaction.DragPan);(0,C.checkFor)(e.interactions,"dragRotate")&&t.map_.addDefaultInteraction("altShiftDrag",new p.default.interaction.DragRotate),(0,C.checkFor)(e.interactions,"dragZoom")&&t.map_.addDefaultInteraction("shiftDrag",new p.default.interaction.DragZoom),(0,C.checkFor)(e.interactions,"keyboardPan")&&t.map_.addDefaultInteraction("keyboard",new p.default.interaction.KeyboardPan),(0,C.checkFor)(e.interactions,"keyboardZoom")&&t.map_.addDefaultInteraction("keyboard",new p.default.interaction.KeyboardZoom),(0,C.checkFor)(e.interactions,"mouseWheelZoom")&&t.map_.addDefaultInteraction("mouseWheel",new p.default.interaction.MouseWheelZoom),(0,C.checkFor)(e.interactions,"pinchRotate")&&t.map_.addDefaultInteraction("pinchRotate",new p.default.interaction.PinchRotate),(0,C.checkFor)(e.interactions,"pinchZoom")&&t.map_.addDefaultInteraction("pinchZoom",new p.default.interaction.PinchZoom)}t.map_.addDefaultInteraction("singleclick",new E.FeatureSelect({condition:function(t){return p.default.events.condition.singleClick(t)&&(0,g.default)(t.originalEvent.target).is("canvas")},style:null,multi:!0}));var A=new E.FeatureSelect({condition:function(t){return p.default.events.condition.pointerMove(t)&&(0,g.default)(t.originalEvent.target).is("canvas")},style:null,multi:!0});t.map_.addDefaultInteraction("pointermove",A);var k=(0,g.default)(t.map_.getViewport());k.find("canvas").on("mouseleave",function(t){(0,g.default)(t.relatedTarget).is("canvas")||A.getFeatures().getLength()>0&&A.deselect(A.getFeatures().getArray())});var I=t.map_.get("featurePopup");I&&I.setMap(null),i=(0,C.getConfig)(e,"featurePopup"),i?(I=new v.FeaturePopup(i),I.setMap(t.map_),t.map_.set("featurePopup",I)):t.map_.set("featurePopup",void 0);var T=t.map_.get("featureTooltip");T&&T.setMap(null),i=(0,C.getConfig)(e,"featureTooltip"),i?(T=new _.FeatureTooltip(i),T.setMap(t.map_),t.map_.set("featureTooltip",T)):t.map_.set("featureTooltip",void 0);var j=t.map_.get("showWMSFeatureInfo");j&&j.setMap(null),i=(0,C.getConfig)(e,"showWMSFeatureInfo"),i?(j=new O.ShowWMSFeatureInfo(i),j.setMap(t.map_),t.map_.set("showWMSFeatureInfo",j)):t.map_.set("showWMSFeatureInfo",void 0),t.map_.get("userActionTracking")&&!function(){var e=t.map_;t.map_.on("moveend",function(){e.dispatchEvent({type:"userActionTracking",action:"move"})}),t.map_.get("baseLayers").getLayers().forEach(function(t){t.on("change:visible",function(){t.getVisible()&&e.dispatchEvent({type:"userActionTracking",action:"baseLayerChange",value:t.get("title")})})}),t.map_.get("featureLayers").recursiveForEach(function(t){t.on("change:visible",function(){t.getVisible()&&e.dispatchEvent({type:"userActionTracking",action:"featureLayerChange",valule:t.get("title")})})}),t.map_.get("featurePopup")&&t.map_.get("featurePopup").on("change:visible",function(){this.getVisible()&&e.dispatchEvent({type:"userActionTracking",action:"popupOpen",value:this.getFeature()})});var i=!0,n=!1,o=void 0;try{for(var a,r=(0,s.default)(t.map_.getModules());!(i=(a=r.next()).done);i=!0){var l=a.value;l.enableUserActionTracking()}}catch(c){n=!0,o=c}finally{try{!i&&r.return&&r.return()}finally{if(n)throw o}}t.map_.getControls().forEach(function(t){t instanceof P.PrintButton&&t.on("click",function(){e.dispatchEvent({type:"userActionTracking",action:"print"})}),t instanceof S.MeasurementButton&&("LineString"===t.getType()?t.on("measurement",function(){e.dispatchEvent({type:"userActionTracking",action:"measureLine"})}):"Polygon"===t.getType()&&t.on("measurement",function(){e.dispatchEvent({type:"userActionTracking",action:"measureArea"})}))})}(),t.map_.set("ready:ui",!0)}()}).catch(function(t){w.Debug.error(t)})},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Positioning=void 0;var o=i(177),s=n(o),a=i(133),r=n(a),l=i(178),c=n(l),u=i(82),h=n(u),f=i(105),p=n(f),d=i(119),g=n(d),m=i(78),y=n(m),v=i(183);e.Positioning=function(){function t(e){(0,g.default)(this,t),this.$viewport_=(0,y.default)(e.viewport),this.padding_=e.padding||5,this.spacing_=e.spacing||10,this.init()}return t.prototype.init=function(){this.all_=[],this.corners_={left:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}},right:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}}},this.order_=0},t.prototype.addControl=function(t,e){var i=this;if(t.get$Element().parents().hasClass("ol-viewport")&&(!e||!e.control.isWindowed())){var n=function(){var n={control:t,order:i.order_++,visible:!0,importance:t.getImportance()},o=t.get$Element();if(t.getCollapsible&&t.getCollapsible()&&!function(){var t=o.width(),e=o.height();o.on("click",function(){o.width()===t&&o.height()===e||(i.positionElements(),t=o.width(),e=o.height())})}(),e)e.control.isWindowed()||(n.importance=t.getImportance(),e.hideableChildren.push(n),i.all_.push(n));else{if(n.float=n.control.getFloat()||["top","left"],"fixed"===n.float)return{v:void 0};var s=void 0,a=void 0,r=void 0;switch(n.float[0]){case"top":a="top",s=n.float[1],"left"===s?r="clockwise":"right"===s&&(r="counterclockwise");break;case"right":s="right",a=n.float[1],"top"===a?r="clockwise":"bottom"===a&&(r="counterclockwise");break;case"bottom":a="bottom",s=n.float[1],r="left"===s?"counterclockwise":"clockwise";break;case"left":s="left",a=n.float[1],r="top"===a?"counterclockwise":"clockwise"}if(i.corners_[s][a][r].push(n),i.all_.push(n),n.control.getControls){n.hideableChildren=[];var l=!0,c=!1,u=void 0;try{for(var h,f=(0,p.default)(n.control.getControls());!(l=(h=f.next()).done);l=!0){var d=h.value;i.addControl(d,n)}}catch(g){c=!0,u=g}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}}}}();if("object"===("undefined"==typeof n?"undefined":(0,h.default)(n)))return n.v}},t.prototype.getCorner_=function(t,e){for(var i=0,n=0,o=this.corners_[t][e].clockwise[i++],s=this.corners_[t][e].counterclockwise[n++];o&&!o.visible;)o=this.corners_[t][e].clockwise[i++];for(;s&&!s.visible;)s=this.corners_[t][e].counterclockwise[n++];if(o||s)return o?s?o.order<s.order?o:s:o:s},t.prototype.getEdge_=function(t){var e=void 0,i=void 0,n=void 0,o=void 0;"top"===t?(e="left",i="right",n=o="top"):"right"===t?(e=i="right",n="top",o="bottom"):"bottom"===t?(e="right",i="left",n=o="bottom"):"left"===t&&(e=i="left",n="bottom",o="top");var s=y.default.grep(this.corners_[e][n].clockwise,function(t){return t.visible}),a=y.default.grep(this.corners_[i][o].counterclockwise,function(t){return t.visible}),r=[],l=this.getCorner_(e,n);return l&&r.push(l),r.push.apply(r,(0,c.default)(s)),r.push.apply(r,(0,c.default)(a)),l=this.getCorner_(i,o),l&&r.push(l),y.default.unique(r)},t.prototype.initElements_=function(){var t=this,e=new r.default(this.all_),i=function i(n){if(n.hideableChildren){var o=!0,s=!1,a=void 0;try{for(var r,l=(0,p.default)(n.hideableChildren);!(o=(r=l.next()).done);o=!0){var c=r.value;i(c)}}catch(u){s=!0,a=u}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}}var h=n.control.get$Element();h.removeClass(v.cssClasses.hidden),h.position({top:0,left:0}),n.visible=h.is(":visible"),n.visible&&(n.control.release&&(n.control.release("height"),n.control.release("width")),n.size=t.measureExpandedElement_(n)),e.delete(n)},n=!0,o=!1,s=void 0;try{for(var a,l=(0,p.default)(e);!(n=(a=l.next()).done);n=!0){var c=a.value;i(c)}}catch(u){o=!0,s=u}finally{try{!n&&l.return&&l.return()}finally{if(o)throw s}}},t.prototype.calculateLength_=function(t,e){var i=2*this.padding_,n=!0,o=!0,s=!1,a=void 0;try{for(var r,l=(0,p.default)(t);!(o=(r=l.next()).done);o=!0){var c=r.value;i+=c.size[e],n?n=!1:i+=this.spacing_}}catch(u){s=!0,a=u}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}return i},t.prototype.positionElements=function(){var t=this,e=this.$viewport_.innerWidth(),i=this.$viewport_.innerHeight();this.initElements_();for(var n=void 0,o=new r.default(["top","left","bottom","right"]);o.size;){if(o.has("top")){var a=this.getEdge_("top"),l=this.calculateLength_(a,"width");for(n=!1;a.length&&l>e&&!this.squeezeElements_(a,"width",l-e);)this.hideLeastImportant_(a),a=this.getEdge_("top"),l=this.calculateLength_(a,"width"),n=!0;n&&(o.add("left"),o.add("right")),o.delete("top")}if(o.has("right")){var c=this.getEdge_("right"),u=this.calculateLength_(c,"height");if(c.length&&u>i){n=!1;for(var h=this.squeezeElements_(c,"height",u-i);c.length&&u>i&&!h;)this.hideLeastImportant_(c),c=this.getEdge_("right"),u=this.calculateLength_(c,"height"),n=!0,h=this.squeezeElements_(c,"height",u-i);n&&(o.add("top"),o.add("bottom"))}o.delete("right")}if(o.has("bottom")){var f=this.getEdge_("bottom"),d=this.calculateLength_(f,"width");for(n=!1;f.length&&d>e&&!this.squeezeElements_(f,"width",d-e);)this.hideLeastImportant_(f),f=this.getEdge_("bottom"),d=this.calculateLength_(f,"width"),n=!0;n&&(o.add("left"),o.add("right")),o.delete("bottom")}if(o.has("left")){var g=this.getEdge_("left"),m=this.calculateLength_(g,"height");for(n=!1;g.length&&m>i&&!this.squeezeElements_(g,"height",m-i);)this.hideLeastImportant_(g),g=this.getEdge_("left"),m=this.calculateLength_(g,"height"),n=!0;n&&(o.add("top"),o.add("bottom")),o.delete("left")}}var _=function(e,i){var n=t.getCorner_(e,i);if(n){var o,a=t.padding_,r=t.padding_,l=n.control.get$Element();l.removeClass(v.cssClasses.hidden).css((o={},(0,s.default)(o,e,a),(0,s.default)(o,i,r),o)),a+=l.outerWidth()+t.spacing_,r+=l.outerHeight()+t.spacing_;var c=void 0,u=void 0;"left"===e&&"top"===i?(c="clockwise",u="counterclockwise"):"right"===e&&"top"===i?(c="counterclockwise",u="clockwise"):"right"===e&&"bottom"===i?(c="clockwise",u="counterclockwise"):"left"===e&&"bottom"===i&&(c="counterclockwise",u="clockwise");var h=!0,f=!1,d=void 0;try{for(var g,m=(0,p.default)(y.default.grep(t.corners_[e][i][c],function(t){return t.visible&&t!==n}));!(h=(g=m.next()).done);h=!0){var _,b=g.value;l=b.control.get$Element(),l.css((_={},(0,s.default)(_,e,a),(0,s.default)(_,i,t.padding_),_)),a+=l.outerWidth()+t.spacing_}}catch(M){f=!0,d=M}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}var w=!0,x=!1,C=void 0;try{for(var S,P=(0,p.default)(y.default.grep(t.corners_[e][i][u],function(t){return t.visible&&t!==n}));!(w=(S=P.next()).done);w=!0){var L,E=S.value;l=E.control.get$Element(),l.css((L={},(0,s.default)(L,e,t.padding_),(0,s.default)(L,i,r),L)),r+=l.outerHeight()+t.spacing_}}catch(M){x=!0,C=M}finally{try{!w&&P.return&&P.return()}finally{if(x)throw C}}}};_("left","top"),_("right","top"),_("right","bottom"),_("left","bottom")},t.prototype.squeezeElements_=function(t,e,i){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.length;if(i===e)s.splice(e,0,t);else{var o=Math.floor((e+i)/2);t.importance<=s[o].importance?n(t,e,o):n(t,o+1,i)}}function o(t){var i=!0,s=!1,a=void 0;try{for(var r,l=(0,p.default)(t);!(i=(r=l.next()).done);i=!0){var c=r.value;c.control.isSqueezable&&c.control.isSqueezable(e)&&n(c),c.hideableChildren&&o(c.hideableChildren)}}catch(u){s=!0,a=u}finally{try{!i&&l.return&&l.return()}finally{if(s)throw a}}}var s=[];o(t);var a=0,r=!0,l=!1,c=void 0;try{for(var u,h=(0,p.default)(s);!(r=(u=h.next()).done);r=!0){var f=u.value;if(a+=f.control.squeezeBy(e,i),a>=i)return!0}}catch(d){l=!0,c=d}finally{try{!r&&h.return&&h.return()}finally{if(l)throw c}}var g=!0,m=!1,y=void 0;try{for(var v,_=(0,p.default)(s);!(g=(v=_.next()).done);g=!0){var b=v.value;b.control.release(e)}}catch(d){m=!0,y=d}finally{try{!g&&_.return&&_.return()}finally{if(m)throw y}}return!1},t.prototype.expandElement_=function(t){var e=[];if(t.hideableChildren){var i=!0,n=!1,o=void 0;try{for(var s,a=(0,p.default)(t.hideableChildren);!(i=(s=a.next()).done);i=!0){var r=s.value;e.push.apply(e,(0,c.default)(this.expandElement_(r)))}}catch(l){n=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}}return t.control.getCollapsible&&t.control.getCollapsible()&&t.control.getCollapsed()&&(t.control.setCollapsed(!1),e.push(t.control)),e},t.prototype.measureExpandedElement_=function(t){var e=this.expandElement_(t),i=t.control.get$Element(),n={width:i.outerWidth(),height:i.outerHeight()},o=!0,s=!1,a=void 0;try{for(var r,l=(0,p.default)(e);!(o=(r=l.next()).done);o=!0){var c=r.value;c.setCollapsed(!0)}}catch(u){s=!0,a=u}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}return n},t.prototype.hideLeastImportant_=function(t){var e=function t(e){var i=void 0,n=!0,o=!1,s=void 0;try{for(var a,r=(0,p.default)(e);!(n=(a=r.next()).done);n=!0){var l=a.value;if(i?l.importance<i.importance&&(i=l):i=l,l.hideableChildren){var c=y.default.grep(l.hideableChildren,function(t){return t.visible});if(c.length){var u=t(c);u.importance<i.importance&&(i=u)}}}}catch(h){o=!0,s=h}finally{try{!n&&r.return&&r.return()}finally{if(o)throw s}}return i},i=e(t);i.visible=!1,i.control.get$Element().addClass(v.cssClasses.hidden)},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(139),s=n(o);e.default=function(t,e,i){return e in t?(0,s.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=i(179),s=n(o);e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,s.default)(t)}},function(t,e,i){t.exports={"default":i(180),__esModule:!0}},function(t,e,i){i(15),i(181),t.exports=i(23).Array.from},function(t,e,i){"use strict";var n=i(24),o=i(21),s=i(58),a=i(67),r=i(68),l=i(48),c=i(182),u=i(69);o(o.S+o.F*!i(76)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,o,h,f=s(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,m=void 0!==g,y=0,v=u(f);if(m&&(g=n(g,d>2?arguments[2]:void 0,2)),void 0==v||p==Array&&r(v))for(e=l(f.length),i=new p(e);e>y;y++)c(i,y,m?g(f[y],y):f[y]);else for(h=v.call(f),i=new p;!(o=h.next()).done;y++)c(i,y,m?a(h,g,[o.value,y],!0):o.value);return i.length=y,i}})},function(t,e,i){"use strict";var n=i(27),o=i(35);t.exports=function(t,e,i){e in t?n.f(t,e,o(0,i)):t[e]=i}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.keyCodes={ESCAPE:27,TAB:9,ARROW_DOWN:40,ARROW_UP:38,ENTER:13,SHIFT:16,CTRL:17},e.cssClasses={mousedown:"g4u-mouse-down",clickable:"g4u-clickable",crosshair:"g4u-crosshair",hidden:"g4u-hidden",arrow:"g4u-arrow",mobile:"g4u-mobile",desktop:"g4u-desktop",move:"g4u-move",active:"g4u-active",mainButton:"g4u-control-mainbutton",hasTooltip:"g4u-has-tooltip",upperCase:"g4u-uppercase",collapsed:"g4u-collapsed"}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Move=void 0;var o=i(119),s=n(o),a=i(77),r=n(a);e.Move=function(){function t(e){(0,s.default)(this,t),this.map_=e.map,this.pixelPadding_=void 0!==e.meterMinSize?50:e.pixelPadding,this.meterMinSize_=void 0!==e.meterMinSize?e.meterMinSize:500,this.animationDuration_=e.animationDuration||2e3,this.animations_=void 0===e.animations||e.animations,this.bouncing_=e.bouncing!==!1}return t.prototype.setAnimations=function(t){this.animations_=t},t.prototype.getAnimations=function(){return this.animations_},t.prototype.toPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new r.default.View({projection:this.map_.getView().getProjection(),center:t,resolution:this.map_.getView().getResolution()}),n=i.calculateExtent(this.map_.getSize().map(function(t){return t-1}));e.padding=[0,0,0,0],this.toExtent(n,e)},t.prototype.toExtent=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t;this.meterMinSize_&&(i=this.bufferUpToMinSize_(t)),(void 0===e.animated?this.animations_:e.animated)?this.animationZoomToExtent_(i,e):this.fit_(i,e)},t.prototype.zoomToPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.toExtent(r.default.extent.boundingExtent([t]),e)},t.prototype.bufferUpToMinSize_=function(t){var e=Math.min(r.default.extent.getWidth(t),r.default.extent.getHeight(t));return e<this.meterMinSize_?r.default.extent.buffer(t,this.meterMinSize_-e/2):t},t.prototype.fit_=function(t,e){"default"===e.padding&&(e.padding=[this.pixelPadding_,this.pixelPadding_,this.pixelPadding_,this.pixelPadding_]),this.map_.getView().fit(r.default.geom.Polygon.fromExtent(t),this.map_.getSize(),e)},t.prototype.animationZoomToExtent_=function(t,e){var i=this,n=this.map_,o=n.getView(),s=n.getSize(),a=o.calculateExtent(s),l=o.getCenter(),c=o.getResolution(),u=r.default.extent.extend(a.slice(0),t),h=r.default.extent.intersects(a,t)?this.animationDuration_/2:this.animationDuration_;if(this.bouncing_&&!r.default.extent.intersects(a,t)){var f=r.default.animation.pan({duration:h,source:l}),p=r.default.animation.zoom({duration:h,resolution:c,easing:r.default.easing.easeOut});n.beforeRender(f,p),this.fit_(u,e),window.setTimeout(function(){var s=r.default.animation.pan({duration:h,source:o.getCenter()}),a=r.default.animation.zoom({duration:h,resolution:o.getResolution(),easing:r.default.easing.easeIn});n.beforeRender(s,a),i.fit_(t,e)},h)}else{var d=r.default.animation.pan({duration:h,source:l}),g=r.default.animation.zoom({duration:h,resolution:c});n.beforeRender(d,g),this.fit_(t,e)}},t.prototype.earlyFastRiseEasing_=function(t){return Math.sqrt(2*t-Math.pow(t,2))},t.prototype.lateFastRiseEasing_=function(t){return 1-Math.sqrt(1-Math.pow(t,2))},t.prototype.earlyFastRiseEasing2_=function(t){return-Math.pow(t-1,2)+1},t.prototype.lateFastRiseEasing2_=function(t){return Math.pow(t,2)},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.FeaturePopup=void 0;var o=i(12),s=n(o),a=i(178),r=n(a),l=i(105),c=n(l),u=i(108),h=n(u),f=i(119),p=n(f),d=i(120),g=n(d),m=i(121),y=n(m),v=i(77),_=n(v),b=i(78),M=n(b),w=i(186),x=n(w),C=i(197),S=i(183),P=i(138),L=i(151);i(205);e.FeaturePopup=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,p.default)(this,e);var n=(0,g.default)(this,t.call(this));return n.className_=i.hasOwnProperty("className")?i.className:"g4u-featurepopup",n.classNameFeatureName_=n.className_+"-feature-name",n.classNameFeatureDescription_=n.className_+"-feature-description",n.$name_=(0,M.default)("<h3>").addClass(n.classNameFeatureName_),n.$description_=(0,M.default)("<p>").addClass(n.classNameFeatureDescription_),n.feature_=null,n.visible_=!1,n.referencingVisibleLayers_=[],n.pixelOffset_=i.hasOwnProperty("offset")?i.offset:[0,0],n.iconSizedOffset_=i.hasOwnProperty("iconSizedOffset")?i.iconSizedOffset:[0,0],n.centerOnPopup_=!i.hasOwnProperty("centerOnPopup")||i.centerOnPopup,n.centerOnPopupInitial_=n.centerOnPopup_,n.animated_=!i.hasOwnProperty("animated")||i.animated,n.$element_=(0,M.default)("<div>").addClass(n.className_).addClass(S.cssClasses.hidden),n.overlay_=new _.default.Overlay({element:n.$element_.get(0),offset:n.pixelOffset_,positioning:i.hasOwnProperty("positioning")?i.positioning:"center-center",stopEvent:!1}),n.overlay_.setOffset(n.pixelOffset_),n.mutators_=new h.default,n.defaultMutators_=i.mutators||[],n.useMutators_=[],n.window_=null,n.map__=null,n}return(0,y.default)(e,t),e.canDisplay=function(t){return!t.get("disabled")&&(t.get("name")||t.get("description"))},e.prototype.setMap=function(t){var i=this,n=this,o=function(t){var e=this;t.feature===n.getFeature()&&!function(){var t=e;n.referencingVisibleLayers_.forEach(function(e){e.getSource()===t&&n.removeReferencingLayer_(e)})}()},s=function(){this.getVisible()===!1?this.getSource().getFeatures().indexOf(n.getFeature())>-1&&n.removeReferencingLayer_(this):this.getSource().getFeatures().indexOf(n.getFeature())>-1&&n.referencingVisibleLayers_.push(this)},a=function(t){t.getSource&&t.getSource().getFeatures&&(t.getSource().on("removefeature",o),t.on("change:visible",s))},r=function(t){t.getSource&&t.getSource().getFeatures&&(t.getSource().un("removefeature",o),t.un("change:visible",s))},l=function(t){a(t.element)},c=function(){t.get("mobile")?i.centerOnPopup_=!1:i.centerOnPopup_=i.centerOnPopupInitial_};this.getMap()&&(this.getMap().removeInteraction(this.featureClick_),this.getMap().getLayerGroup().recursiveForEach(r),this.getMap().getLayerGroup().un("add",l),this.getMap().removeInteraction(this.featureHover_),this.getMap().removeOverlay(this.overlay_),this.getMap().un("change:mobile",c)),t&&(this.window_=new C.Window({draggable:!1,fixedPosition:!0,map:t}),this.window_.get$Body().append(this.$name_).append(this.$description_),this.window_.on("change:visible",function(){i.window_.getVisible()||i.setVisible(!1)}),this.$element_.append(this.window_.get$Element()),t.getDefaultInteractions("singleclick")[0].on("select",function(t){var n=t.selected.filter(e.canDisplay);n.length&&(i.onFeatureClick_(n[0]),t.target.getFeatures().remove(n[0]),t.target.changed())}),t.getDefaultInteractions("pointermove")[0].on("select",function(i){var n=i.selected.filter(e.canDisplay),o=i.deselected.filter(e.canDisplay);n.length?(0,
M.default)(t.getViewport()).addClass(S.cssClasses.clickable):o.length&&(0,M.default)(t.getViewport()).removeClass(S.cssClasses.clickable)}),t.getLayerGroup().recursiveForEach(a),t.getLayerGroup().getLayers().on("add",l),t.addOverlay(this.overlay_),this.$element_.parent().addClass(this.className_+"-container"),this.window_.get$Element().on("mousewheel wheel DOMMouseScroll",function(t){t.stopPropagation(),t.preventDefault()}),c(),t.on("change:mobile",c),t.once("postrender",function(){i.window_.updateSize()})),this.map__=t},e.prototype.onFeatureClick_=function(t){var e=this;this.referencingVisibleLayers_=[],this.getMap().getLayerGroup().recursiveForEach(function(i){i.getVisible()&&i.getSource&&i.getSource().getFeatures&&i.getSource().getFeatures().indexOf(t)>-1&&e.referencingVisibleLayers_.push(i)}),this.setFeature(t),this.setVisible(!0),this.centerOnPopup_&&this.centerMapOnPopup()},e.prototype.removeReferencingLayer_=function(t){this.referencingVisibleLayers_.splice(this.referencingVisibleLayers_.indexOf(t),1),0===this.referencingVisibleLayers_.length&&this.setVisible(!1)},e.prototype.getMap=function(){return this.map__},e.prototype.getFeature=function(){return this.feature_},e.prototype.registerMutator=function(t,e){this.mutators_.set(t,e)},e.prototype.update=function(){var t=this;this.getFeature()&&!function(){var e=t.getFeature(),i=function(){var i=e.get("name"),n=e.get("description");if(i&&t.$name_.html(i),n){var o=!0,s=!1,a=void 0;try{for(var r,l=(0,c.default)(t.useMutators_);!(o=(r=l.next()).done);o=!0){var u=r.value,h=t.mutators_.get(u);h?n=h(n):L.Debug.error("Trying to use unregistered mutator "+u)}}catch(f){s=!0,a=f}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}t.$description_.html(n)}t.getVisible()&&t.window_&&t.window_.updateSize&&t.window_.updateSize()};if(t.$name_.empty(),t.$description_.empty(),i(),e.get("observedByPopup")||(e.on("change:name",i),e.on("change:description",i),e.set("observedByPopup",!0)),t.once("change:feature",function(){e.un("change:name",i),e.un("change:description",i),e.set("observedByPopup",!1)}),!t.getMap().get("mobile")){var n=t.getMap().getView().getResolution();t.addIconSizedOffset(t.getFeature(),n)}t.getVisible()&&setTimeout(function(){return t.window_.updateSize()},0)}()},e.prototype.setFeature=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.feature_;if(n!==t){var o=t.getGeometry(),s=_.default.extent.getCenter(o.getExtent());this.overlay_.setPosition(s),this.feature_&&this.feature_.un("change:geometry",this.geometryChangeHandler_),this.feature_=t,this.useMutators_=[].concat((0,r.default)(this.defaultMutators_),(0,r.default)(i));var a=!0,l=!1,u=void 0;try{for(var h,f=(0,c.default)(this.referencingVisibleLayers_);!(a=(h=f.next()).done);a=!0){var p=h.value;this.useMutators_=this.useMutators_.concat((0,x.default)(p.get("mutators")))}}catch(d){l=!0,u=d}finally{try{!a&&f.return&&f.return()}finally{if(l)throw u}}this.geometryChangeHandler_=function(){e.overlay_.setPosition(_.default.extent.getCenter(e.feature_.getGeometry().getExtent())),e.getVisible()&&e.update()},this.feature_.on("change:geometry",this.geometryChangeHandler_),this.dispatchEvent({type:"change:feature",oldValue:n,key:"feature"}),this.update()}},e.prototype.getVisible=function(){return this.visible_},e.prototype.setVisible=function(t){var e=this,i=this.visible_;i!==t&&(t===!0&&this.getFeature()?(this.$element_.removeClass(S.cssClasses.hidden),this.window_.setVisible(!0)):(this.$element_.addClass(S.cssClasses.hidden),this.window_.setVisible(!1)),this.visible_=t,this.dispatchEvent({type:"change:visible",oldValue:i,key:"visible"})),t&&setTimeout(function(){return e.window_.updateSize()},0)},e.prototype.addIconSizedOffset=function(t,e){var i=this;if(0!==this.iconSizedOffset_[0]||0!==this.iconSizedOffset_[1]){var n=t.getStyleFunction();if(n){var o=n.call(t,e)[0];o&&!function(){var t=o.getImage();t instanceof _.default.style.Icon&&new s.default(function(e){var n=t.getImage();n.complete&&n.src?e():(n.addEventListener("load",function(){i.getMap().render(),i.getMap().once("postcompose",e)}),t.load())}).then(function(){var e=t.getSize(),n=[i.pixelOffset_[0]+i.iconSizedOffset_[0]*e[0]*t.getScale(),i.pixelOffset_[1]+i.iconSizedOffset_[1]*e[1]*t.getScale()];i.overlay_.setOffset(n)})}()}}},e.prototype.centerMapOnPopup=function(t){var e=this;t=void 0===t?this.animated_:t;var i=function(){e.window_.updateSize(),e.getMap().get("move").toPoint(e.getCenter(),{animated:t})};(0,P.finishAllImages)(this.window_.get$Body()).then(function(){e.getMap().getPixelFromCoordinate([0,0])?i():e.getMap().once("postrender",i)})},e.prototype.getCenter=function(){var t=this.overlay_.getOffset(),e=this.getMap().getPixelFromCoordinate(this.overlay_.getPosition());e[0]+=t[0],e[1]+=t[1];var i=this.overlay_.getPositioning().split("-"),n=this.$element_.outerWidth(),o=this.$element_.outerHeight();return"left"===i[1]&&(e[0]+=n/2),"right"===i[1]&&(e[0]-=n/2),"top"===i[0]&&(e[1]+=o/2),"bottom"===i[0]&&(e[1]-=o/2),this.getMap().getCoordinateFromPixel(e)},e}(_.default.Object)},function(t,e,i){function n(t){var e=t?t.length:0;return e?o(t,1):[]}var o=i(187);t.exports=n},function(t,e,i){function n(t,e,i,a,r){var l=-1,c=t.length;for(i||(i=s),r||(r=[]);++l<c;){var u=t[l];e>0&&i(u)?e>1?n(u,e-1,i,a,r):o(r,u):a||(r[r.length]=u)}return r}var o=i(188),s=i(189);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}t.exports=i},function(t,e,i){function n(t){return a(t)||s(t)||!!(r&&t&&t[r])}var o=i(190),s=i(193),a=i(196),r=o?o.isConcatSpreadable:void 0;t.exports=n},function(t,e,i){var n=i(191),o=n.Symbol;t.exports=o},function(t,e,i){var n=i(192),o="object"==typeof self&&self&&self.Object===Object&&self,s=n||o||Function("return this")();t.exports=s},function(t,e){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(e,function(){return this}())},function(t,e,i){var n=i(194),o=i(195),s=Object.prototype,a=s.hasOwnProperty,r=s.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!r.call(t,"callee")};t.exports=l},function(t,e,i){function n(t){return o(t)&&r.call(t)==s}var o=i(195),s="[object Arguments]",a=Object.prototype,r=a.toString;t.exports=n},function(t,e){function i(t){return null!=t&&"object"==typeof t}t.exports=i},function(t,e){var i=Array.isArray;t.exports=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Window=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(78),p=n(f),d=i(138),g=i(198),m=i(183),y=i(199),v=n(y);i(200);e.Window=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,r.default)(this,t.call(this));n.className_=i.hasOwnProperty("className")?i.className:"g4u-window",n.classNameBody_=n.className_+"-content",n.classNameButtonClose_=n.className_+"-button-close",n.$element_=(0,p.default)("<div>").addClass(n.className_).on("click",function(t){return t.stopPropagation()}),n.$positionWrapper_=(0,p.default)("<div>").addClass(n.className_+"-inner-position"),n.$scrollWrapper_=(0,p.default)("<div>").addClass(n.className_+"-scroll-wrap"),n.$body_=(0,p.default)("<div>").addClass(n.classNameBody_),n.$button_=(0,p.default)("<button>").addClass(n.classNameButtonClose_),n.$element_.append(n.$button_).append(n.$positionWrapper_.append(n.$scrollWrapper_.append(n.$body_))).addClass(m.cssClasses.hidden),i.hasOwnProperty("id")&&n.$element_.attr("id",i.id),n.$button_.on("click",function(){return n.setVisible(!1)}),n.draggable_=!i.hasOwnProperty("draggable")||i.draggable,n.fixedPosition_=i.fixedPosition===!0,n.map_=i.map,n.$context_=(0,p.default)(n.map_.getTarget());var o=n.draggable_;return n.map_.asSoonAs("ready",!0,function(){n.map_.on("resize",function(){return n.updateSize(!0)});var t=function(){n.map_.get("mobile")?(n.draggable_=!1,n.setIScrollEnabled_(!0)):(n.draggable_=o,n.setIScrollEnabled_(!1)),n.updateSize()};t(),n.map_.on("change:mobile",t)}),n.makeWindowDraggable_(),n.$element_.on("mousedown",function(){n.getInFront()}),n.visible_=!1,n.setVisible(!!i.hasOwnProperty("visible")&&i.visible),n.shieldActivated_=!1,n}return(0,c.default)(e,t),e.prototype.makeWindowDraggable_=function(){var t=this,e=0,i=0,n=!1,o=!1;this.$context_.on("mousemove",function(s){o&&(s.clientY-i===t.$element_.offset().top&&s.clientX-e===t.$element_.offset().left||(n=!0,t.$element_.css("position","absolute"),t.$element_.offset({top:s.clientY-i,left:s.clientX-e}),s.stopPropagation()))}),this.$button_.on("mousedown",function(n){!(0,p.default)(n.target).is("input, textarea")&&t.draggable_&&(e=n.clientX-t.$element_.offset().left,i=n.clientY-t.$element_.offset().top,o=!0)}),this.$element_.get(0).addEventListener("click",function(e){n&&t.draggable_&&(n=!1,e.preventDefault(),e.stopPropagation())},!0),this.$context_.on("mouseup",function(){o=!1})},e.prototype.setIScrollEnabled_=function(t){t?this.scroll_||(this.scroll_=new v.default(this.$scrollWrapper_.get(0),{mouseWheel:!0,scrollbars:!0,momentum:!1,interactiveScrollbars:!0,click:!0,keyBindings:!0,disablePointer:!0,disableTouch:!0,disableMouse:!1,eventPassthrough:!1})):(this.scroll_&&(this.scroll_.scrollTo(0,0,0),this.scroll_.destroy()),this.scroll_=null)},e.prototype.getInFront=function(){(0,g.getInFront)(this.$element_,this.$context_)},e.prototype.setVisible=function(t){var e=this.visible_;e!==t&&(t?(this.$element_.removeClass(m.cssClasses.hidden),this.map_.get("mobile")?(this.map_.get("shield").setActive(!0),this.map_.get("shield").add$OnTop(this.$element_),this.shieldActivated_=!0):this.map_.get("shield").getActive()||this.getInFront()):(this.shieldActivated_&&(this.map_.get("shield").setActive(!1),this.map_.get("shield").remove$OnTop(this.$element_),this.shieldActivated_=!1),this.$element_.addClass(m.cssClasses.hidden),this.$element_.css("top",""),this.$element_.css("left","")),this.visible_=t,this.updateSize(!0),this.dispatchEvent({type:"change:visible",oldValue:e,newValue:t}))},e.prototype.getVisible=function(){return this.visible_},e.prototype.get$Body=function(){return this.$body_},e.prototype.get$Element=function(){return this.$element_},e.prototype.updateSize=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;if(this.getVisible()){if(this.map_.get("mobile")){e=10;var i=this.$context_.innerWidth()-2*e,n=this.$context_.innerHeight()-2*e;this.get$Body().css("max-height",""),this.$element_.css("width",i),this.$element_.css("height",n);var o=this.$context_.offset();this.$element_.css("left",e+o.left),this.$element_.css("top",e+o.top)}else{e=50;var s=this.$context_.innerWidth()-2*e,a=this.$context_.innerHeight()-2*e,r=this.$element_.css("position"),l=this.$element_.css("top"),c=this.$element_.css("left");this.$element_.css("position",""),this.$element_.css("top",""),this.$element_.css("left",""),this.$element_.css("width",""),this.$element_.css("height",""),this.get$Body().css("max-height",""),this.$element_.css("position","fixed"),this.$element_.css("top","0px"),this.$element_.css("left","0px"),this.$element_.css("width","auto"),this.$element_.css("height","auto");var u=this.$element_.outerWidth(),h=this.$element_.outerHeight(),f=Math.min(u,s),p=Math.min(h,a);this.$element_.css("width",f),this.$element_.css("height",p);var g=parseInt(this.get$Body().css("padding-top").split("px")[0])+parseInt(this.get$Body().css("padding-bottom").split("px")[0]);if(this.get$Body().css("max-height",this.get$Element().innerHeight()-this.$button_.outerHeight()-g),this.$element_.css("position",r),t&&!this.fixedPosition_){l=this.$element_.css("top"),c=this.$element_.css("left");var y=(0,d.offset)(this.$context_,this.$element_),v=(this.$context_.width()-f)/2,_=e,b="auto"===l?0:parseInt(l),M="auto"===c?0:parseInt(c);this.$element_.css("top",b+y.top+_),this.$element_.css("left",M+y.left+v)}else this.$element_.css("top",l),this.$element_.css("left",c)}0===this.get$Body().children(":not(."+m.cssClasses.hidden+")").length&&this.$element_.addClass(m.cssClasses.hidden),this.scroll_&&this.scroll_.refresh()}},e}(h.default.Object)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var i=0;e=e||(0,r.default)(document);var n=!1;t.parents().each(function(i,s){(0,r.default)(s).is(e)||"absolute"===(0,r.default)(s).css("position")&&(n=!0,o((0,r.default)(s),e),o(t,(0,r.default)(s)))}),n||(e.find("*:visible").not(function(e,i){return i!==t[0]&&(0,r.default)(i).parents().is(t)}).each(function(){var t=parseInt((0,r.default)(this).css("z-index"),10);t&&i<t&&(i=t)}),t.css("z-index",i+1))}function s(t,e){t.addClass(l.cssClasses.hasTooltip).append((0,r.default)('<span role="tooltip">').html(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.getInFront=o,e.addTooltip=s;var a=i(78),r=n(a),l=i(183)},function(t,e,i){var n;!function(o,s,a){function r(t,e){this.wrapper="string"==typeof t?s.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!h.hasPointer,disableTouch:h.hasPointer||!h.hasTouch,disableMouse:h.hasPointer||h.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"==typeof o.onmousedown};for(var i in e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function l(t,e,i){var n=s.createElement("div"),o=s.createElement("div");return i===!0&&(n.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==t?(i===!0&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(i===!0&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",e||(n.style.pointerEvents="none"),n.appendChild(o),n}function c(t,e){this.wrapper="string"==typeof e.el?s.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in e)this.options[i]=e[i];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(o,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.addEvent(o,h.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(o,"mouseup",this))),this.options.fade){this.wrapperStyle[h.style.transform]=this.scroller.translateZ;var n=h.style.transitionDuration;this.wrapperStyle[n]=h.isBadAndroid?"0.0001ms":"0ms";var a=this;h.isBadAndroid&&u(function(){"0.0001ms"===a.wrapperStyle[n]&&(a.wrapperStyle[n]="0s")}),this.wrapperStyle.opacity="0"}}var u=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(t){o.setTimeout(t,1e3/60)},h=function(){function t(t){return n!==!1&&(""===n?t:n+t.charAt(0).toUpperCase()+t.substr(1))}var e={},i=s.createElement("div").style,n=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,o=e.length;n<o;n++)if(t=e[n]+"ransform",t in i)return e[n].substr(0,e[n].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(t,e){for(var i in e)t[i]=e[i]},e.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},e.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},e.prefixPointerEvent=function(t){return o.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},e.momentum=function(t,e,i,n,o,s){var r,l,c=t-e,u=a.abs(c)/i;return s=void 0===s?6e-4:s,r=t+u*u/(2*s)*(c<0?-1:1),l=u/s,r<n?(r=o?n-o/2.5*(u/8):n,c=a.abs(r-t),l=c/u):r>0&&(r=o?o/2.5*(u/8):0,c=a.abs(t)+r,l=c/u),{destination:a.round(r),duration:l}};var r=t("transform");return e.extend(e,{hasTransform:r!==!1,hasPerspective:t("perspective")in i,hasTouch:"ontouchstart"in o,hasPointer:!(!o.PointerEvent&&!o.MSPointerEvent),hasTransition:t("transition")in i}),e.isBadAndroid=function(){var t=o.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var e=t.match(/Safari\/(\d+.\d)/);return!(e&&"object"==typeof e&&e.length>=2)||parseFloat(e[1])<535.19}return!1}(),e.extend(e.style={},{transform:r,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),e.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},e.addClass=function(t,i){if(!e.hasClass(t,i)){var n=t.className.split(" ");n.push(i),t.className=n.join(" ")}},e.removeClass=function(t,i){if(e.hasClass(t,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");t.className=t.className.replace(n," ")}},e.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},e.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return a.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*a.pow(2,-10*t)*a.sin((t-e/4)*(2*a.PI)/e)+1}}}),e.tap=function(t,e){var i=s.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},e.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=s.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},e}();r.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=h.eventType[t.type]){var e;if(e=t.which?t.button:t.button<2?0:4==t.button?1:2,0!==e)return}if(this.enabled&&(!this.initiated||h.eventType[t.type]===this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var i,n=t.touches?t.touches[0]:t;this.initiated=h.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,i=this.getComputedPosition(),this._translate(a.round(i.x),a.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&h.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,o,s=t.touches?t.touches[0]:t,r=s.pageX-this.pointX,l=s.pageY-this.pointY,c=h.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=r,this.distY+=l,n=a.abs(this.distX),o=a.abs(this.distY),!(c-this.endTime>300&&n<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(n>o+this.options.directionLockThreshold?this.directionLocked="h":o>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}r=this.hasHorizontalScroll?r:0,l=this.hasVerticalScroll?l:0,e=this.x+r,i=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+r/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:i>0?0:this.maxScrollY),this.directionX=r>0?-1:r<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&h.eventType[t.type]===this.initiated){this.options.preventDefault&&!h.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,n=(t.changedTouches?t.changedTouches[0]:t,h.getTime()-this.startTime),o=a.round(this.x),s=a.round(this.y),r=a.abs(o-this.startX),l=a.abs(s-this.startY),c=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,s),!this.moved)return this.options.tap&&h.tap(t,this.options.tap),this.options.click&&h.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&r<100&&l<100)return void this._execEvent("flick");if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?h.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},i=this.hasVerticalScroll?h.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},o=e.destination,s=i.destination,c=a.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var f=this._nearestSnap(o,s);this.currentPage=f,c=this.options.snapSpeed||a.max(a.max(a.min(a.abs(o-f.x),1e3),a.min(a.abs(s-f.y),1e3)),300),o=f.x,s=f.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}return o!=this.x||s!=this.y?((o>0||o<this.maxScrollX||s>0||s<this.maxScrollY)&&(u=h.ease.quadratic),void this.scrollTo(o,s,c,u)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||h.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var o=this.options.useTransition&&n.style;!i||o?(o&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,n,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=h.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,i===!0&&(i=a.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=a.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=i||0,s.top-=n||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?a.max(a.abs(this.x-s.left),a.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,o)}},_transitionTime:function(t){t=t||0;var e=h.style.transitionDuration;if(this.scrollerStyle[e]=t+"ms",!t&&h.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;u(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[h.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=a.round(t),e=a.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(t){var e=t?h.removeEvent:h.addEvent,i=this.options.bindToWrapper?this.wrapper:o;e(o,"orientationchange",this),e(o,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,h.prefixPointerEvent("pointerdown"),this),e(i,h.prefixPointerEvent("pointermove"),this),e(i,h.prefixPointerEvent("pointercancel"),this),e(i,h.prefixPointerEvent("pointerup"),this)),h.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,i=o.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[h.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_initIndicators:function(){function t(t){if(s.indicators)for(var e=s.indicators.length;e--;)t.call(s.indicators[e])}var e,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,o=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:l("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),o.push(e)),this.options.scrollX&&(e={el:l("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),o.push(e))),this.options.indicators&&(o=o.concat(this.options.indicators));for(var a=o.length;a--;)this.indicators.push(new c(this,o[a]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,i,n,o,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s.options.snap||s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return n=this.currentPage.pageX,o=this.currentPage.pageY,e>0?n--:e<0&&n++,i>0?o--:i<0&&o++,
void this.goToPage(n,o);n=this.x+a.round(this.hasHorizontalScroll?e:0),o=this.y+a.round(this.hasVerticalScroll?i:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=i>0?-1:i<0?1:0,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(n,o,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,o,s,r=0,l=0,c=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=a.round(u/2),n=a.round(h/2);c>-this.scrollerWidth;){for(this.pages[r]=[],t=0,o=0;o>-this.scrollerHeight;)this.pages[r][t]={x:a.max(c,this.maxScrollX),y:a.max(o,this.maxScrollY),width:u,height:h,cx:c-i,cy:o-n},o-=h,t++;c-=u,r++}else for(s=this.options.snap,t=s.length,e=-1;r<t;r++)(0===r||s[r].offsetLeft<=s[r-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),c=a.max(-s[r].offsetLeft,this.maxScrollX),o=a.max(-s[r].offsetTop,this.maxScrollY),i=c-a.round(s[r].offsetWidth/2),n=o-a.round(s[r].offsetHeight/2),this.pages[l][e]={x:c,y:o,width:s[r].offsetWidth,height:s[r].offsetHeight,cx:i,cy:n},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=a.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=a.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||a.max(a.max(a.min(a.abs(this.x-this.startX),1e3),a.min(a.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,o=0;if(a.abs(t-this.absStartX)<this.snapThresholdX&&a.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<n;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;o<n;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),o==this.currentPage.pageY&&(o+=this.directionY,o<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),e=this.pages[0][o].y),{x:t,y:e,pageX:i,pageY:o}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,s=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||a.max(a.max(a.min(a.abs(o-this.x),1e3),a.min(a.abs(s-this.y),1e3)),300):i,this.currentPage={x:o,y:s,pageX:t,pageY:e},this.scrollTo(o,s,i,n)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(t){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];h.addEvent(o,"keydown",this),this.on("destroy",function(){h.removeEvent(o,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,o=i?this.currentPage.pageY:this.y,s=h.getTime(),r=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(a.round(e.x),a.round(e.y)),this.isInTransition=!1),this.keyAcceleration=s-r<200?a.min(this.keyAcceleration+l,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:o+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:o-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,o=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,o=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(n,o);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,o,0),this.keyTime=s}},_animate:function(t,e,i,n){function o(){var f,p,d,g=h.getTime();return g>=c?(s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(g=(g-l)/i,d=n(g),f=(t-a)*d+a,p=(e-r)*d+r,s._translate(f,p),void(s.isAnimating&&u(o)))}var s=this,a=this.x,r=this.y,l=h.getTime(),c=l+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},c.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(o,"touchmove",this),h.removeEvent(o,h.prefixPointerEvent("pointermove"),this),h.removeEvent(o,"mousemove",this),h.removeEvent(o,"touchend",this),h.removeEvent(o,h.prefixPointerEvent("pointerup"),this),h.removeEvent(o,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(o,"touchmove",this),this.options.disablePointer||h.addEvent(o,h.prefixPointerEvent("pointermove"),this),this.options.disableMouse||h.addEvent(o,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,o,s=t.touches?t.touches[0]:t;h.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,n=this.x+e,o=this.y+i,this._pos(n,o),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),h.removeEvent(o,"touchmove",this),h.removeEvent(o,h.prefixPointerEvent("pointermove"),this),h.removeEvent(o,"mousemove",this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||a.max(a.max(a.min(a.abs(this.scroller.x-e.x),1e3),a.min(a.abs(this.scroller.y-e.y),1e3)),300);this.scroller.x==e.x&&this.scroller.y==e.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=h.style.transitionDuration;if(this.indicatorStyle[e]=t+"ms",!t&&h.isBadAndroid){this.indicatorStyle[e]="0.0001ms";var i=this;u(function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[h.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=a.max(a.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=a.max(a.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&a.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&a.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=a.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=a.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=a.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=a.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?a.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?a.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[h.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},r.utils=h,"undefined"!=typeof t&&t.exports?t.exports=r:(n=function(){return r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n)))}(window,document,Math)},function(t,e){},,,,,200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureTooltip=void 0;var o=i(119),s=n(o),a=i(77),r=n(a),l=i(78),c=n(l),u=i(183);i(208);var h=i(138);e.FeatureTooltip=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,t),this.className_=e.hasOwnProperty("className")?e.className:"g4u-featuretooltip",this.$element_=(0,c.default)("<span></span>").addClass(this.className_).addClass(u.cssClasses.hidden),this.overlay_=new r.default.Overlay({element:this.$element_.get(0),offset:e.hasOwnProperty("offset")?e.offset:[0,0],positioning:e.hasOwnProperty("positioning")?e.positioning:"center-center",stopEvent:!1}),this.feature_=null,this.$element_.parent().addClass(this.className_+"-container")}return t.filter_=function(t){return!t.get("disabled")&&t.get("name")},t.prototype.setMap=function(e){var i=this;if(this.getMap()&&this.getMap().removeOverlay(this.overlay_),e){e.addOverlay(this.overlay_);var n=e.getDefaultInteractions("pointermove")[0];n.on("select",function(e){var n=e.selected.filter(t.filter_);n.length?i.setFeature(n[0]):i.setFeature(null)}),this.map_=e}},t.prototype.getFeature=function(){return this.feature_},t.prototype.setFeature=function(t){if(t){this.$element_.html((0,h.html2Text)(t.get("name")));var e=t.getGeometry(),i=r.default.extent.getCenter(e.getExtent());this.overlay_.setPosition(i),this.$element_.removeClass(u.cssClasses.hidden)}else this.$element_.addClass(u.cssClasses.hidden);this.feature_=t},t.prototype.getMap=function(){return this.map_},t}()},200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Shield=void 0;var o=i(108),s=n(o),a=i(119),r=n(a),l=i(120),c=n(l),u=i(121),h=n(u),f=i(77),p=n(f),d=i(78),g=n(d),m=i(183),y=i(198);i(211);e.Shield=function(t){function e(i){(0,r.default)(this,e);var n=(0,c.default)(this,t.call(this));return n.className_=i.className||"g4u-shield",n.map_=i.map,n.$context_=(0,g.default)(n.map_.getTarget()),n.$element_=(0,g.default)("<div>").addClass(n.className_),n.$context_.append(n.$element_),n.setActive(!!i.hasOwnProperty("active")&&i.active),n.$element_.on("keydown",function(t){t.which===m.keyCodes.ESCAPE&&n.getActive()&&n.setActive(!1)}),n.elementsOnTop_=new s.default,n}return(0,h.default)(e,t),e.prototype.setActive=function(t){var e=this.active_;e!==t&&(t?(this.$element_.removeClass(m.cssClasses.hidden),(0,y.getInFront)(this.$element_,this.$context_)):this.$element_.addClass(m.cssClasses.hidden),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:e,key:"active"}))},e.prototype.getActive=function(){return this.active_},e.prototype.add$OnTop=function(t){var e=t,i=t.parents().filter(".g4u-window");i.length>0&&(e=i);var n=e.parent();this.elementsOnTop_.set(t[0],{$actualElement:e,$oldParent:n,oldIndex:n.children().index(t)}),this.$element_.append(e)},e.prototype.remove$OnTop=function(t){var e=this.elementsOnTop_.get(t[0]);this.elementsOnTop_.delete(t[0]),0===e.oldIndex?e.$oldParent.prepend(e.$actualElement):e.$oldParent.children().eq(e.oldIndex-1).after(e.$actualElement)},e.prototype.get$ElementsInFront=function(){return this.$element_.children()},e}(p.default.Object)},200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ControlFactory=void 0;var o=i(108),s=n(o),a=i(119),r=n(a),l=i(77),c=n(l),u=i(214),h=i(222),f=i(228),p=i(236),d=i(242),g=i(250),m=i(259),y=i(264),v=i(267),_=i(271),b=i(278),M=i(281),w=i(285),x=i(289),C=i(292),S=i(273),P=i(138),L=i(137),E=i(81),A=i(151),k=i(296),O=i(297),I=i(300),T=i(303);e.ControlFactory=function(){function t(e){(0,r.default)(this,t),this.localiser_=e.localiser,this.map_=e.map,this.activeGroups_=new s.default}return t.prototype.getPositioning=function(){return this.map_.get("controlPositioning")},t.prototype.createControl=function(t,e){switch(t){case"mousePosition":return e.projection=e.projection||this.map_.get("interfaceProjection"),new O.MousePosition(e);case"attribution":return new u.Attribution(e);case"zoom":return new p.CombinedZoom(e);case"scaleLine":return new I.ScaleLine(e);case"logo":return new x.Logo(e);case"linkButton":return new M.LinkButton(e);case"mobileControls":return new _.MobileControls(e);case"overviewMap":var i=e.projection||this.map_.get("mapProjection");return e.view=new c.default.View({projection:i}),e.layers=this.map_.get("baseLayers").getLayers(),new T.OverviewMap(e);case"infoButton":return new S.WindowDecorator({component:new b.InfoButton(e)});case"arrowButtons":var n=this.map_.get("mapConfig");return n.view&&(n.view.center&&(e.initCenter=c.default.proj.transform(n.view.center,this.map_.get("interfaceProjection"),this.map_.get("mapProjection"))),n.view.zoom&&(e.initZoom=n.view.zoom)),new f.ArrowButtons(e);case"layerSelector":return new d.LayerSelector(e);case"geolocationButton":return new g.GeolocationButton(e);case"languageSwitcherButton":return new y.LanguageSwitcherButton(e);case"languageSwitcherMenu":return new v.LanguageSwitcherMenu(e);case"printButton":return new w.PrintButton(e);case"distanceMeasurementButton":return e.className=e.className||"g4u-distance-measurement",e.type="LineString",e.dimension=1,new S.WindowDecorator({component:new m.MeasurementButton(e)});case"areaMeasurementButton":return e.className=e.className||"g4u-area-measurement",e.type="Polygon",e.dimension=2,new S.WindowDecorator({component:new m.MeasurementButton(e)});case"helpButton":return e.configControls=this.map_.get("mapConfig").controls,new S.WindowDecorator({component:new C.HelpButton(e)});case"toolbox":return e.className=e.className||"g4u-toolbox",new h.ComposedControl(e);case"layerMenu":return e.className=e.className||"g4u-layermenu",new h.ComposedControl(e)}},t.prototype.addControlTo=function(t,e){var i=(0,L.copyDeep)((0,P.asObject)(this.controlsConfig[e])),n=i.controlType||e;i.controlName=e,i.localiser=this.localiser_,!i.hasOwnProperty("importance")&&t.getImportance&&(i.importance=t.getImportance());for(var o=this.createControl(n,i,t),s=this.map_.getModules(),a=0,r=s.length;a<r&&void 0===o;a++)o=s[a].createControl(n,i,t);if(o)i.activeGroup&&(this.activeGroups_.has(i.activeGroup)||this.activeGroups_.set(i.activeGroup,new k.ActiveGroup),this.activeGroups_.get(i.activeGroup).addControl(o)),this.map_.controlsByName[e]?this.map_.controlsByName[e].push(o):this.map_.controlsByName[e]=[o],t.addControl(o),i.contains&&this.addControlMultipleInternal_(o,i.contains),o.rewire&&o.rewire(),t instanceof E.G4UMap&&this.getPositioning().addControl(o);else if(void 0===o)throw new Error("Unrecognized control type "+n+", maybe you did forget to set the property type of the control?")},t.prototype.addControlMultipleInternal_=function(t,e){var i=this;e.forEach(function(e){A.Debug.tryOrThrow(function(){i.addControlTo(t,e)})})},t.prototype.addControls=function(){this.controlsConfig=this.map_.get("mapConfig").controls,(0,P.checkFor)(this.controlsConfig,"onMap")&&this.addControlMultipleInternal_(this.map_,this.controlsConfig.onMap)},t.prototype.setLocaliser=function(t){this.localiser_=t},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Attribution=void 0;var o=i(105),s=n(o),a=i(108),r=n(a),l=i(119),c=n(l),u=i(120),h=n(u),f=i(121),p=n(f),d=i(78),g=n(d),m=i(215),y=i(217),v=i(138),_=i(183),b=i(198);i(218);e.Attribution=function(t){function e(i){(0,c.default)(this,e),i.className=i.className||"g4u-attribution",i.singleButton=!1,i.element=(0,g.default)("<div>").get(0);var n=(0,h.default)(this,t.call(this,i));return n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("Attribution tipLabel")),n.visibleAttributions_=new r.default,n.createStaticHTML(i),n.setCollapsed(i.collapsed===!0),n}return(0,p.default)(e,t),e.prototype.setCollapsed=function(t){var e=this.collapsed_;e!==t&&(this.collapsed_=t,this.dispatchEvent({type:"change:collapsed",oldValue:e}),this.get$Element().toggleClass(_.cssClasses.collapsed,t))},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.createStaticHTML=function(t){var e=this,i=(0,g.default)("<button>").on("click",function(){e.setCollapsed(!e.getCollapsed())});if((0,b.addTooltip)(i,this.getTipLabel()),this.$list_=(0,g.default)("<ul>"),this.get$Element().append(i).append(this.$list_),this.showPoweredBy_=t.poweredBy!==!1,this.showPoweredBy_){var n=void 0===t.poweredBy?'<a href="https://github.com/KlausBenndorf/guide4you" target="_blank">Guide4You</a>':t.poweredBy;this.$poweredBy_=(0,g.default)("<li>").append(n).addClass(this.className_+"-poweredby")}},e.prototype.updateList=function(){var t=this;this.$list_.empty(),this.showPoweredBy_&&this.$list_.append(this.$poweredBy_),this.visibleAttributions_.forEach(function(e,i){var n=void 0;n=1===e.length?e[0]:e.slice(0,-1).join(", ")+" & "+e[e.length-1],n+=": "+i,t.$list_.append((0,g.default)("<li>").html(n))})},e.prototype.forEachLayer=function(t){var e=this;t.getLayers?(this.listenAt(t.getLayers()).on("add",function(t){e.forEachLayer(t.element),e.updateList()}).on("remove",function(t){e.detachFrom(t.element),e.updateList()}),t.getLayers().forEach(function(t){return e.forEachLayer(t)})):(t.getVisible()&&this.addLayer(t),t.on("change:visible",function(){t.getVisible()?e.addLayer(t):e.removeLayer(t),e.updateList()}))},e.prototype.addLayer=function(t){var e=t.getSource().getAttributions(),i=t.isBaseLayer?this.getLocaliser().localiseUsingDictionary("Attribution baseLayerLabel"):t.get("title");if(e){var n=!0,o=!1,a=void 0;try{for(var r,l=(0,s.default)(e);!(n=(r=l.next()).done);n=!0){var c=r.value;c=c.getHTML();var u=this.visibleAttributions_.get(c);u||(u=[],this.visibleAttributions_.set(c,u)),u.push(i)}}catch(h){o=!0,a=h}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}},e.prototype.removeLayer=function(t){var e=t.getSource().getAttributions(),i=t.isBaseLayer?this.getLocaliser().localiseUsingDictionary("Attribution baseLayerLabel"):t.get("title");if(e){var n=!0,o=!1,a=void 0;try{for(var r,l=(0,s.default)(e);!(n=(r=l.next()).done);n=!0){var c=r.value;c=c.getHTML();var u=this.visibleAttributions_.get(c);u.splice(u.indexOf(i),1),0===u.length&&this.visibleAttributions_.delete(c)}}catch(h){o=!0,a=h}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}},e.prototype.setMap=function(e){this.getMap()&&this.detachAllListeners(),t.prototype.setMap.call(this,e),e&&(this.forEachLayer(e.getLayerGroup()),this.updateList())},e}((0,v.mixin)(m.Control,y.ListenerOrganizerMixin))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Control=void 0;var o=i(77),s=n(o),a=i(138),r=i(216);e.Control=(0,a.mixin)(s.default.control.Control,r.ControlLogicMixin)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ControlLogicMixin=void 0;var o=i(119),s=n(o),a=i(78),r=n(a),l=i(183);e.ControlLogicMixin=function(){function t(){(0,s.default)(this,t)}return t.prototype.initialize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.className_=t.hasOwnProperty("className")?t.className:"",t.hasOwnProperty("target")){var e=void 0;e="string"==typeof t.target&&"#"!==t.target[0]?(0,r.default)("#"+t.target):(0,r.default)(t.target),this.set$Target(e)}t.hasOwnProperty("element")&&(0,r.default)(t.element).addClass(this.className_).addClass("ol-unselectable ol-control"),this.singleButton=t.singleButton===!0,this.singleButton&&(0,r.default)(t.element).addClass(l.cssClasses.mainButton),this.controlName_=t.controlName,this.windowed_=!!t.hasOwnProperty("windowed")&&t.windowed,this.localiser_=t.localiser,this.title_=t.hasOwnProperty("title")?this.getLocaliser().selectL10N(t.title):void 0,this.tipLabel_=t.hasOwnProperty("tipLabel")?this.getLocaliser().selectL10N(t.tipLabel):void 0,this.float_=void 0===t.float?["top","left"]:t.float,this.importance_=t.importance||0},t.prototype.getFloat=function(){return this.float_},t.prototype.getImportance=function(){return this.importance_},t.prototype.getLocaliser=function(){return this.localiser_},t.prototype.isSingleButton=function(){return this.singleButton},t.prototype.isWindowed=function(){return this.windowed_},t.prototype.getControlName=function(){return this.controlName_},t.prototype.getTitle=function(){return this.title_},t.prototype.setTitle=function(t){this.title_=this.getLocaliser().selectL10N(t)},t.prototype.getTipLabel=function(){return this.tipLabel_},t.prototype.setTipLabel=function(t){this.tipLabel_=this.getLocaliser().selectL10N(t)},t.prototype.get$Element=function(){return(0,r.default)(this.element)},t.prototype.get$Target=function(){return this.catched$Target_?this.catched$Target_:this.getMap()?(this.catched$Target_=(0,r.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent"),this.catched$Target_):void 0},t.prototype.getClassName=function(){return this.className_},t.prototype.set$Target=function(t){this.catched$Target_=t,this.setTarget(t[0]),t.append(this.get$Element())},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ListenerOrganizerMixin=void 0;var o=i(105),s=n(o),a=i(119),r=n(a),l=i(77),c=n(l),u=function(){function t(e,i,n,o){(0,r.default)(this,t),this.element=e,this.event=i,this.listener=n,this.useCapture=o,e.addEventListener(i,n,o)}return t.prototype.detach=function(){this.element.removeEventListener(this.event,this.listener,this.useCapture)},t.usable=function(t){return t.addEventListener},t}(),h=function(){function t(e,i,n){(0,r.default)(this,t),this.element=e,this.event=i,this.listener=n,e.on(i,n)}return t.prototype.detach=function(){this.element.off(this.event,this.listener)},t.usable=function(t){return t.on&&t.off},t}(),f=function(){function t(e,i,n){(0,r.default)(this,t),this.key_=e.on(i,n)}return t.prototype.detach=function(){c.default.Observable.unByKey(this.key_)},t.usable=function(t){return t.on&&t.un},t}();e.ListenerOrganizerMixin=function(){function t(){(0,r.default)(this,t)}return t.prototype.initialize=function(){this.organizedListeners_=[]},t.prototype.listenAt=function(t){var e=this;t=Array.isArray(t)?t:[t];var i={on:function(n,o,a){var r=!0,l=!1,c=void 0;try{for(var p,d=(0,s.default)(t);!(r=(p=d.next()).done);r=!0)for(var g=p.value,m=[u,h,f],y=0;y<m.length;y++){var v=m[y];v.usable(g)&&e.organizedListeners_.push(new v(g,n,o,a))}}catch(_){l=!0,c=_}finally{try{!r&&d.return&&d.return()}finally{if(l)throw c}}return i}};return i},t.prototype.detachFrom=function(t){var e=!0,i=!1,n=void 0;try{for(var o,a=(0,s.default)(this.organizedListeners_.filter(function(e){return e.element===t}));!(e=(o=a.next()).done);e=!0){var r=o.value;r.detach()}}catch(l){i=!0,n=l}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}},t.prototype.detachAllListeners=function(){var t=!0,e=!1,i=void 0;try{for(var n,o=(0,s.default)(this.organizedListeners_);!(t=(n=o.next()).done);t=!0){var a=n.value;a.detach()}}catch(r){e=!0,i=r}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}this.organizedListeners_=[]},t}()},200,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ComposedControl=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(197),p=i(215),d=i(183);i(223),i(225);e.ComposedControl=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,h.default)("<div>");i.hasOwnProperty("element")?(0,h.default)(i.element).append(n):i.element=n.get(0),i.singleButton=!1;var o=(0,r.default)(this,t.call(this,i));return o.controls_=[],o.$container_=n,i.hasOwnProperty("containerClassName")&&o.$container_.addClass(i.containerClassName),o.classNameItem_=o.getClassName()+"-item",o.classNameItemFirst_=o.classNameItem_+"-first",o.classNameItemLast_=o.classNameItem_+"-last",o}return(0,c.default)(e,t),e.prototype.getControls=function(){return this.controls_},e.prototype.get$Container=function(){return this.$container_},e.prototype.setWindowForControl_=function(t){var e=new f.Window({$context:(0,h.default)(this.getMap().getViewport())});t.setWindow(e,!0)},e.prototype.addClasses_=function(t){return t.addClass(this.classNameItemLast_),0===this.$container_.children().length?t.addClass(this.classNameItemFirst_):this.$container_.children(":last-child").removeClass(this.classNameItemLast_),t},e.prototype.addControl=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getMap();if(!n)throw new Error("composed controls needs to be added to the map before they can get any controls");if(n.addControl(t),t.setWindow&&this.setWindowForControl_(t),!i.hasOwnProperty("claim")||!i.claim){if(!i.hasOwnProperty("wrap")||i.wrap){var o=(0,h.default)("<div>");i.hasOwnProperty("element")?o.append((0,h.default)(i.element)):t.set$Target(o),o.addClass(this.classNameItem_),i.hasOwnProperty("cssPosition")&&!i.cssPosition||this.addClasses_(o),t.getVisible&&!t.getVisible()&&o.addClass(d.cssClasses.hidden),this.$container_.append(o)}else(0,h.default)(i.element).addClass(this.classNameItem_),i.hasOwnProperty("cssPosition")&&!i.cssPosition||this.addClasses_((0,h.default)(i.element)),i.hasOwnProperty("element")?this.$container_.append((0,h.default)(i.element)):t.set$Target(this.$container_);t.on("change",function(){return e.changed()})}t.on("change",function(t){return e.dispatchEvent(t)}),this.controls_.push(t),this.changed()},e.prototype.removeControl=function(t){t.get$Element().hasClass(this.classNameItem_)?t.get$Element().remove():t.get$Element().parent().hasClass(this.classNameItem_)&&t.get$Element().parent().remove(),this.controls_.splice(this.controls_.indexOf(t),1),this.getMap().removeControl(t),this.changed()},e.prototype.setMap=function(e){var i=this;this.getMap()&&(this.controls_.forEach(function(t){i.getMap().removeControl(t)}),this.controls_=[]),t.prototype.setMap.call(this,e);
},e}(p.Control)},200,,200,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowButtons=void 0;var o=i(105),s=n(o),a=i(119),r=n(a),l=i(120),c=n(l),u=i(121),h=n(u),f=i(77),p=n(f),d=i(78),g=n(d),m=i(137),y=i(215),v=i(198);i(229);e.ArrowButtons=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e),i.className=i.className||"g4u-arrowbuttons",i.element=(0,g.default)('<div class="ol-unselectable ol-control"></div>')[0],i.singleButton=!1;var n=(0,c.default)(this,t.call(this,i)),o={left:n.getLocaliser().localiseUsingDictionary("ArrowButtons leftward"),right:n.getLocaliser().localiseUsingDictionary("ArrowButtons rightward"),up:n.getLocaliser().localiseUsingDictionary("ArrowButtons upward"),down:n.getLocaliser().localiseUsingDictionary("ArrowButtons downward"),center:n.getLocaliser().localiseUsingDictionary("ArrowButtons centerward")};n.pixelDelta_=i.pixelDelta||128,n.initExtent_=i.initExtent||void 0,n.animationDuration_=i.animationDuration||100,n.animated_=i.animated||!0,n.directions_=["center","left","up","right","down"],n.vectors_={left:[-1,0],up:[0,1],right:[1,0],down:[0,-1]},n.labels_=(0,m.merge)(i.labels||{},{left:"&#9665;",up:"&#9651;",right:"&#9655;",down:"&#9661;",center:"&#9675;"});var a=!0,l=!1,u=void 0;try{for(var h,f=function(){var t=h.value,e=(0,g.default)("<button>").addClass(n.className_+"-"+t).html(n.labels_[t]);(0,v.addTooltip)(e,o[t]),e.on("click",function(){n.onClick_(t),e.blur()}),n.get$Element().append(e)},p=(0,s.default)(n.directions_);!(a=(h=p.next()).done);a=!0)f()}catch(d){l=!0,u=d}finally{try{!a&&p.return&&p.return()}finally{if(l)throw u}}return n}return(0,h.default)(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&(this.initExtent_||(this.initExtent_=e.getView().calculateExtent(e.getSize())))},e.prototype.onClick_=function(t){var e=this.getMap(),i=e.getView();if("center"===t)e.get("move").toExtent(this.initExtent_,{animated:this.animated_});else{var n=i.getResolution(),o=i.getRotation(),s=this.vectors_[t],a=[s[0]*n*this.pixelDelta_,s[1]*n*this.pixelDelta_];p.default.coordinate.rotate(a,o);var r=i.getCenter();if(this.animated_){var l=p.default.animation.pan({duration:this.animationDuration_,source:r});e.beforeRender(l)}i.setCenter(i.constrainCenter([r[0]+a[0],r[1]+a[1]]))}(0,g.default)(e.getViewport()).focus()},e}(y.Control)},200,,,,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomSlider=e.Zoom=e.CombinedZoom=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(78),p=n(f),d=i(222),g=i(183),m=i(137);i(237);var y=i(138),v=i(241),_=(e.CombinedZoom=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.element=(0,p.default)("<div>").get(0),i.className=i.className||"g4u-zoom",i.singleButton=!1;var n=(0,r.default)(this,t.call(this,i));return delete i.element,n.hasButtons_=i.buttons||!i.hasOwnProperty("buttons"),n.hasSlider_=i.slider||!i.hasOwnProperty("slider"),n.hasButtons_&&(n.zoomButtonOptions=(0,m.copy)(i),n.zoomButtonOptions.importance=i.buttonImportance||i.importance,n.zoomButtonOptions.zoomInTipLabel=i.hasOwnProperty("zoomInTipLabel")?n.getLocaliser().selectL10N(i.zoomInTipLabel):n.getLocaliser().localiseUsingDictionary("Zoom zoomInTipLabel"),n.zoomButtonOptions.zoomOutTipLabel=i.hasOwnProperty("zoomOutTipLabel")?n.getLocaliser().selectL10N(i.zoomOutTipLabel):n.getLocaliser().localiseUsingDictionary("Zoom zoomOutTipLabel")),n.hasSlider_&&(n.zoomSliderOptions=(0,m.copy)(i),n.zoomSliderOptions.importance=i.sliderImportance,n.zoomSliderOptions.className="g4u-zoomslider"),n}return(0,c.default)(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&(this.hasSlider_&&this.addZoomSlider(),this.hasButtons_&&this.addZoomButtons())},e.prototype.addZoomButtons=function(){this.zoomButtons_=new _(this.zoomButtonOptions),this.addControl(this.zoomButtons_,{wrap:!1});var t=this.zoomButtons_.get$Element().children(".g4u-zoom-in"),e=this.zoomButtons_.get$Element().children(".g4u-zoom-out");this.get$Container().prepend(t),this.get$Container().append(e),this.zoomButtons_.get$Element().remove()},e.prototype.addZoomSlider=function(){this.zoomSlider_=new b(this.zoomSliderOptions),this.addControl(this.zoomSlider_,{wrap:!1});var t=this.zoomSlider_.get$Element();t.on("mousedown",function(){t.addClass(g.cssClasses.mousedown)}),t.on("mouseup",function(){t.removeClass(g.cssClasses.mousedown)});var e=this.get$Container().filter(".g4u-zoom-in");e.length?t.insertAfter(e):this.get$Container().append(t)},e}(d.ComposedControl),e.Zoom=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.default)(this,e),i.className=i.hasOwnProperty("className")?i.className:"g4u-zoom",i.zoomInTipLabel=i.hasOwnProperty("zoomInTipLabel")?i.localiser.selectL10N(i.zoomInTipLabel):i.localiser.localiseUsingDictionary("Zoom zoomInTipLabel"),i.zoomOutTipLabel=i.hasOwnProperty("zoomOutTipLabel")?i.localiser.selectL10N(i.zoomOutTipLabel):i.localiser.localiseUsingDictionary("Zoom zoomOutTipLabel"),(0,r.default)(this,t.call(this,i))}return(0,c.default)(e,t),e}((0,y.mixin)(h.default.control.Zoom,v.RewireMixin))),b=e.ZoomSlider=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.default)(this,e),i.className=i.hasOwnProperty("className")?i.className:"g4u-zoomslider",(0,r.default)(this,t.call(this,i))}return(0,c.default)(e,t),e.prototype.rewire=function(){t.prototype.rewire.call(this),this.get$Element().on("mousedown",function(){(0,p.default)(this).addClass(g.cssClasses.mousedown)}),this.get$Element().on("mouseup",function(){(0,p.default)(this).removeClass(g.cssClasses.mousedown)})},e}((0,y.mixin)(h.default.control.ZoomSlider,v.RewireMixin))},200,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.RewireMixin=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(216),p=i(183),d=i(138);e.RewireMixin=function(t){function e(){return(0,s.default)(this,e),(0,r.default)(this,t.apply(this,arguments))}return(0,c.default)(e,t),e.prototype.initialize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.singleButton=!1,t.prototype.initialize.call(this,e),this.rewire()},e.prototype.rewire=function(){(0,d.recursiveSelect)(this.get$Element(),"button[title]").each(function(){var t=(0,h.default)(this).attr("title");(0,h.default)(this).addClass(p.cssClasses.hasTooltip).removeAttr("title").append("<span role='tooltip'>"+t+"</span>")})},e}(f.ControlLogicMixin)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerSelector=void 0;var o=i(105),s=n(o),a=i(119),r=n(a),l=i(120),c=n(l),u=i(121),h=n(u),f=i(78),p=n(f),d=i(77),g=n(d),m=i(186),y=n(m),v=i(154),_=i(243),b=i(215),M=i(138),w=i(183);i(244);e.LayerSelector=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e),i.className=i.className||"g4u-layerselector",i.element=(0,p.default)("<div>")[0],i.singleButton=!1;var n=(0,c.default)(this,t.call(this,i));return n.layerGroupName_=i.layerGroupName,n.minLayerAmount_=i.hasOwnProperty("minLayerAmount")?i.minLayerAmount:1,n.collapsible_=!i.hasOwnProperty("collapsible")||i.collapsible,n.collapsed_=i.collapsed||!1,n.classNames_={menu:n.className_+"-menu",layerButton:n.className_+"-layerbutton"},n.menu_=new _.ButtonBox({element:n.get$Element(),className:n.getClassName(),title:n.getLocaliser().selectL10N(n.getTitle()),collapsible:n.collapsible_,collapsed:n.collapsed_}),n.get$Element().append(n.menu_.get$Element()),n.toggle_=i.toggle||!0,n.minVisibleButtons_=i.minVisibleEntries||6,n.visible_=!0,n.listenerKeys_=[],n}return(0,h.default)(e,t),e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.getCollapsed=function(){return this.menu_.getCollapsed()},e.prototype.setCollapsed=function(t){this.menu_.setCollapsed(t)},e.prototype.buildLayerButton=function(t,e){var i=this;this.loadProcessCount=this.loadProcessCount||{},t.get("available")&&!function(){var n=t.getSource(),o=(0,p.default)("<button>").addClass(i.classNames_.layerButton).html(t.get("title")),s=i.classNames_.menu+"-active";o.on("click",function(e){i.toggle_?t.setVisible(!t.getVisible()):t.setVisible(!0)}),t.getVisible()&&o.addClass(s),i.listenerKeys_.push(t.on("change:visible",function(){o.toggleClass(s,t.getVisible()),t.getVisible()||(t.resetLoadProcessCount(),o.removeClass("g4u-layer-loading"))})),i.listenerKeys_.push(n.on(["vectorloadstart","tileloadstart","imageloadstart"],function(){o.addClass("g4u-layer-loading")})),i.listenerKeys_.push(n.on(["vectorloadend","vectorloaderror","tileloadend","tileloaderror","imageloadend","imageloaderror"],function(){0===t.getLoadProcessCount()&&o.removeClass("g4u-layer-loading")})),e.append(o)}()},e.prototype.buildCategoryButton=function(t,e){var i=this,n=e;t.get("available")&&!function(){var o=t.get("activateChildren")!==!1,s=new _.ButtonBox({className:i.classNames_.menu,title:i.getLocaliser().selectL10N(t.get("title")),titleButton:o,collapsed:!t.countChildrenVisible()&&t.get("collapsed")!==!1}),a=t.countChildren(),r=t.countChildrenVisible(),l=function(){0===r?(s.setCollapseButtonActive(!1),o&&s.setTitleButtonActive(!1)):r===a?(s.setCollapseButtonActive(!0),o&&s.setTitleButtonActive(!0)):(s.setCollapseButtonActive(!0),o&&s.setTitleButtonActive(!1))};l();var c=function(t){i.listenerKeys_.push(t.on(["change:visible","change:childVisible"],function(e){var i=e.child||t;i.getVisible()?r++:r--,l()}))};i.listenerKeys_.push(t.getLayers().forEach(c)),i.listenerKeys_.push(t.getLayers().on("add",function(t){return c(t.element)})),s.on("title:click",function(){var e=r<a;t.recursiveForEach(function(t){t instanceof v.GroupLayer||t.setVisible(e)})}),e.append(s.get$Element()),n=s.get$Body(),s.on("change:collapsed",function(){return i.changed()})}();var o=!0,a=!1,r=void 0;try{for(var l,c=(0,s.default)(t.getLayers().getArray());!(o=(l=c.next()).done);o=!0){var u=l.value;this.chooseButtonBuilder(u,n)}}catch(h){a=!0,r=h}finally{try{!o&&c.return&&c.return()}finally{if(a)throw r}}},e.prototype.buildWMSButton=function(t,e){var i=this;t.get("available")&&!function(){var n=t.get("buttons"),o=function(){function t(){(0,r.default)(this,t),this.buttons_=[]}return t.prototype.isActive=function(t){return this.buttons_.indexOf(t)>-1},t.prototype.add=function(t){if(Array.isArray(t)){var e=!0,i=!1,n=void 0;try{for(var o,a=(0,s.default)(t);!(e=(o=a.next()).done);e=!0){var r=o.value;this.add(r)}}catch(l){i=!0,n=l}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}}else this.isActive(t)||this.buttons_.push(t)},t.prototype.remove=function(t){if(Array.isArray(t)){var e=!0,i=!1,n=void 0;try{for(var o,a=(0,s.default)(t);!(e=(o=a.next()).done);e=!0){var r=o.value;this.remove(r)}}catch(l){i=!0,n=l}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}}else{var c=this.buttons_.indexOf(t);c>-1&&this.buttons_.splice(c,1)}},t.prototype.clear=function(){this.buttons_=[]},t.prototype.getFlatProp=function(t){return(0,y.default)(this.buttons_.map(function(e){return e[t]||[]}))},t.prototype.count=function(){return this.buttons_.length},t.prototype.toggle=function(t,e){e?this.add(t):this.remove(t)},t}(),a=new o,l=function(){t.getSource().updateParams({LAYERS:a.getFlatProp("LAYERS")})},c=t.getSource().isFeatureInfoCheckable(),u=new o,h=function(){var e=void 0;e=c?{QUERY_LAYERS:u.getFlatProp("QUERY_LAYERS")}:{QUERY_LAYERS:a.getFlatProp("QUERY_LAYERS")},t.getSource().updateFeatureInfoParams(e)};n?!function(){var o=new _.ButtonBox({className:i.classNames_.menu,title:i.getLocaliser().selectL10N(t.get("title")),titleButton:!0,collapsed:t.get("collapsed")!==!1});e.append(o.get$Element()),o.on("change:collapsed",function(){return i.changed()});var r=i.classNames_.menu+"-active",f=(0,p.default)(),d=!0,g=!1,m=void 0;try{for(var y,v=function(){var e=y.value,s=(0,p.default)("<button>").addClass(i.classNames_.layerButton).html(i.getLocaliser().selectL10N(e.title)),d=(0,p.default)('<input type="checkbox">'),g=void 0,m=void 0;g=function(i){a.toggle(e,i),s.toggleClass(r,i),!i&&c&&m(!1),0===a.count()?(t.setVisible(!1),o.setCollapseButtonActive(!1),o.setTitleButtonActive(!1)):a.count()===n.length?(t.setVisible(!0),o.setCollapseButtonActive(!0),o.setTitleButtonActive(!0)):(t.setVisible(!0),o.setCollapseButtonActive(!0),o.setTitleButtonActive(!1)),l(),h()},m=function(t){u.toggle(e,t),t&&!a.isActive(e)&&g(!0),h(),d.prop("checked",t)},s.on("click",function(){return g(!a.isActive(e))}),c&&(s.append(d),d.on("click",function(t){m(d.is(":checked")),t.stopPropagation()})),f=f.add(s),o.get$Body().append(s)},b=(0,s.default)(n);!(d=(y=b.next()).done);d=!0)v()}catch(M){g=!0,m=M}finally{try{!d&&b.return&&b.return()}finally{if(g)throw m}}o.on("title:click",function(){var e=a.count()<n.length;e?a.add(n):(a.clear(),c&&(u.clear(),f.find("input[type=checkbox]").prop("checked",!1))),f.toggleClass(r,e),t.setVisible(e),o.setCollapseButtonActive(e),o.setTitleButtonActive(e),l()})}():i.buildLayerButton(t,e)}()},e.prototype.chooseButtonBuilder=function(t,e){t instanceof v.GroupLayer?this.buildCategoryButton(t,e):t.getSource().isFeatureInfoCheckable?this.buildWMSButton(t,e):this.buildLayerButton(t,e)},e.prototype.setMap=function(e){if(this.getMap()&&g.default.Observable.unByKey(this.listenerKeys_),t.prototype.setMap.call(this,e),e)if(this.layers_=e.get(this.layerGroupName_).getLayers(),this.layers_.getLength()>=this.minLayerAmount_){var i=new _.ButtonBox({className:this.classNames_.menu}),n=!0,o=!1,a=void 0;try{for(var r,l=(0,s.default)(this.layers_.getArray());!(n=(r=l.next()).done);n=!0){var c=r.value;this.chooseButtonBuilder(c,this.menu_.get$Body())}}catch(u){o=!0,a=u}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}i.giveLastVisible(this.get$Element().children(":last-child").children(":last-child"))}else this.setVisible(!1)},e.prototype.setVisible=function(t){this.get$Element().toggleClass(w.cssClasses.hidden,!t),this.visible_=t},e.prototype.getVisible=function(){return this.visible_},e.prototype.isSqueezable=function(t){return"height"===t},e.prototype.squeezeBy=function(t,e){if("height"===t){var i=this.get$Element().find("."+this.getClassName()+"-content"),n=i.find("button:visible");if(n.length>1){var o=i.height(),s=(0,M.offset)(n.eq(1),n.eq(0)).top,a=Math.max(s*this.minVisibleButtons_,o-e);if(o>a)return i.css("max-height",a),o-a}}return 0},e.prototype.release=function(t){"height"===t&&this.get$Element().find("."+this.getClassName()+"-content").css("max-height","")},e}(b.Control)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonBox=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(77),p=n(f),d=i(183);e.ButtonBox=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,r.default)(this,t.call(this));return n.className_=i.className||"g4u-menu",n.classNames_={body:n.className_+"-content",collapseButton:n.className_+"-collapsebutton",titleButton:n.className_+"-titlebutton",title:n.className_+"-title",active:n.className_+"-active",collapsed:n.className_+"-collapsed",lastVisible:n.className_+"-last-visible"},n.$element_=(0,h.default)("<div>").addClass(n.className_),i.hasOwnProperty("id")&&n.$element_.attr("id",i.id),n.titleButton_=i.titleButton||!1,n.collapsible_=!i.hasOwnProperty("collapsible")||i.collapsible,n.collapsed_=!!i.hasOwnProperty("collapsed")&&i.collapsed,n.$body_=(0,h.default)("<div>").addClass(n.classNames_.body),i.hasOwnProperty("content")&&n.$body_.append(i.content),i.hasOwnProperty("title")?(n.$title_=(0,h.default)("<div>").addClass(n.classNames_.title),n.$element_.append(n.$title_),n.collapsible_?!function(){var t=(0,h.default)("<button>").addClass(n.classNames_.collapseButton);t.on("click",function(){n.setCollapsed(!n.collapsed_),t.blur()}),n.titleButton_?!function(){var e=(0,h.default)("<button>").addClass(n.classNames_.titleButton).on("click",function(){n.dispatchEvent("title:click"),e.blur()}).html(i.title);n.$title_.append(t).append(e)}():(t.addClass(n.classNames_.titleButton).html(i.title),n.$title_.append(t))}():n.$title_.html(i.title)):(n.collapsible_=!1,n.collapsed_=!1),n.$element_.append(n.$body_),n.collapsed_?n.setCollapsed(!0):n.setCollapsed(!1),n}return(0,c.default)(e,t),e.prototype.setCollapsed=function(t){t?(this.$body_.addClass(d.cssClasses.hidden),this.$element_.addClass(this.classNames_.collapsed)):(this.$body_.removeClass(d.cssClasses.hidden),this.$element_.removeClass(this.classNames_.collapsed)),this.collapsed_=t,this.lastVisibleClass_(),this.dispatchEvent("change:collapsed")},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.lastVisibleClass_=function(){this.takeLastVisible(this.$element_)&&this.giveLastVisible(this.$element_)},e.prototype.get$Body=function(){return this.$body_},e.prototype.get$Element=function(){return this.$element_},e.prototype.get$LastChild_=function(t){return t.children("."+this.classNames_.body).children(":last-child")},e.prototype.setCollapseButtonActive=function(t){this.$title_.children("."+this.classNames_.collapseButton).toggleClass(this.classNames_.active,t)},e.prototype.setTitleButtonActive=function(t){this.$title_.children("."+this.classNames_.titleButton).toggleClass(this.classNames_.active,t)},e.prototype.giveLastVisible=function(t){if(t.hasClass(this.classNames_.collapsed))t.addClass(this.classNames_.lastVisible);else if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);e?this.giveLastVisible(e):t.addClass(this.classNames_.lastVisible)}else t.addClass(this.classNames_.lastVisible)},e.prototype.takeLastVisible=function(t){if(t.hasClass(this.classNames_.lastVisible))return t.removeClass(this.classNames_.lastVisible),!0;if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);return!!e&&this.takeLastVisible(e)}return!1},e.prototype.finish=function(){this.takeLastVisible(this.$element_),this.giveLastVisible(this.$element_)},e}(p.default.Object)},200,,,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.GeolocationButton=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(78),p=n(f),d=i(215),g=i(198),m=i(168),y=i(251),v=i(183);i(255);e.GeolocationButton=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.className=i.className||"g4u-geolocation",i.singleButton=!0,i.element=(0,p.default)("<button>").get(0);var n=(0,r.default)(this,t.call(this,i));return n.classNamePushed_=n.className_+"-pushed",n.animated_=i.animated,n.style_=i.style||"#defaultStyle",n.maxZoom_=i.maxZoom,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("GeolocationButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("GeolocationButton tipLabel")),n.get$Element().addClass(n.className_).addClass(v.cssClasses.mainButton).html(n.getTitle()),(0,g.addTooltip)(n.get$Element(),n.getTipLabel()),n.buttonMessageDisplay_=new y.MessageDisplay(n.get$Element()),n.get$Element().on("click touch",function(){h.default.has.GEOLOCATION?n.setActive(!n.getActive()):n.buttonMessageDisplay_.error(n.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),n.getMap().get("mobile")?{position:"top middle"}:{})}),n.layer_=null,n.geolocation_=new h.default.Geolocation,n.geolocation_.on("error",function(){n.buttonMessageDisplay_.error(n.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),n.getMap().get("mobile")?{position:"top middle"}:{}),n.setActive(!1)}),n.active_=!1,n}return(0,c.default)(e,t),e.prototype.setMap=function(e){if(e){var i=e.getView().getProjection();this.geolocation_.setProjection(i);var n={source:new h.default.source.Vector({projection:i}),visible:!0};this.layer_=new m.VectorLayer(n),e.get("styling").styleLayer(this.layer_,this.style_),e.getLayers().insertAt(1,this.layer_)}else this.getMap().getLayers().remove(this.layer_);t.prototype.setMap.call(this,e)},e.prototype.getActive=function(){return this.active_},e.prototype.setActive=function(t){var e=this,i=this.active_;i!==t&&(this.get$Element().toggleClass(this.classNamePushed_,t),t?!function(){var t=e.layer_.getSource();e.geolocation_.once("change:accuracyGeometry",function(){var i=e.geolocation_.getPosition();t.addFeature(new h.default.Feature({geometry:new h.default.geom.Point(i)}));var n=e.geolocation_.getAccuracyGeometry();t.addFeature(new h.default.Feature({geometry:n})),e.getMap().get("move").toExtent(n.getExtent(),{animated:e.animated_,maxZoom:e.maxZoom_}),e.geolocation_.setTracking(!1)}),e.geolocation_.setTracking(!0)}():this.layer_.getSource().clear(),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:i}))},e.makeCircle_=function(t,e,i){var n=h.default.proj.transform(t,e,"EPSG:4326"),o=[n[0],n[1]+i/1e3*90/1e4],s=h.default.proj.transform(o,"EPSG:4326",e),a=Math.abs(t[1]-s[1]);return new h.default.geom.Circle(t,a)},e}(d.Control)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDisplay=void 0;var o=i(119),s=n(o);i(252),i(254);var a=i(78),r=n(a),l=i(138),c=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,s.default)(this,t),!e)throw new Error("MessageDisplay needs an object to be associated to!");this.$element_=e,r.default.notify.getStyle("benndorf")||r.default.notify.addStyle("benndorf",{html:'<div><div class="text" data-notify-text /></div></div>',classes:{error:{color:"#b94a48","background-color":"#f2dede","border-color":"#b94a48"},success:{color:"#468847","background-color":"#dff0d8","border-color":"#468847"},info:{color:"#3a87a","background-color":"#d9edf7","border-color":"#3a87ad"},warn:{color:"#c09853","background-color":"#fcf8e3","border-color":"#c09853"}}}),this.defaults_=i,this.autoHideTimer_=null,i.hasOwnProperty("arrowShow")||(this.defaults_.arrowShow=!0),i.hasOwnProperty("arrowSize")||(this.defaults_.arrowSize=5),i.hasOwnProperty("autoHide")||(this.defaults_.autoHide=!0),i.hasOwnProperty("autoHideDelay")||(this.defaults_.autoHideDelay=15e3),i.hasOwnProperty("className")||(this.defaults_.className="error"),i.hasOwnProperty("position")||(this.defaults_.position="bottom left"),i.hasOwnProperty("gap")||(this.defaults_.gap=2),i.hasOwnProperty("hideAnimation")||(this.defaults_.hideAnimation="slideUp"),i.hasOwnProperty("hideDuration")||(this.defaults_.hideDuration=200),i.hasOwnProperty("showAnimation")||(this.defaults_.showAnimation="slideDown"),i.hasOwnProperty("showDuration")||(this.defaults_.showDuration=400),i.hasOwnProperty("style")||(this.defaults_.style="benndorf")}return t.prototype.message=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.defaults_;i.hasOwnProperty("autoHide")&&(n.autoHide=i.autoHide),i.hasOwnProperty("autoHideDelay")&&(n.autoHideDelay=i.autoHideDelay),i.hasOwnProperty("className")&&(n.className=i.className),i.hasOwnProperty("position")&&(n.position=i.position),this.$element_.notify((0,l.html2Text)(t),n),(0,r.default)(".notifyjs-wrapper").click(function(){e.hide()})},t.prototype.error=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="error",this.message(t,e)},t.prototype.info=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="info",this.message(t,e)},t.prototype.success=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="success",this.message(t,e)},t.prototype.warn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="warn",this.message(t,e)},t.prototype.hide=function(){(0,r.default)(".notifyjs-wrapper").trigger("notify-hide"),window.clearTimeout(this.autoHideTimer_)},t}();e.MessageDisplay=c},200,,function(t,e,i){var n,o,s;!function(a){o=[i(78)],n=a,s="function"==typeof n?n.apply(e,o):n,!(void 0!==s&&(t.exports=s))}(function(t){function e(e,i,n){"string"==typeof n&&(n={className:n}),this.options=M(b,t.isPlainObject(n)?n:{}),this.loadHTML(),this.wrapper=t(p.html),this.options.clickToHide&&this.wrapper.addClass(o+"-hidable"),this.wrapper.data(o,this),this.arrow=this.wrapper.find("."+o+"-arrow"),this.container=this.wrapper.find("."+o+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=S(e),this.elem.data(o,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(i)}var i=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},n="notify",o=n+"js",s=n+"!blank",a={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},r=["l","c","r"],l=["t","m","b"],c=["t","b","l","r"],u={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},h=function(e){var i;return i=[],t.each(e.split(/\W+/),function(t,e){var n;if(n=e.toLowerCase().charAt(0),a[n])return i.push(n)}),i},f={},p={name:"core",html:'<div class="'+o+'-wrapper">\n\t<div class="'+o+'-arrow"></div>\n\t<div class="'+o+'-container"></div>\n</div>',css:"."+o+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+o+"-corner ."+o+"-wrapper,\n."+o+"-corner ."+o+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+o+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+o+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+o+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+o+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},d={"border-radius":["-webkit-","-moz-"]},g=function(t){return f[t]},m=function(e,i){if(!e)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";var s=f[e];s&&s.cssElem&&(window.console&&console.warn(n+": overwriting style '"+e+"'"),f[e].cssElem.remove()),i.name=e,f[e]=i;var a="";i.classes&&t.each(i.classes,function(e,n){return a+="."+o+"-"+i.name+"-"+e+" {\n",t.each(n,function(e,i){return d[e]&&t.each(d[e],function(t,n){return a+="\t"+n+e+": "+i+";\n"}),a+="\t"+e+": "+i+";\n"}),a+="}\n"}),i.css&&(a+="/* styles for "+i.name+" */\n"+i.css),a&&(i.cssElem=y(a),i.cssElem.attr("id","notify-"+i.name));var r={},l=t(i.html);v("html",l,r),v("text",l,r),i.fields=r},y=function(e){var i;i=x("style"),i.attr("type","text/css"),t("head").append(i);try{i.html(e)}catch(n){i[0].styleSheet.cssText=e}return i},v=function(e,i,n){var o;return"html"!==e&&(e="text"),o="data-notify-"+e,_(i,"["+o+"]").each(function(){var i;i=t(this).attr(o),i||(i=s),n[i]=e})},_=function(t,e){return t.is(e)?t:t.find(e)},b={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},M=function(e,i){var n;return n=function(){},n.prototype=e,t.extend(!0,new n,i)},w=function(e){return t.extend(b,e)},x=function(e){return t("<"+e+"></"+e+">")},C={},S=function(e){var i;return e.is("[type=radio]")&&(i=e.parents("form:first").find("[type=radio]").filter(function(i,n){return t(n).attr("name")===e.attr("name")}),e=i.first()),e},P=function(t,e,i){var n,o;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;if(!isNaN(i))return n=a[u[e.charAt(0)]],o=e,void 0!==t[n]&&(e=a[n.charAt(0)],i=-i),void 0===t[e]?t[e]=i:t[e]+=i,null},L=function(t,e,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-e/2;if("r"===t||"b"===t)return i-e;throw"Invalid alignment"},E=function(t){return E.e=E.e||x("div"),E.e.text(t).html()};e.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},e.prototype.show=function(t,e){var i,n,o,s,a;if(n=function(i){return function(){if(t||i.elem||i.destroy(),e)return e()}}(this),a=this.container.parent().parents(":hidden").length>0,o=this.container.add(this.arrow),i=[],a&&t)s="show";else if(a&&!t)s="hide";else if(!a&&t)s=this.options.showAnimation,i.push(this.options.showDuration);else{if(a||t)return n();s=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(n),o[s].apply(o,i)},e.prototype.setGlobalPosition=function(){var e=this.getPosition(),i=e[0],n=e[1],s=a[i],r=a[n],l=i+"|"+n,c=C[l];if(!c){c=C[l]=x("div");var u={};u[s]=0,"middle"===r?u.top="45%":"center"===r?u.left="45%":u[r]=0,c.css(u).addClass(o+"-corner"),t("body").append(c)}return c.prepend(this.wrapper)},e.prototype.setElementPosition=function(){var e,n,o,s,h,f,p,d,g,m,y,v,_,b,M,w,x,C,S,E,A,k,O,I,T,j,N,F,B;for(N=this.getPosition(),I=N[0],k=N[1],O=N[2],y=this.elem.position(),d=this.elem.outerHeight(),v=this.elem.outerWidth(),g=this.elem.innerHeight(),m=this.elem.innerWidth(),B=this.wrapper.position(),h=this.container.height(),f=this.container.width(),C=a[I],E=u[I],A=a[E],p={},p[A]="b"===I?d:"r"===I?v:0,P(p,"top",y.top-B.top),P(p,"left",y.left-B.left),F=["top","left"],b=0,w=F.length;b<w;b++)T=F[b],S=parseInt(this.elem.css("margin-"+T),10),S&&P(p,T,S);if(_=Math.max(0,this.options.gap-(this.options.arrowShow?o:0)),P(p,A,_),this.options.arrowShow){for(o=this.options.arrowSize,n=t.extend({},p),e=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",M=0,x=c.length;M<x;M++)T=c[M],j=a[T],T!==E&&(s=j===C?e:"transparent",n["border-"+j]=o+"px solid "+s);P(p,a[E],o),i.call(c,k)>=0&&P(n,a[k],2*o)}else this.arrow.hide();if(i.call(l,I)>=0?(P(p,"left",L(k,f,v)),n&&P(n,"left",L(k,o,m))):i.call(r,I)>=0&&(P(p,"top",L(k,h,d)),n&&P(n,"top",L(k,o,g))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p),n)return this.arrow.removeAttr("style").css(n)},e.prototype.getPosition=function(){var t,e,n,o,s,a,u,f;if(f=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),t=h(f),0===t.length&&(t[0]="b"),e=t[0],i.call(c,e)<0)throw"Must be one of ["+c+"]";return(1===t.length||(n=t[0],i.call(l,n)>=0&&(o=t[1],i.call(r,o)<0))||(s=t[0],i.call(r,s)>=0&&(a=t[1],i.call(l,a)<0)))&&(t[1]=(u=t[0],i.call(r,u)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},e.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),e=f[t],!e)throw"Missing style: "+t;return e},e.prototype.updateClasses=function(){var e,i;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),i=this.getStyle(),e=t.map(e,function(t){return o+"-"+i.name+"-"+t}).join(" "),this.userContainer.attr("class",e)},e.prototype.run=function(e,i){var n,o,a,r,l;if(t.isPlainObject(i)?t.extend(this.options,i):"string"===t.type(i)&&(this.options.className=i),this.container&&!e)return void this.show(!1);if(this.container||e){o={},t.isPlainObject(e)?o=e:o[s]=e;for(a in o)n=o[a],r=this.userFields[a],r&&("text"===r&&(n=E(n),this.options.breakNewLines&&(n=n.replace(/\n/g,"<br/>"))),l=a===s?"":"="+a,_(this.userContainer,"[data-notify-"+r+l+"]").html(n));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}},e.prototype.destroy=function(){this.wrapper.data(o,null),this.wrapper.remove()},t[n]=function(i,o,s){return i&&i.nodeName||i.jquery?t(i)[n](o,s):(s=o,o=i,new e(null,o,s)),
i},t.fn[n]=function(i,n){return t(this).each(function(){var s=S(t(this)).data(o);s&&s.destroy();new e(t(this),i,n)}),this},t.extend(t[n],{defaults:w,addStyle:m,pluginOptions:b,getStyle:g,insertCSS:y}),m("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),t(function(){y(p.css).attr("id","core-notify"),t(document).on("click","."+o+"-hidable",function(e){t(this).trigger("notify-hide")}),t(document).on("notify-hide","."+o+"-wrapper",function(e){var i=t(this).data(o);i&&i.show(!1)})})})},200,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MeasurementButton=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(78),p=n(f),d=i(215),g=i(183),m=i(168);i(260);e.MeasurementButton=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.element=(0,p.default)("<div>").get(0),i.className=i.className||"g4u-measurement",i.singleButton=!1;var n=(0,r.default)(this,t.call(this,i));if(n.style_=i.style||"#defaultStyle",!i.hasOwnProperty("type"))throw new Error("Measurement needs a type (Polygon, LineString, etc)");return n.type_=i.type,n.dimension_=i.dimension||1,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+n.dimension_+" title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+n.dimension_+" tipLabel")),n.atDrawEnd_=i.atDrawEnd,n.active_=!1,n.value_=0,n.$valueDisplay_=(0,p.default)("<span>").html("0"),n.$unitPlaceholder_=(0,p.default)("<span>"),n}return(0,c.default)(e,t),e.prototype.setMap=function(e){var i=this;e?!function(){if(i.get$Element().append(i.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+i.dimension_+" measured")).append((0,p.default)("<span>").addClass(i.className_+"-value").append(i.$valueDisplay_).append("&nbsp;").append(i.$unitPlaceholder_)).append("<br/>").append(i.getLocaliser().localiseUsingDictionary("MeasurementButton doubleClickEndsMeasurement")),i.measurementProjection_=e.get("measurementProjection"),!i.measurementProjection_)throw new Error("MeasurementButton needs a measurementProjection. This is a global option of the map.");1===i.dimension_&&i.$unitPlaceholder_.replaceWith(i.measurementProjection_.getUnits()),2===i.dimension_&&i.$unitPlaceholder_.replaceWith(i.measurementProjection_.getUnits()+"&sup2;"),i.measurementTransform_=h.default.proj.getTransform(e.getView().getProjection(),i.measurementProjection_),i.source_=new h.default.source.Vector({projection:i.measurementProjection_}),i.layer_=new m.VectorLayer({source:i.source_}),e.get("styling").styleLayer(i.layer_,i.style_),e.getLayers().insertAt(1,i.layer_),i.drawInteraction_=new h.default.interaction.Draw({source:i.source_,type:i.type_,style:e.get("styling").getStyle(i.style_)}),i.drawInteraction_.setActive(!1),e.addSupersedingInteraction("singleclick dblclick pointermove",i.drawInteraction_);var t=null;i.drawInteraction_.on("drawstart",function(e){i.clear(),t=e.feature,i.dispatchEvent("measurement")}),e.on("click",function(){if(i.getActive()){var e=t.getGeometry().clone();e.applyTransform(i.measurementTransform_),1===i.dimension_?i.setValue(e.getLength()):2===i.dimension_&&i.setValue(e.getArea())}}),(0,p.default)(e.getViewport()).parent().on("keydown",function(t){t.which===g.keyCodes.ESCAPE&&i.drawInteraction_.getActive()&&i.drawInteraction_.finishDrawing()}),i.drawInteraction_.on("drawend",function(){switch(i.atDrawEnd_){case"newMeasurement":break;case"closeWindow":i.setActive(!1);break;default:i.drawInteraction_.setActive(!1)}})}():(this.getMap().getLayers().remove(this.layer_),this.getMap().removeInteraction(this.drawInteraction_)),t.prototype.setMap.call(this,e)},e.prototype.getValue=function(){return this.value_},e.prototype.setValue=function(t){this.value_=t,this.$valueDisplay_.html(""+Math.round(t)),this.changed()},e.prototype.getType=function(){return this.type_},e.prototype.getActive=function(){return this.active_},e.prototype.setActive=function(t){var e=this.active_;if(e!==t){var i={type:"change:active",oldValue:e};this.active_=t,this.layer_.setVisible(t),t?(this.getMap().get("featurePopup").setVisible(!1),(0,p.default)(this.getMap().getViewport()).addClass(g.cssClasses.crosshair),this.clear(),this.drawInteraction_.setActive(!0)):((0,p.default)(this.getMap().getViewport()).removeClass(g.cssClasses.crosshair),this.drawInteraction_.setActive(!1)),this.dispatchEvent(i)}},e.prototype.clear=function(){this.source_.clear(),this.setValue(0)},e}(d.Control)},200,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherButton=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(215),p=i(198),d=i(151);i(265);e.LanguageSwitcherButton=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.element=(0,h.default)("<button>").get(0),i.singleButton=!0,i.className=i.className||"g4u-languageswitcher";var n=(0,r.default)(this,t.call(this,i));n.$button_=n.get$Element().addClass(n.className_+"-button");var o=n.getLocaliser().getAvailableLanguages();return o.length<2?(d.Debug.info("You do not have any languages to switch between."),d.Debug.info("Could it be that you forgot to disable languageSwitcherButton?")):o.length>2&&(d.Debug.info("You have more than 2 languages to switch between."),d.Debug.info("In this case you need to use languageSwitcherMenu.")),n.$button_.on("click",function(){var t=n.getLocaliser().getAvailableLanguages(),e=t[0],i=t[1]||t[0];n.getLocaliser().setCurrentLang(i);var o=n.getMap(),s=o.getLayerGroup().getIdsVisibilities();o.get("configurator").configureLayers(),o.get("configurator").configureUI(),o.getLayerGroup().setIdsVisibilities(s),n.getLocaliser().setAvailableLanguages([i,e])}),n}return(0,c.default)(e,t),e.prototype.setMap=function(e){e&&(this.$button_.html(this.getLocaliser().getCurrentLang()),(0,p.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherButton tipLabel"))),t.prototype.setMap.call(this,e)},e}(f.Control)},200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherMenu=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(268),p=i(198),d=i(215),g=i(183),m=i(151);i(265);var y=i(217),v=i(138);e.LanguageSwitcherMenu=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.className=i.className||"g4u-languageswitchermenu",i.element=(0,h.default)("<div>").get(0),i.singleButton=!1;var n=(0,r.default)(this,t.call(this,i));n.setTitle(n.getLocaliser().getCurrentLang()),n.$button_=(0,h.default)("<button>").addClass(n.className_+"-button").addClass(g.cssClasses.mainButton),n.get$Element().append(n.$button_);var o={className:"g4u-dropdown"};n.dropdown_=new f.Dropdown(o),n.get$Element().append(n.dropdown_.get$Element());var a=n.getLocaliser().getAvailableLanguages();return a.length<2?(m.Debug.info("You do not have any languages to switch between."),m.Debug.info("Could it be that you forgot to disable languageSwitcherMenu?")):2===a.length&&(m.Debug.info("You only have 2 languages to switch between."),m.Debug.info("What about using languageSwitcherButton in place of languageSwitcherMenu?")),n.dropdown_.setEntries(a,a.map(function(t){return t.toUpperCase()+" - "+n.getLocaliser().localiseUsingDictionary(t)})),n.dropdown_.on("select",function(){return n.switchLanguage_(n.dropdown_.getValue())}),n.get$Element().on("keydown",function(t){t.which===g.keyCodes.ESCAPE&&(n.setActive(!1),(0,h.default)(n.getMap().getViewport()).focus())}),n.active_=!1,n}return(0,c.default)(e,t),e.prototype.switchLanguage_=function(t){this.getLocaliser().setCurrentLang(t),this.setTitle(t);var e=this.getMap(),i=e.getLayerGroup().getIdsVisibilities();e.get("configurator").configureLayers(),e.get("configurator").configureUI(),e.getLayerGroup().setIdsVisibilities(i)},e.prototype.setMap=function(e){var i=this;this.getMap()&&(this.detachAllListeners(),this.setActive(!1)),t.prototype.setMap.call(this,e),e&&(this.collapse_=!0,this.listenAt(document).on("click",function(){i.collapse_=!0},!0),this.listenAt([(0,h.default)(this.getMap().getViewport()).find(".ol-overlaycontainer-stopevent"),document]).on("click",function(){i.collapse_&&i.getActive()&&i.setActive(!1)}),this.listenAt(this.get$Element()).on("click",function(){i.collapse_=!1,i.setActive(!i.getActive())}),this.$button_.html(this.getLocaliser().getCurrentLang()),(0,p.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherMenu tipLabel")))},e.prototype.getActive=function(){return this.active_},e.prototype.setActive=function(t){var e=this.active_;e!==t&&(t?(this.collapse_=!1,this.dropdown_.slideDown(this.getMap().get("mobile"))):this.dropdown_.slideUp(this.getMap().get("mobile")),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:e}))},e}((0,v.mixin)(d.Control,y.ListenerOrganizerMixin))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Dropdown=void 0;var o=i(12),s=n(o),a=i(119),r=n(a),l=i(120),c=n(l),u=i(121),h=n(u),f=i(77),p=n(f),d=i(78),g=n(d),m=i(183);i(80),i(269),g.default.extend(g.default.easing,{easeOutCirc:function(t,e,i,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+i},easeInCirc:function(t,e,i,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+i}});e.Dropdown=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e);var n=(0,c.default)(this,t.call(this));return n.className_=i.className||"g4u-dropdown",n.classNames_={entry:n.className_+"-entry",selected:n.className_+"-selected",ghost:n.className_+"-ghostentry"},n.$element_=(0,g.default)("<div>").addClass(n.className_),n.$ghostentry=(0,g.default)('<button tabindex="-1">').addClass(n.classNames_.ghost).html(i.ghostentry||"no entries"),n.slideDuration_=i.slideDuration||400,n.entriesArray_=[],n.selectedIndex_=-1,n.setUpKeyboardHandling_(),n.$element_.on("focus",function(){n.selectedIndex_>-1&&n.entriesArray_[n.selectedIndex_].$element.focus()}),n.$element_.get(0).addEventListener("mousemove",function(t){t.stopPropagation()},!1),n.slideUp(!0),n}return(0,h.default)(e,t),e.prototype.getValue=function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].value},e.prototype.setUpKeyboardHandling_=function(){var t=this;this.$element_.on("keydown",function(e){switch(e.which){case m.keyCodes.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),t.selectedIndex_<t.entriesArray_.length-1&&(t.entriesArray_[t.selectedIndex_+1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_+1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_+=1);break;case m.keyCodes.ARROW_UP:e.preventDefault(),e.stopPropagation(),t.selectedIndex_>0?(t.entriesArray_[t.selectedIndex_-1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_-1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_-=1):(t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_=-1,t.dispatchEvent({type:"leave:backwards",originalEvent:e}));break;case m.keyCodes.TAB:e.shiftKey?t.dispatchEvent({type:"leave:backwards",originalEvent:e}):t.dispatchEvent({type:"leave:forwards",originalEvent:e});break;case m.keyCodes.ENTER:e.stopPropagation(),e.preventDefault(),t.select$Entry_(t.entriesArray_[t.selectedIndex_].$element)}})},e.prototype.get$Element=function(){return this.$element_},e.prototype.getLength=function(){return this.entriesArray_.length},e.prototype.addEntry=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e||t;var n=this.getLength();this.setLength(n+1);var o=this.entriesArray_[n];o.$element.html(e),o.value=t,i&&(o.$element.addClass(this.classNames_.selected),this.selectedIndex_=n)},e.prototype.setEntries=function(t,e){e=e||t,this.setLength(t.length);for(var i=0,n=t.length;i<n;i++)this.entriesArray_[i].$element.html(e[i]),this.entriesArray_[i].value=t[i]},e.prototype.select$Entry_=function(t){t.hasClass(this.classNames_.selected)||(t.addClass(this.classNames_.selected),this.selectedIndex_>-1&&this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected)),this.selectedIndex_=this.entriesArray_.findIndex(function(e){return e.$element===t}),this.dispatchEvent("select")},e.prototype.setLength=function(t){var e=this;this.selectedIndex_>-1&&(this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected),this.selectedIndex_=-1);var i=void 0,n=void 0;if(0===this.entriesArray_.length&&this.$element_.empty(),t>this.entriesArray_.length){var o=function(){var t=(0,g.default)('<button tabindex="-1">').addClass(e.classNames_.entry).hide();t.on("click",function(){return e.select$Entry_(t)}),t.focus(),e.$element_.append(t),e.entriesArray_.push({$element:t}),t.slideDown({duration:e.slideDuration_})};for(i=this.entriesArray_.length,n=t;i<n;i++)o()}else if(t<this.entriesArray_.length){for(i=this.entriesArray_.length-1,n=t;i>=n;i--)this.entriesArray_[i].$element.slideUp({duration:this.slideDuration_,complete:function(){e.entriesArray_.pop(),e.$element_.children().last().remove()}});this.selectedIndex_>=t&&(this.selectedIndex_=t-1)}},e.prototype.showGhostEntry=function(){this.setLength(0),this.$element_.append(this.$ghostentry),this.slideDown()},e.prototype.focus=function(){this.entriesArray_.length>=0&&(this.selectedIndex_<0&&(this.selectedIndex_=0,this.entriesArray_[0].$element.addClass(this.classNames_.selected)),this.entriesArray_[this.selectedIndex_].$element.focus())},e.prototype.slideUp=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new s.default(function(i){var n=0;e||(n=t.slideDuration_),t.$element_.slideUp({duration:n,complete:function(){t.$element_.addClass(m.cssClasses.hidden),i()},easing:"easeInCirc"})})},e.prototype.slideDown=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new s.default(function(i){if(t.$element_.children().length>0){var n=0;e||(n=t.slideDuration_),t.$element_.removeClass(m.cssClasses.hidden),t.$element_.slideDown({easing:"easeOutCirc",complete:i,duration:n})}})},e.prototype.clear=function(){this.slideUp(),this.$element_.empty(),this.entriesArray_=[],this.selectedIndex_=-1},e.prototype.isSelectable=function(){return this.entriesArray_.length>0},e}(p.default.Object)},200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MobileControls=void 0;var o=i(105),s=n(o),a=i(119),r=n(a),l=i(120),c=n(l),u=i(121),h=n(u),f=i(78),p=n(f),d=i(272),g=i(273);i(276);e.MobileControls=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.default)(this,e),i.className=i.className||"g4u-mobilecontrols",i.element=(0,p.default)("<div>").get(0),i.containerClassName=i.className+"-container",i.visibleControls=i.visibleControls||6,(0,c.default)(this,t.call(this,i))}return(0,h.default)(e,t),e.prototype.addControl=function(e,i){e.isWindowed()||e.isSingleButton()?t.prototype.addControl.call(this,e,i):t.prototype.addControl.call(this,new g.WindowDecorator({component:e}),i)},e.prototype.setMap=function(e){var i=this;this.getMap()&&this.getMap().un("change:mobile",this.handler_),t.prototype.setMap.call(this,e),e&&(this.handler_=function(){if(!e.get("mobile")){var t=!0,n=!1,o=void 0;try{for(var a,r=(0,s.default)(i.getControls().filter(function(t){return t.setWindowVisible}));!(t=(a=r.next()).done);t=!0){var l=a.value;l.setWindowVisible(!1)}}catch(c){n=!0,o=c}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}}},e.on("change:mobile",this.handler_))},e}(d.ShiftableComposedControl)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftableComposedControl=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(222),p=i(183);e.ShiftableComposedControl=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,r.default)(this,t.call(this,i));n.visibleControls_=i.visibleControls,n.position_=1;var o=(0,h.default)("<div>").addClass(n.className_+"-shift");return n.get$Element().append(o.append(n.get$Container())),n.$moveLeftButton_=(0,h.default)("<button>").addClass(n.className_+"-move-left").addClass(n.classNameItem_).addClass(n.classNameItemFirst_).addClass(p.cssClasses.hidden),n.$moveLeftButton_.on("click",function(){return n.shiftControls(-(n.visibleControls_-2))}),o.prepend(n.$moveLeftButton_),n.$moveLeftButton_.addClass(p.cssClasses.hidden),n.$moveRightButton_=(0,h.default)("<button>").addClass(n.className_+"-move-right").addClass(n.classNameItem_).addClass(n.classNameItemLast_),n.$moveRightButton_.on("click",function(){return n.shiftControls(n.visibleControls_-2)}),o.append(n.$moveRightButton_),n.$moveRightButton_.addClass(p.cssClasses.hidden),n}return(0,c.default)(e,t),e.prototype.addControl=function(e,i){if(t.prototype.addControl.call(this,e,i),this.controls_.length>this.visibleControls_){var n=this.get$Container().children(":last-child");n.addClass(p.cssClasses.hidden),(0,h.default)(this.get$Container().children()[this.visibleControls_-1]).addClass(p.cssClasses.hidden),this.$moveRightButton_.removeClass(p.cssClasses.hidden)}},e.prototype.shiftControls=function(t){t<0?this.position_>1&&(this.$moveRightButton_.hasClass(p.cssClasses.hidden)&&(this.get$Container().children(":last-child").addClass(p.cssClasses.hidden),this.$moveRightButton_.removeClass(p.cssClasses.hidden)),this.position_--,(0,h.default)(this.get$Container().children()[this.position_]).removeClass(p.cssClasses.hidden),(0,h.default)(this.get$Container().children()[this.position_+this.visibleControls_-2]).addClass(p.cssClasses.hidden),1===this.position_&&(this.get$Container().children(":first-child").removeClass(p.cssClasses.hidden),this.$moveLeftButton_.addClass(p.cssClasses.hidden)),this.shiftControls(t+1)):t>0&&this.position_+this.visibleControls_<this.controls_.length+1&&(this.$moveLeftButton_.hasClass(p.cssClasses.hidden)&&(this.get$Container().children(":first-child").addClass(p.cssClasses.hidden),this.$moveLeftButton_.removeClass(p.cssClasses.hidden)),this.position_++,(0,h.default)(this.get$Container().children()[this.position_-1]).addClass(p.cssClasses.hidden),(0,h.default)(this.get$Container().children()[this.position_+this.visibleControls_-3]).removeClass(p.cssClasses.hidden),this.position_+this.visibleControls_>=this.controls_.length&&(this.get$Container().children(":last-child").removeClass(p.cssClasses.hidden),this.$moveRightButton_.addClass(p.cssClasses.hidden)),this.shiftControls(t-1))},e}(f.ComposedControl)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WindowDecorator=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(215),p=i(197),d=i(198),g=i(183);i(274);e.WindowDecorator=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.element=(0,h.default)("<div>").addClass("g4u-window-decorator").get(0),i.singleButton=!1,i.className=i.component.getClassName(),i.windowed=!0;var n=(0,r.default)(this,t.call(this,i));return n.$button_=(0,h.default)("<button>").addClass(g.cssClasses.mainButton),n.get$Element().append(n.$button_),n.component_=i.component,n.component_.get$Element().addClass("g4u-window-component"),n.$button_.addClass(g.cssClasses.hasTooltip).html(n.component_.getTitle()),(0,d.addTooltip)(n.$button_,n.component_.getTipLabel()),n.component_.on("change",function(){n.window_.updateSize(),n.window_.getInFront()}),n}return(0,c.default)(e,t),e.prototype.getComponent=function(){return this.component_},e.prototype.setMap=function(e){var i=this;t.prototype.setMap.call(this,e),this.getMap()&&this.getMap().removeControl(this.component_),e&&(e.addControl(this.component_),this.window_=new p.Window({map:e}),this.window_.get$Body().append(this.component_.get$Element()),this.component_.setActive?(this.$button_.on("click touch",function(){i.component_.setActive(!i.component_.getActive())}),this.component_.on("change:active",function(){var t=i.component_.getActive();i.setWindowVisible(t),i.$button_.toggleClass(g.cssClasses.active,t)}),this.window_.on("change:visible",function(t){i.window_.getVisible()||i.component_.setActive(!1),i.dispatchEvent(t)})):(this.$button_.on("click touch",function(){i.setWindowVisible(!i.window_.getVisible())}),this.window_.on("change:visible",function(t){i.dispatchEvent(t)})),this.get$Element().append(this.window_.get$Element()))},e.prototype.setActive=function(t){this.component_.setActive?this.component_.setActive(t):this.window_.setVisible(t)},e.prototype.setWindowVisible=function(t){this.window_.setVisible(t)},e.prototype.getWindowVisible=function(){return this.window_.getVisible()},e}(f.Control)},200,,200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.InfoButton=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(138),p=i(214),d=i(215);i(279);e.InfoButton=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.className=i.className||"g4u-infobutton",i.element=(0,h.default)("<div>")[0];var n=(0,r.default)(this,t.call(this,i));return n.classNameAttributions_=n.className_+"-attributions",n.classNameContent_=n.className_+"-content",n.setTitle(n.getLocaliser().localiseUsingDictionary("InfoPage title")),n.setTipLabel(n.getLocaliser().localiseUsingDictionary("InfoPage tipLabel")),n.$content_=(0,h.default)("<div>").addClass(n.classNameContent_),n.get$Element().append(n.$content_),n.attribution_=i.attribution!==!1,n.contentURL_=i.contentURL,n.useProxy_=n.useProxy_=i.useProxy||!i.hasOwnProperty("useProxy")&&i.proxy,n.proxy_=i.proxy,n.attribution_&&(n.$attributions_=(0,h.default)("<div>"),n.get$Element().append((0,h.default)("<h2>").html(n.getLocaliser().localiseUsingDictionary("InfoPage copyrightTitle"))).append(n.$attributions_),n.attributionControl_=new p.Attribution({target:n.get$Element()[0],localiser:n.getLocaliser(),collapsible:!1,className:n.classNameAttributions_})),n.loaded_=!1,n.active_=!1,n}return(0,c.default)(e,t),e.prototype.setMap=function(e){var i=this.getMap();i&&this.attribution_&&i.removeControl(this.attributionControl_),e&&this.attribution_&&e.addControl(this.attributionControl_),t.prototype.setMap.call(this,e)},e.prototype.setActive=function(t){var e=this,i=this.active_;i!==t&&!function(){e.active_=t;var n={type:"change:active",oldValue:i};if(e.loaded_)e.dispatchEvent(n);else if(e.contentURL_){var o=e.getLocaliser().selectL10N(e.contentURL_);e.useProxy_&&(o=(0,f.addProxy)(o,e.proxy_||e.getMap().get("proxy"))),h.default.get(o,function(t){e.$content_.html(t),e.dispatchEvent(n)})}else e.dispatchEvent(n)}()},e.prototype.getActive=function(){return this.active_},e}(d.Control)},200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LinkButton=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(215),p=i(198),d=i(183);i(282);e.LinkButton=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.className=i.className||"g4u-link-button",i.singleButton=!0,i.element=(0,h.default)("<a></a>").get(0);var n=(0,r.default)(this,t.call(this,i));n.url_=i.hasOwnProperty("url")?i.url:"",n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("LinkButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("LinkButton tipLabel")),n.get$Element().attr("href",n.url_).addClass(n.className_),i.hasOwnProperty("target")&&n.get$Element().attr("target",i.target);var o=(0,h.default)("<button>").addClass(d.cssClasses.mainButton).html(n.getTitle());return(0,p.addTooltip)(o,n.getTipLabel()),n.get$Element().append(o),i.hasOwnProperty("linkTarget")&&n.get$Element().attr("target",i.linkTarget),n}return(0,c.default)(e,t),e}(f.Control)},200,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PrintButton=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(215),p=i(198),d=i(183);i(286);e.PrintButton=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.className=i.className||"g4u-printbutton",i.element=(0,h.default)("<button>").get(0);var n=(0,r.default)(this,t.call(this,i));return n.get$Element().addClass(n.className_).addClass(d.cssClasses.mainButton).html(n.getLocaliser().localiseUsingDictionary("PrintButton title")),(0,p.addTooltip)(n.get$Element(),n.getLocaliser().localiseUsingDictionary("PrintButton tipLabel")),n.get$Element().on("click",function(){return n.onClick_()}),n}return(0,c.default)(e,t),e.prototype.onClick_=function(){var t=this,e=function(t,e){(0,h.default)(t).innerWidth(e[0]),(0,h.default)(t).innerHeight(e[1])},i=function(){try{var t=this.getMap().getViewport(),e=t.getElementsByTagName("canvas")[0];return e.getContext("2d").getImageData(1,1,1,1),!1}catch(i){return!0}};if(i()){var n=(0,h.default)(this.getMap().getViewport()),o=n.parent(),s=o.clone().empty().append(n);e(s,this.getMap().getSize());var a=(0,h.default)("body"),r=(0,h.default)("<body>").append(s);document.body=r.get(0),window.print(),document.body=a.get(0),o.append(n)}else!function(){var i=window.open("","_blank"),n=(0,h.default)("<div>").append((0,h.default)("style").clone()).append((0,h.default)('link[type="text/css"]').clone()),o=t.getMap().getViewport(),s=o.parentNode.cloneNode(!0);e(s,t.getMap().getSize());var a=o.getElementsByTagName("canvas")[0],r=s.getElementsByTagName("canvas")[0],l=r.getContext("2d");l.drawImage(a,0,0);var c=i.document;c.open(),c.write("<!doctype html>"),c.write("<html>"),c.write("<head>"),c.write("<title>"),c.write(t.getLocaliser().localiseUsingDictionary("PrintButton windowTitle")),c.write("</title>"),c.write(n.html()),c.write('<script type="text/javascript">'),c.write("window.onload = function () {\n"),c.write("\twindow.focus();\n"),c.write("\tsetTimeout( function () {\n"),c.write("\t\twindow.print();\n"),c.write("\t\twindow.close();\n"),
c.write("\t}, 50);\n"),c.write("};"),c.write("</script>"),c.write("</head>"),c.write("</html>"),c.close(),i.onload=function(){c.getElementsByTagName("body")[0].appendChild(s)},i.focus()}();this.dispatchEvent("click")},e}(f.Control)},200,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Logo=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(215);i(290);e.Logo=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.className=i.className||"g4u-logo",i.element=(0,h.default)("<img>").get(0),i.singleButton=!1;var n=(0,r.default)(this,t.call(this,i));return n.logo_=i.hasOwnProperty("src")?i.src:"images/g4u-logo.png",n.get$Element().on("load",function(){return n.changed}).prop("src",n.logo_).addClass(n.className_),"both"!==i.mode&&"screen"!==i.mode||n.get$Element().addClass(n.className_+"-screen"),"both"!==i.mode&&"print"!==i.mode||n.get$Element().addClass(n.className_+"-print"),i.width&&n.get$Element().width(i.width),i.height&&n.get$Element().height(i.height),i.opacity&&n.get$Element().css("opacity",i.opacity.toString()),n}return(0,c.default)(e,t),e}(f.Control)},200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HelpButton=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(78),h=n(u),f=i(215),p=i(138),d=i(129),g=n(d),m=i(151);i(293);var y=i(137);e.HelpButton=function(t){function e(i){(0,s.default)(this,e),i.element=(0,h.default)("<div>")[0],i.className=i.className||"g4u-helpbutton";var n=(0,r.default)(this,t.call(this,i));return n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("HelpButton title")),n.setTipLabel(n.getTipLabel()||i.localiser.localiseUsingDictionary("HelpButton tipLabel")),n.configControls_=i.configControls||{},n.active_=!1,n.documentationFileName_=i.fileName,n}return(0,c.default)(e,t),e.prototype.createContent_=function(){var t=this,e=this.getMap().get("localiser"),i=JSON.parse((0,g.default)(this.contentData_));(0,p.checkFor)(i,e.getCurrentLang())?this.language=e.getCurrentLang():(0,p.checkFor)(i,e.getDefaultLang())?this.language=e.getDefaultLang():this.language="de";var n=function(e,n){function o(t,e){for(var i=0,n=e.length;i<n;i++)if(t[e[i]]&&t[e[i]].contains){for(var s=0,a=t[e[i]].contains.length;s<a;s++)g.indexOf(t[e[i]].contains[s])===-1&&g.push(t[e[i]].contains[s]);o(t,t[e[i]].contains)}}var s=(0,h.default)("<table>").addClass(t.className_+"-table"),a=i[n],r=void 0,l=void 0,c=void 0,u=void 0,f=void 0,p=void 0,d=void 0,g=[];t.configControls_&&t.configControls_.onMap&&(g=(0,y.copyDeep)(t.configControls_.onMap),o(t.configControls_,g));for(r in a)if(a.hasOwnProperty(r)&&a[r]){if(l=a[r].img,c=a[r].descr||"",u=a[r].joinWith||"",g.indexOf(r)>-1){if(p=(0,h.default)("<tr>"),f='<td class="'+t.className_+'-img"><div class="'+t.className_+'-imgDiv">',l)if(h.default.isArray(l)){for(var m=0,v=l.length;m<v;m++)l[m]='<img class="'+t.className_+'-docuImg" src="images/doc/'+l[m]+'">';f+=l.join(u)}else f+='<img class="'+t.className_+'-docuImg" src="images/doc/'+l+'">';f+="</div></td>",p.append(f),d=(0,h.default)("<td>").addClass(t.className_+"-descr"),h.default.isArray(c)?d.append(c.join("<p>")):d.append(c),p.append(d)}s.append(p)}return s};this.get$Element().append(n(i,this.language))},e.prototype.setActive=function(t){var e=this;if(!this.loading_){var i=this.active_;i!==t&&!function(){e.active_=t;var n={type:"change:active",oldValue:i};t===!0?e.contentData_?e.dispatchEvent(n):(e.loading_=!0,h.default.ajax(e.documentationFileName_,{dataType:"text"}).fail(function(){var t="Wasn't able to load the documentation file "+e.documentationFileName_;throw m.Debug.error(t),new Error(t)}).done(function(t){e.contentData_=t,e.createContent_(),(0,p.finishAllImages)(e.get$Element()).then(function(){e.loading_=!1,e.dispatchEvent(n)})})):e.dispatchEvent(n)}()}},e.prototype.getActive=function(){return this.active_},e}(f.Control)},200,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ActiveGroup=void 0;var o=i(105),s=n(o),a=i(119),r=n(a);e.ActiveGroup=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,r.default)(this,t),this.controls_=e;var i=!0,n=!1,o=void 0;try{for(var a,l=(0,s.default)(this.controls_);!(i=(a=l.next()).done);i=!0){var c=a.value;this.addControl(c)}}catch(u){n=!0,o=u}finally{try{!i&&l.return&&l.return()}finally{if(n)throw o}}}return t.prototype.addControl=function(t){var e=this;this.controls_.push(t),t.on("change:active",function(){t.getActive()?(e.activeControl_&&e.activeControl_.setActive(!1),e.activeControl_=t):e.activeControl_=null})},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MousePosition=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(138),p=i(241);i(298);e.MousePosition=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),i.className=i.hasOwnProperty("className")?i.className:"g4u-mouseposition";var n=function(t,e){var i=t.toString().match(/^[^.]*/)[0];return i.length>=e?i:t.toFixed(e-i.length)},o=i.digits||8;i.coordinateFormat=function(t){return n(t[0],o)+", "+n(t[1],o)};var a="&ndash;."+"&ndash;".repeat(o-1);return i.undefinedHTML=a+", "+a,(0,r.default)(this,t.call(this,i))}return(0,c.default)(e,t),e}((0,f.mixin)(h.default.control.MousePosition,p.RewireMixin))},200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ScaleLine=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(138),p=i(241);i(301);e.ScaleLine=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.default)(this,e),i.className=i.hasOwnProperty("className")?i.className:"g4u-scale-line",(0,r.default)(this,t.call(this,i))}return(0,c.default)(e,t),e}((0,f.mixin)(h.default.control.ScaleLine,p.RewireMixin))},200,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewMap=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(241),p=i(138);i(304);e.OverviewMap=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.default)(this,e),i.hasOwnProperty("title")?i.tipLabel=i.localiser.selectL10N(i.title):i.tipLabel=i.hasOwnProperty("tipLabel")?i.localiser.selectL10N(i.tipLabel):i.localiser.localiseUsingDictionary("OverviewMap tipLabel"),(0,r.default)(this,t.call(this,i))}return(0,c.default)(e,t),e.prototype.setMap=function(e){var i=this;t.prototype.setMap.call(this,e),e&&!function(){var t=i.get$Element().find(".ol-overviewmap-map");t=t.add(t.find(".ol-overviewmap-box"));var n=!1;t.on("click",function(t){n||e.getView().setCenter(i.getOverviewMap().getEventCoordinate(t))});var o=!1;t.on("mousedown",function(){n=!1,o=!0}),t.on("mouseup",function(t){o=!1}),t.on("mousemove",function(t){o&&e.getView().setCenter(i.getOverviewMap().getEventCoordinate(t))}),i.getOverviewMap().getView().on("change:center",function(){o=!1,n=!0})}()},e}((0,p.mixin)(h.default.control.OverviewMap,f.RewireMixin))},200,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureSelect=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(309),p=n(f);e.FeatureSelect=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,r.default)(this,t.call(this,i)),o=function(t){return t.getGeometry()instanceof h.default.geom.Point||t.getGeometry()instanceof h.default.geom.MultiPoint?1:t.getGeometry()instanceof h.default.geom.LineString||t.getGeometry()instanceof h.default.geom.MultiLineString?2:3};return n.on("select",function(t){t.selected=(0,p.default)(t.selected,o),t.deselected=(0,p.default)(t.deselected,o)}),n}return(0,c.default)(e,t),e}(h.default.interaction.Select)},function(t,e,i){var n=i(187),o=i(310),s=i(420),a=i(428),r=s(function(t,e){if(null==t)return[];var i=e.length;return i>1&&a(t,e[0],e[1])?e=[]:i>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,n(e,1),[])});t.exports=r},function(t,e,i){function n(t,e,i){var n=-1;e=o(e.length?e:[u],l(s));var h=a(t,function(t,i,s){var a=o(e,function(e){return e(t)});return{criteria:a,index:++n,value:t}});return r(h,function(t,e){return c(t,e,i)})}var o=i(311),s=i(312),a=i(411),r=i(417),l=i(376),c=i(418),u=i(407);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=t?t.length:0,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}t.exports=i},function(t,e,i){function n(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?r(t)?s(t[0],t[1]):o(t):l(t)}var o=i(313),s=i(392),a=i(407),r=i(196),l=i(408);t.exports=n},function(t,e,i){function n(t){var e=s(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(i){return i===t||o(i,t,e)}}var o=i(314),s=i(389),a=i(391);t.exports=n},function(t,e,i){function n(t,e,i,n){var l=i.length,c=l,u=!n;if(null==t)return!c;for(t=Object(t);l--;){var h=i[l];if(u&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++l<c;){h=i[l];var f=h[0],p=t[f],d=h[1];if(u&&h[2]){if(void 0===p&&!(f in t))return!1}else{var g=new o;if(n)var m=n(p,d,f,t,e,g);if(!(void 0===m?s(d,p,n,a|r,g):m))return!1}}return!0}var o=i(315),s=i(353),a=1,r=2;t.exports=n},function(t,e,i){function n(t){var e=this.__data__=new o(t);this.size=e.size}var o=i(316),s=i(324),a=i(325),r=i(326),l=i(327),c=i(328);n.prototype.clear=s,n.prototype.delete=a,n.prototype.get=r,n.prototype.has=l,n.prototype.set=c,t.exports=n},function(t,e,i){function n(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}var o=i(317),s=i(318),a=i(321),r=i(322),l=i(323);n.prototype.clear=o,n.prototype.delete=s,n.prototype.get=a,n.prototype.has=r,n.prototype.set=l,t.exports=n},function(t,e){function i(){this.__data__=[],this.size=0}t.exports=i},function(t,e,i){function n(t){var e=this.__data__,i=o(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():a.call(e,i,1),--this.size,!0}var o=i(319),s=Array.prototype,a=s.splice;t.exports=n},function(t,e,i){function n(t,e){for(var i=t.length;i--;)if(o(t[i][0],e))return i;return-1}var o=i(320);t.exports=n},function(t,e){function i(t,e){return t===e||t!==t&&e!==e}t.exports=i},function(t,e,i){function n(t){var e=this.__data__,i=o(e,t);return i<0?void 0:e[i][1]}var o=i(319);t.exports=n},function(t,e,i){function n(t){return o(this.__data__,t)>-1}var o=i(319);t.exports=n},function(t,e,i){function n(t,e){var i=this.__data__,n=o(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}var o=i(319);t.exports=n},function(t,e,i){function n(){this.__data__=new o,this.size=0}var o=i(316);t.exports=n},function(t,e){function i(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}t.exports=i},function(t,e){function i(t){return this.__data__.get(t)}t.exports=i},function(t,e){function i(t){return this.__data__.has(t)}t.exports=i},function(t,e,i){function n(t,e){var i=this.__data__;if(i instanceof o){var n=i.__data__;if(!s||n.length<r-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new a(n)}return i.set(t,e),this.size=i.size,this}var o=i(316),s=i(329),a=i(338),r=200;t.exports=n},function(t,e,i){var n=i(330),o=i(191),s=n(o,"Map");t.exports=s},function(t,e,i){function n(t,e){var i=s(t,e);return o(i)?i:void 0}var o=i(331),s=i(337);t.exports=n},function(t,e,i){function n(t){if(!a(t)||s(t))return!1;var e=o(t)?d:c;return e.test(r(t))}var o=i(332),s=i(334),a=i(333),r=i(336),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,h=Object.prototype,f=u.toString,p=h.hasOwnProperty,d=RegExp("^"+f.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,i){function n(t){var e=o(t)?c.call(t):"";return e==s||e==a||e==r}var o=i(333),s="[object Function]",a="[object GeneratorFunction]",r="[object Proxy]",l=Object.prototype,c=l.toString;t.exports=n},function(t,e){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=i},function(t,e,i){function n(t){return!!s&&s in t}var o=i(335),s=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=n},function(t,e,i){var n=i(191),o=n["__core-js_shared__"];t.exports=o},function(t,e){function i(t){if(null!=t){try{return o.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var n=Function.prototype,o=n.toString;t.exports=i},function(t,e){function i(t,e){return null==t?void 0:t[e]}t.exports=i},function(t,e,i){function n(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}var o=i(339),s=i(347),a=i(350),r=i(351),l=i(352);n.prototype.clear=o,n.prototype.delete=s,n.prototype.get=a,n.prototype.has=r,n.prototype.set=l,t.exports=n},function(t,e,i){function n(){this.size=0,this.__data__={hash:new o,map:new(a||s),string:new o}}var o=i(340),s=i(316),a=i(329);t.exports=n},function(t,e,i){function n(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}var o=i(341),s=i(343),a=i(344),r=i(345),l=i(346);n.prototype.clear=o,n.prototype.delete=s,n.prototype.get=a,n.prototype.has=r,n.prototype.set=l,t.exports=n},function(t,e,i){function n(){this.__data__=o?o(null):{},this.size=0}var o=i(342);t.exports=n},function(t,e,i){var n=i(330),o=n(Object,"create");t.exports=o},function(t,e){function i(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=i},function(t,e,i){function n(t){var e=this.__data__;if(o){var i=e[t];return i===s?void 0:i}return r.call(e,t)?e[t]:void 0}var o=i(342),s="__lodash_hash_undefined__",a=Object.prototype,r=a.hasOwnProperty;t.exports=n},function(t,e,i){function n(t){var e=this.__data__;return o?void 0!==e[t]:a.call(e,t)}var o=i(342),s=Object.prototype,a=s.hasOwnProperty;t.exports=n},function(t,e,i){function n(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=o&&void 0===e?s:e,this}var o=i(342),s="__lodash_hash_undefined__";t.exports=n},function(t,e,i){function n(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}var o=i(348);t.exports=n},function(t,e,i){function n(t,e){var i=t.__data__;return o(e)?i["string"==typeof e?"string":"hash"]:i.map}var o=i(349);t.exports=n},function(t,e){function i(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=i},function(t,e,i){function n(t){return o(this,t).get(t)}var o=i(348);t.exports=n},function(t,e,i){function n(t){return o(this,t).has(t)}var o=i(348);t.exports=n},function(t,e,i){function n(t,e){var i=o(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}var o=i(348);t.exports=n},function(t,e,i){function n(t,e,i,r,l){return t===e||(null==t||null==e||!s(t)&&!a(e)?t!==t&&e!==e:o(t,e,n,i,r,l))}var o=i(354),s=i(333),a=i(195);t.exports=n},function(t,e,i){function n(t,e,i,n,m,v){var _=c(t),b=c(e),M=d,w=d;_||(M=l(t),M=M==p?g:M),b||(w=l(e),w=w==p?g:w);var x=M==g,C=w==g,S=M==w;if(S&&u(t)){if(!u(e))return!1;_=!0,x=!1}if(S&&!x)return v||(v=new o),_||h(t)?s(t,e,i,n,m,v):a(t,e,M,i,n,m,v);if(!(m&f)){var P=x&&y.call(t,"__wrapped__"),L=C&&y.call(e,"__wrapped__");if(P||L){var E=P?t.value():t,A=L?e.value():e;return v||(v=new o),i(E,A,n,m,v)}}return!!S&&(v||(v=new o),r(t,e,i,n,m,v))}var o=i(315),s=i(355),a=i(361),r=i(365),l=i(383),c=i(196),u=i(369),h=i(373),f=2,p="[object Arguments]",d="[object Array]",g="[object Object]",m=Object.prototype,y=m.hasOwnProperty;t.exports=n},function(t,e,i){function n(t,e,i,n,c,u){var h=c&l,f=t.length,p=e.length;if(f!=p&&!(h&&p>f))return!1;var d=u.get(t);if(d&&u.get(e))return d==e;var g=-1,m=!0,y=c&r?new o:void 0;for(u.set(t,e),u.set(e,t);++g<f;){var v=t[g],_=e[g];if(n)var b=h?n(_,v,g,e,t,u):n(v,_,g,t,e,u);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!s(e,function(t,e){if(!a(y,e)&&(v===t||i(v,t,n,c,u)))return y.push(e)})){m=!1;break}}else if(v!==_&&!i(v,_,n,c,u)){m=!1;break}}return u.delete(t),u.delete(e),m}var o=i(356),s=i(359),a=i(360),r=1,l=2;t.exports=n},function(t,e,i){function n(t){var e=-1,i=t?t.length:0;for(this.__data__=new o;++e<i;)this.add(t[e])}var o=i(338),s=i(357),a=i(358);n.prototype.add=n.prototype.push=s,n.prototype.has=a,t.exports=n},function(t,e){function i(t){return this.__data__.set(t,n),this}var n="__lodash_hash_undefined__";t.exports=i},function(t,e){function i(t){return this.__data__.has(t)}t.exports=i},function(t,e){function i(t,e){for(var i=-1,n=t?t.length:0;++i<n;)if(e(t[i],i,t))return!0;return!1}t.exports=i},function(t,e){function i(t,e){return t.has(e)}t.exports=i},function(t,e,i){function n(t,e,i,n,o,x,S){switch(i){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!n(new s(t),new s(e)));case f:case p:case m:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case y:case _:return t==e+"";case g:var P=l;case v:var L=x&h;if(P||(P=c),t.size!=e.size&&!L)return!1;var E=S.get(t);if(E)return E==e;x|=u,S.set(t,e);var A=r(P(t),P(e),n,o,x,S);return S.delete(t),A;case b:if(C)return C.call(t)==C.call(e)}return!1}var o=i(190),s=i(362),a=i(320),r=i(355),l=i(363),c=i(364),u=1,h=2,f="[object Boolean]",p="[object Date]",d="[object Error]",g="[object Map]",m="[object Number]",y="[object RegExp]",v="[object Set]",_="[object String]",b="[object Symbol]",M="[object ArrayBuffer]",w="[object DataView]",x=o?o.prototype:void 0,C=x?x.valueOf:void 0;t.exports=n},function(t,e,i){var n=i(191),o=n.Uint8Array;t.exports=o},function(t,e){function i(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}t.exports=i},function(t,e){function i(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}t.exports=i},function(t,e,i){function n(t,e,i,n,a,l){var c=a&s,u=o(t),h=u.length,f=o(e),p=f.length;if(h!=p&&!c)return!1;for(var d=h;d--;){var g=u[d];if(!(c?g in e:r.call(e,g)))return!1}var m=l.get(t);if(m&&l.get(e))return m==e;var y=!0;l.set(t,e),l.set(e,t);for(var v=c;++d<h;){g=u[d];var _=t[g],b=e[g];if(n)var M=c?n(b,_,g,e,t,l):n(_,b,g,t,e,l);if(!(void 0===M?_===b||i(_,b,n,a,l):M)){y=!1;break}v||(v="constructor"==g)}if(y&&!v){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(y=!1)}return l.delete(t),l.delete(e),y}var o=i(366),s=2,a=Object.prototype,r=a.hasOwnProperty;t.exports=n},function(t,e,i){function n(t){return a(t)?o(t):s(t)}var o=i(367),s=i(378),a=i(382);t.exports=n},function(t,e,i){function n(t,e){var i=a(t),n=!i&&s(t),u=!i&&!n&&r(t),f=!i&&!n&&!u&&c(t),p=i||n||u||f,d=p?o(t.length,String):[],g=d.length;for(var m in t)!e&&!h.call(t,m)||p&&("length"==m||u&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,g))||d.push(m);return d}var o=i(368),s=i(193),a=i(196),r=i(369),l=i(372),c=i(373),u=Object.prototype,h=u.hasOwnProperty;t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}t.exports=i},function(t,e,i){(function(t){var n=i(191),o=i(371),s="object"==typeof e&&e&&!e.nodeType&&e,a=s&&"object"==typeof t&&t&&!t.nodeType&&t,r=a&&a.exports===s,l=r?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||o;t.exports=u}).call(e,i(370)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function i(){return!1}t.exports=i},function(t,e){function i(t,e){return e=null==e?n:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=i},function(t,e,i){var n=i(374),o=i(376),s=i(377),a=s&&s.isTypedArray,r=a?o(a):n;t.exports=r},function(t,e,i){function n(t){return s(t)&&o(t.length)&&!!k[I.call(t)]}var o=i(375),s=i(195),a="[object Arguments]",r="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",h="[object Function]",f="[object Map]",p="[object Number]",d="[object Object]",g="[object RegExp]",m="[object Set]",y="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",M="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",P="[object Uint8Array]",L="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",k={};k[M]=k[w]=k[x]=k[C]=k[S]=k[P]=k[L]=k[E]=k[A]=!0,k[a]=k[r]=k[_]=k[l]=k[b]=k[c]=k[u]=k[h]=k[f]=k[p]=k[d]=k[g]=k[m]=k[y]=k[v]=!1;var O=Object.prototype,I=O.toString;t.exports=n},function(t,e){function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}var n=9007199254740991;t.exports=i},function(t,e){function i(t){return function(e){return t(e)}}t.exports=i},function(t,e,i){(function(t){var n=i(192),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o,r=a&&n.process,l=function(){try{return r&&r.binding("util")}catch(t){}}();t.exports=l}).call(e,i(370)(t))},function(t,e,i){function n(t){if(!o(t))return s(t);var e=[];for(var i in Object(t))r.call(t,i)&&"constructor"!=i&&e.push(i);return e}var o=i(379),s=i(380),a=Object.prototype,r=a.hasOwnProperty;t.exports=n},function(t,e){function i(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||n;return t===i}var n=Object.prototype;t.exports=i},function(t,e,i){var n=i(381),o=n(Object.keys,Object);t.exports=o},function(t,e){function i(t,e){return function(i){return t(e(i))}}t.exports=i},function(t,e,i){function n(t){return null!=t&&s(t.length)&&!o(t)}var o=i(332),s=i(375);t.exports=n},function(t,e,i){var n=i(384),o=i(329),s=i(385),a=i(386),r=i(387),l=i(388),c=i(336),u="[object Map]",h="[object Object]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",g="[object DataView]",m=Object.prototype,y=m.toString,v=c(n),_=c(o),b=c(s),M=c(a),w=c(r),x=l;(n&&x(new n(new ArrayBuffer(1)))!=g||o&&x(new o)!=u||s&&x(s.resolve())!=f||a&&x(new a)!=p||r&&x(new r)!=d)&&(x=function(t){var e=y.call(t),i=e==h?t.constructor:void 0,n=i?c(i):void 0;if(n)switch(n){case v:return g;case _:return u;case b:return f;case M:return p;case w:return d}return e}),t.exports=x},function(t,e,i){var n=i(330),o=i(191),s=n(o,"DataView");t.exports=s},function(t,e,i){var n=i(330),o=i(191),s=n(o,"Promise");t.exports=s},function(t,e,i){var n=i(330),o=i(191),s=n(o,"Set");t.exports=s},function(t,e,i){var n=i(330),o=i(191),s=n(o,"WeakMap");t.exports=s},function(t,e){function i(t){return o.call(t)}var n=Object.prototype,o=n.toString;t.exports=i},function(t,e,i){function n(t){for(var e=s(t),i=e.length;i--;){var n=e[i],a=t[n];e[i]=[n,a,o(a)]}return e}var o=i(390),s=i(366);t.exports=n},function(t,e,i){function n(t){return t===t&&!o(t)}var o=i(333);t.exports=n},function(t,e){function i(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}}t.exports=i},function(t,e,i){function n(t,e){return r(t)&&l(e)?c(u(t),e):function(i){var n=s(i,t);return void 0===n&&n===e?a(i,t):o(e,n,void 0,h|f)}}var o=i(353),s=i(393),a=i(404),r=i(402),l=i(390),c=i(391),u=i(403),h=1,f=2;t.exports=n},function(t,e,i){function n(t,e,i){var n=null==t?void 0:o(t,e);return void 0===n?i:n}var o=i(394);t.exports=n},function(t,e,i){function n(t,e){e=s(e,t)?[e]:o(e);for(var i=0,n=e.length;null!=t&&i<n;)t=t[a(e[i++])];return i&&i==n?t:void 0}var o=i(395),s=i(402),a=i(403);t.exports=n},function(t,e,i){function n(t){return o(t)?t:s(t)}var o=i(196),s=i(396);t.exports=n},function(t,e,i){var n=i(397),o=i(399),s=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,l=n(function(t){t=o(t);var e=[];return s.test(t)&&e.push(""),t.replace(a,function(t,i,n,o){e.push(n?o.replace(r,"$1"):i||t)}),e});t.exports=l},function(t,e,i){function n(t){var e=o(t,function(t){return i.size===s&&i.clear(),t}),i=e.cache;return e}var o=i(398),s=500;t.exports=n},function(t,e,i){function n(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(s);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],s=i.cache;if(s.has(o))return s.get(o);var a=t.apply(this,n);return i.cache=s.set(o,a)||s,a};return i.cache=new(n.Cache||o),i}var o=i(338),s="Expected a function";n.Cache=o,t.exports=n},function(t,e,i){function n(t){return null==t?"":o(t)}var o=i(400);t.exports=n},function(t,e,i){function n(t){if("string"==typeof t)return t;if(a(t))return s(t,n)+"";if(r(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}var o=i(190),s=i(311),a=i(196),r=i(401),l=1/0,c=o?o.prototype:void 0,u=c?c.toString:void 0;t.exports=n},function(t,e,i){function n(t){return"symbol"==typeof t||o(t)&&r.call(t)==s}var o=i(195),s="[object Symbol]",a=Object.prototype,r=a.toString;t.exports=n},function(t,e,i){function n(t,e){if(o(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!s(t))||(r.test(t)||!a.test(t)||null!=e&&t in Object(e))}var o=i(196),s=i(401),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;t.exports=n},function(t,e,i){function n(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-s?"-0":e}var o=i(401),s=1/0;t.exports=n},function(t,e,i){function n(t,e){return null!=t&&s(t,e,o)}var o=i(405),s=i(406);t.exports=n},function(t,e){function i(t,e){return null!=t&&e in Object(t)}t.exports=i},function(t,e,i){function n(t,e,i){e=l(e,t)?[e]:o(e);for(var n=-1,h=e.length,f=!1;++n<h;){var p=u(e[n]);if(!(f=null!=t&&i(t,p)))break;t=t[p]}return f||++n!=h?f:(h=t?t.length:0,!!h&&c(h)&&r(p,h)&&(a(t)||s(t)))}var o=i(395),s=i(193),a=i(196),r=i(372),l=i(402),c=i(375),u=i(403);t.exports=n},function(t,e){function i(t){return t}t.exports=i},function(t,e,i){function n(t){return a(t)?o(r(t)):s(t)}var o=i(409),s=i(410),a=i(402),r=i(403);t.exports=n},function(t,e){function i(t){return function(e){return null==e?void 0:e[t]}}t.exports=i},function(t,e,i){function n(t){return function(e){return o(e,t)}}var o=i(394);t.exports=n},function(t,e,i){function n(t,e){var i=-1,n=s(t)?Array(t.length):[];return o(t,function(t,o,s){n[++i]=e(t,o,s)}),n}var o=i(412),s=i(382);t.exports=n},function(t,e,i){var n=i(413),o=i(416),s=o(n);t.exports=s},function(t,e,i){function n(t,e){return t&&o(t,e,s)}var o=i(414),s=i(366);t.exports=n},function(t,e,i){var n=i(415),o=n();t.exports=o},function(t,e){function i(t){return function(e,i,n){for(var o=-1,s=Object(e),a=n(e),r=a.length;r--;){var l=a[t?r:++o];if(i(s[l],l,s)===!1)break}return e}}t.exports=i},function(t,e,i){function n(t,e){return function(i,n){if(null==i)return i;if(!o(i))return t(i,n);for(var s=i.length,a=e?s:-1,r=Object(i);(e?a--:++a<s)&&n(r[a],a,r)!==!1;);return i}}var o=i(382);t.exports=n},function(t,e){function i(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}t.exports=i},function(t,e,i){function n(t,e,i){for(var n=-1,s=t.criteria,a=e.criteria,r=s.length,l=i.length;++n<r;){var c=o(s[n],a[n]);if(c){if(n>=l)return c;var u=i[n];return c*("desc"==u?-1:1)}}return t.index-e.index}var o=i(419);t.exports=n},function(t,e,i){function n(t,e){if(t!==e){var i=void 0!==t,n=null===t,s=t===t,a=o(t),r=void 0!==e,l=null===e,c=e===e,u=o(e);if(!l&&!u&&!a&&t>e||a&&r&&c&&!l&&!u||n&&r&&c||!i&&c||!s)return 1;if(!n&&!a&&!u&&t<e||u&&i&&s&&!n&&!a||l&&i&&s||!r&&s||!c)return-1}return 0}var o=i(401);t.exports=n},function(t,e,i){function n(t,e){return a(s(t,e,o),t+"")}var o=i(407),s=i(421),a=i(423);t.exports=n},function(t,e,i){function n(t,e,i){return e=s(void 0===e?t.length-1:e,0),function(){for(var n=arguments,a=-1,r=s(n.length-e,0),l=Array(r);++a<r;)l[a]=n[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=n[a];return c[e]=i(l),o(t,this,c)}}var o=i(422),s=Math.max;t.exports=n},function(t,e){function i(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}t.exports=i},function(t,e,i){var n=i(424),o=i(427),s=o(n);t.exports=s},function(t,e,i){var n=i(425),o=i(426),s=i(407),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:s;t.exports=a},function(t,e){function i(t){return function(){return t}}t.exports=i},function(t,e,i){var n=i(330),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},function(t,e){function i(t){var e=0,i=0;return function(){var a=s(),r=o-(a-i);if(i=a,r>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var n=500,o=16,s=Date.now;t.exports=i},function(t,e,i){function n(t,e,i){if(!r(i))return!1;var n=typeof e;return!!("number"==n?s(i)&&a(e,i.length):"string"==n&&e in i)&&o(i[e],t)}var o=i(320),s=i(382),a=i(372),r=i(333);t.exports=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionCallBuffer=void 0;var o=i(119),s=n(o);e.FunctionCallBuffer=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,s.default)(this,t),this.func_=e,this.bufferTime_=i,this.timeout_=-1}return t.prototype.call=function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];clearTimeout(this.timeout_),this.timeout_=setTimeout(function(){t.func_.apply(t,i)},this.bufferTime_)},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ShowWMSFeatureInfo=void 0;var o=i(178),s=n(o),a=i(105),r=n(a),l=i(119),c=n(l),u=i(77),h=n(u),f=i(168),p=i(431),d=i(185);e.ShowWMSFeatureInfo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(this,t),this.separator_=e.hasOwnProperty("seperator")?e.seperator:"<br>",this.style_=e.style||"#defaultStyle",this.animated_=e.animated,this.centerOnPopup_=!e.hasOwnProperty("centerOnPopup")||e.centerOnPopup,this.centerIfNoData_=!!e.hasOwnProperty("centerOnPopup")&&e.centerIfNoData,this.centerOnPopupInitial_=this.centerOnPopup_,this.mutators_=e.mutators||[]}return t.prototype.setMap=function(t){var e=this,i=function(){t.get("mobile")?e.centerOnPopup_=!1:e.centerOnPopup_=e.centerOnPopupInitial_};this.getMap()&&(this.getMap().un("change:mobile",i),h.default.Observable.unByKey(this.listenerKey_)),this.map_=t,t&&!function(){e.utilitySource_=new h.default.source.Vector,e.utilityLayer_=new f.VectorLayer({visible:!1,source:e.utilitySource_}),t.addLayer(e.utilityLayer_),e.layers_=[];var n=t.get("featurePopup"),o=t.getView().getProjection(),a=new p.MapEventInteraction({type:"singleclick"});a.on("mapevent",function(i){var a=i.mapEvent.coordinate;e.utilitySource_.clear(),t.forEachFeatureAtPixel(i.mapEvent.pixel,d.FeaturePopup.canDisplay)||!function(){var i=void 0,l=!0,c=!1,u=void 0;try{for(var f,p=function(){var r=f.value;r.getVisible()&&r.getSource().getFeatureInfo(a,t.getView().getResolution(),o).then(function(o){""!==o&&(i?i.set("description",i.get("description")+e.separator_+o):(e.utilitySource_.clear(),i=new h.default.Feature({geometry:new h.default.geom.Point(a),description:o}),t.get("styling").styleFeature(i,e.style_),e.utilitySource_.addFeature(i),n.setFeature(i,[].concat((0,s.default)(e.mutators_),(0,s.default)(r.getSource().getFeatureInfoMutators()))),n.setVisible(!0),e.setPointVisible(!0),e.centerOnPopup_&&n.centerMapOnPopup(e.animated_),n.once("change:visible",function(){return e.setPointVisible(!1)}))),r.on("change:visible",function(){n.setVisible(!1)})})},d=(0,r.default)(e.layers_);!(l=(f=d.next()).done);l=!0)p()}catch(g){c=!0,u=g}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}}()}),t.addDefaultInteraction("singleclick",a),i(),t.on("change:mobile",i)}()},t.prototype.getPointVisible=function(){return this.utilityLayer_.getVisible()},t.prototype.setPointVisible=function(t){this.utilityLayer_.setVisible(t);
},t.prototype.getMap=function(){return this.map_},t.prototype.addLayer=function(t){this.layers_.push(t)},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MapEventInteraction=void 0;var o=i(119),s=n(o),a=i(120),r=n(a),l=i(121),c=n(l),u=i(77),h=n(u),f=i(78),p=n(f);e.MapEventInteraction=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var o=n.type||"singleclick";return i=(0,r.default)(this,t.call(this,{handleEvent:function(t){return i.getActive()&&t.type===o&&(0,p.default)(t.originalEvent.target).is(".ol-viewport > canvas")&&i.dispatchEvent({type:"mapevent",mapEvent:t}),!0}}))}return(0,c.default)(e,t),e}(h.default.interaction.Interaction)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.API=void 0;var o=i(12),s=n(o),a=i(119),r=n(a),l=i(120),c=n(l),u=i(121),h=n(u),f=i(77),p=n(f),d=i(78),g=n(d),m=i(183);e.API=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(this,e);var o=(0,c.default)(this,t.call(this));return o.featureManipulationActive_=!1,o.drawStyle_=n.drawStyle||"#drawStyle",o.wktParser_=new p.default.format.WKT,o.map_=i,o.featureManipulationInteraction_=null,o.map_.once("ready",function(){o.layerConfigurator_=o.map_.get("configurator").layerConfigurator_}),(0,g.default)(o.map_.getViewport()).on("keydown",o.onKeyDown_.bind(o)),o}return(0,h.default)(e,t),e.prototype.endFeatureManipulationInternal_=function(){this.featureManipulationInteraction_&&(this.featureManipulationInteraction_.setActive(!1),this.map_.removeInteraction(this.featureManipulationInteraction_)),(0,g.default)(this.map_.getViewport()).removeClass(m.cssClasses.crosshair),(0,g.default)(this.map_.getViewport()).removeClass(m.cssClasses.arrow),this.featureManipulationActive_=!1,this.dispatchEvent("endManipulation")},e.prototype.cancelFeatureManipulation=function(){this.featureManipulationActive_&&this.endFeatureManipulationInternal_()},e.prototype.drawFeature=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.featureManipulationActive_&&this.endFeatureManipulationInternal_(),this.featureManipulationActive_=!0;var i=new p.default.Collection,n=e.style||this.drawStyle_||{},o=this.map_.get("styling").getStyle(n);return this.map_.get("styling").styleCollection(i,o),this.featureManipulationInteraction_=new p.default.interaction.Draw({features:i,type:e.type||"Point",style:o}),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",this.featureManipulationInteraction_),(0,g.default)(this.map_.getViewport()).addClass(m.cssClasses.crosshair),{cancel:function(){t.endFeatureManipulationInternal_()},end:function(){t.featureManipulationInteraction_.finishDrawing(),t.endFeatureManipulationInternal_()},result:new s.default(function(e){t.featureManipulationInteraction_.on("drawend",function(i){e(i.feature),t.endFeatureManipulationInternal_()})})}},e.prototype.onKeyDown_=function(t){this.featureManipulationActive_&&t.which===m.keyCodes.ESCAPE&&this.endFeatureManipulationInternal_()},e.prototype.selectFeature=function(){var t=this;return this.featureManipulationActive_&&this.endFeatureManipulationInternal_(null),this.featureManipulationActive_=!0,this.featureManipulationInteraction_=new p.default.interaction.Select,this.map_.addSupersedingInteraction("singleclick",this.featureManipulationInteraction_),(0,g.default)(this.map_.getViewport()).addClass(m.cssClasses.arrow),{cancel:function(){t.endFeatureManipulationInternal_()},end:function(){t.endFeatureManipulationInternal_()},result:new s.default(function(e){t.featureManipulationInteraction_.getFeatures().on("add",function(i){e(i.element),t.endFeatureManipulationInternal_()})})}},e.prototype.modifyFeature=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.features=new p.default.Collection([t]),this.featureManipulationActive_&&this.endFeatureManipulationInternal_(!1),this.featureManipulationActive_=!0,i.style&&(i.style=this.map_.get("styling").getStyle(i.style)),this.featureManipulationInteraction_=new p.default.interaction.Modify(i),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",this.featureManipulationInteraction_),(0,g.default)(this.map_.getViewport()).addClass(m.cssClasses.crosshair);var n=!1;return{cancel:function(){e.endFeatureManipulationInternal_()},end:function(){n=!0,e.endFeatureManipulationInternal_()},result:new s.default(function(i){e.featureManipulationInteraction_.on("modifyend",function(){n&&i(t)}),e.featureManipulationInteraction_.once("change:active",function(){n&&i(t)})})}},e.prototype.addFeatureLayer=function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("featureLayers"),t,"featureLayer",!0)},e.prototype.addFixedFeatureLayer=function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("fixedFeatureLayers"),t,"featureLayer",!0)},e.prototype.addBaseLayer=function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("baseLayers"),t,"baseLayer",!0)},e.prototype.loadLayerFromServer=function(t){var e=this;t=t||{},t.visible=!0,t.source=t.source||{};var i=new s.default(function(i,n){var o=e.addFeatureLayer(t),s=o.getSource(),a=function(){s.un("vectorloadend",r),i(o)},r=function(){s.un("vectorloaderror",a),n("vector load error")};s.once("vectorloadend",a),s.once("vectorloaderror",r)});return i},e.prototype.createFeature=function(t){return this.layerConfigurator_.getFactory().createFeature(t)},e.prototype.removeLayer=function(t){this.map_.getLayerGroup().removeLayer(t)},e}(p.default.Object)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=i(77),s=n(o),a=i(78),r=n(a);s.default.Object.prototype.asSoonAs=function(t,e,i){var n=this;if(!r.default.isFunction(i))throw new Error("You need to provide a callback to asSoonAs.");this.get(t)===e?i():this.once("change:"+t,function(){n.asSoonAs(t,e,i)})}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.L10N=void 0;var o=i(119),s=n(o),a=i(78),r=n(a),l=i(129),c=n(l),u=i(151);e.L10N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,t),this.defaultLang_=e.defaultLanguage||"en",this.currentLang_=e.currentLanguage||this.defaultLang_,this.languageFile_=e.languageFile||"files/l10n.commented.json",e.availableLanguages?this.availableLanguages_=e.availableLanguages:(this.availableLanguages_=[this.currentLang_],this.currentLang_!==this.defaultLang_&&this.availableLanguages_.push(this.defaultLang_))}return t.prototype.getAvailableLanguages=function(){return this.availableLanguages_},t.prototype.setAvailableLanguages=function(t){this.availableLanguages_=t},t.prototype.ajaxGetLanguageFile=function(){var t=this;return r.default.ajax({type:"GET",url:this.languageFile_,dataType:"text",success:function(e){t.dictionary=JSON.parse((0,c.default)(e))},error:function(){u.Debug.error("The language file "+t.languageFile_+" couldn't be loaded or parsed")}})},t.prototype.selectL10N=function(t){if(t){if("string"==typeof t)return t;if(this.currentLang_ in t)return t[this.currentLang_];if(this.defaultLang_ in t)return t[this.defaultLang_];u.Debug.error("Unable to obtain localization")}},t.prototype.localiseUsingDictionary=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t in this.dictionary?this.selectL10N(this.dictionary[t]):void(e||u.Debug.error("Cannot localise '"+t+"': Not in dictionary"))},t.prototype.setCurrentLang=function(t){this.currentLang_=t},t.prototype.getCurrentLang=function(){return this.currentLang_},t.prototype.getDefaultLang=function(){return this.defaultLang_},t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.defaults={};i.baselayer={title:{de:"Standardtitel",en:"Default title"},type:"OSM",source:{projection:"EPSG:3857",url:{de:"//{a-c}.tile.openstreetmap.de/tiles/osmde//{z}/{x}/{y}.png",en:"//{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},attribution:{de:'Karte von <a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a>, Lizenz: <a target="_blank" href="http://opendatacommons.org/licenses/odbl/">ODbL</a>',en:'Map from <a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a>, licence: <a target="_blank" href="http://opendatacommons.org/licenses/odbl/">ODbL</a>'}}},i.config={target:"#g4u-map",interfaceProjection:"EPSG:4326",view:{center:[7.086134,50.714689],zoom:18,minZoom:0,maxZoom:18},layers:{baseLayers:[{id:0,title:i.baselayer.title,type:i.baselayer.type,source:{projection:i.baselayer.source.projection,url:i.baselayer.source.url,attribution:i.baselayer.source.attribution},visible:!0}],featureLayers:[],featureLayersElement:{title:"Default title",type:"KML",source:{loadingStrategy:"ALL"}}},controls:{},move:{animationDuration:2e3,pixelPadding:60,meterMinSize:300},styleMap:{"#defaultStyle":{fill:{color:"rgba(0,0,0,0)"},stroke:{color:"rgba(255,255,255,1)",width:2},circle:{radius:5,fill:{color:"rgba(0,0,0,0)"},stroke:{color:"rgba(255,255,255,1)",width:2}}}}}},200,,function(t,e,i){t.exports=i.p+"conf/client.commented.json"},function(t,e,i){t.exports=i.p+"conf/layers.commented.json"},function(t,e,i){t.exports=i.p+"files/l10n.json"}]))});